(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function of(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ht={},jo=[],_s=()=>{},sv=()=>!1,xu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),af=t=>t.startsWith("onUpdate:"),sn=Object.assign,lf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Z1=Object.prototype.hasOwnProperty,nt=(t,e)=>Z1.call(t,e),Ce=Array.isArray,$o=t=>Ml(t)==="[object Map]",oa=t=>Ml(t)==="[object Set]",ym=t=>Ml(t)==="[object Date]",Le=t=>typeof t=="function",Ft=t=>typeof t=="string",zs=t=>typeof t=="symbol",ft=t=>t!==null&&typeof t=="object",iv=t=>(ft(t)||Le(t))&&Le(t.then)&&Le(t.catch),rv=Object.prototype.toString,Ml=t=>rv.call(t),eT=t=>Ml(t).slice(8,-1),ov=t=>Ml(t)==="[object Object]",Pu=t=>Ft(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,el=of(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ku=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},tT=/-\w/g,us=ku(t=>t.replace(tT,e=>e.slice(1).toUpperCase())),nT=/\B([A-Z])/g,pr=ku(t=>t.replace(nT,"-$1").toLowerCase()),Ou=ku(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ld=ku(t=>t?`on${Ou(t)}`:""),Yi=(t,e)=>!Object.is(t,e),Mc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},av=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Du=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let bm;const Nu=()=>bm||(bm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fl(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ft(s)?oT(s):Fl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ft(t)||ft(t))return t}const sT=/;(?![^(]*\))/g,iT=/:([^]+)/,rT=/\/\*[^]*?\*\//g;function oT(t){const e={};return t.replace(rT,"").split(sT).forEach(n=>{if(n){const s=n.split(iT);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Fn(t){let e="";if(Ft(t))e=t;else if(Ce(t))for(let n=0;n<t.length;n++){const s=Fn(t[n]);s&&(e+=s+" ")}else if(ft(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const aT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lT=of(aT);function lv(t){return!!t||t===""}function cT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ul(t[s],e[s]);return n}function Ul(t,e){if(t===e)return!0;let n=ym(t),s=ym(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=zs(t),s=zs(e),n||s)return t===e;if(n=Ce(t),s=Ce(e),n||s)return n&&s?cT(t,e):!1;if(n=ft(t),s=ft(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!Ul(t[o],e[o]))return!1}}return String(t)===String(e)}function cf(t,e){return t.findIndex(n=>Ul(n,e))}const cv=t=>!!(t&&t.__v_isRef===!0),Ae=t=>Ft(t)?t:t==null?"":Ce(t)||ft(t)&&(t.toString===rv||!Le(t.toString))?cv(t)?Ae(t.value):JSON.stringify(t,uv,2):String(t),uv=(t,e)=>cv(e)?uv(t,e.value):$o(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Md(s,r)+" =>"]=i,n),{})}:oa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Md(n))}:zs(e)?Md(e):ft(e)&&!Ce(e)&&!ov(e)?String(e):e,Md=(t,e="")=>{var n;return zs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hn;class dv{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hn,!e&&hn&&(this.index=(hn.scopes||(hn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=hn;try{return hn=this,e()}finally{hn=n}}}on(){++this._on===1&&(this.prevScope=hn,hn=this)}off(){this._on>0&&--this._on===0&&(hn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function hv(t){return new dv(t)}function fv(){return hn}function uT(t,e=!1){hn&&hn.cleanups.push(t)}let _t;const Fd=new WeakSet;class pv{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hn&&hn.active&&hn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fd.has(this)&&(Fd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wm(this),_v(this);const e=_t,n=vs;_t=this,vs=!0;try{return this.fn()}finally{vv(this),_t=e,vs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hf(e);this.deps=this.depsTail=void 0,wm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hh(this)&&this.run()}get dirty(){return hh(this)}}let mv=0,tl,nl;function gv(t,e=!1){if(t.flags|=8,e){t.next=nl,nl=t;return}t.next=tl,tl=t}function uf(){mv++}function df(){if(--mv>0)return;if(nl){let e=nl;for(nl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;tl;){let e=tl;for(tl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function _v(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function vv(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),hf(s),dT(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function hh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(yv(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function yv(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===yl)||(t.globalVersion=yl,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!hh(t))))return;t.flags|=2;const e=t.dep,n=_t,s=vs;_t=t,vs=!0;try{_v(t);const i=t.fn(t._value);(e.version===0||Yi(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{_t=n,vs=s,vv(t),t.flags&=-3}}function hf(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)hf(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function dT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let vs=!0;const bv=[];function pi(){bv.push(vs),vs=!1}function mi(){const t=bv.pop();vs=t===void 0?!0:t}function wm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=_t;_t=void 0;try{e()}finally{_t=n}}}let yl=0;class hT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ff{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!_t||!vs||_t===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==_t)n=this.activeLink=new hT(_t,this),_t.deps?(n.prevDep=_t.depsTail,_t.depsTail.nextDep=n,_t.depsTail=n):_t.deps=_t.depsTail=n,wv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=_t.depsTail,n.nextDep=void 0,_t.depsTail.nextDep=n,_t.depsTail=n,_t.deps===n&&(_t.deps=s)}return n}trigger(e){this.version++,yl++,this.notify(e)}notify(e){uf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{df()}}}function wv(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)wv(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const eu=new WeakMap,Qr=Symbol(""),fh=Symbol(""),bl=Symbol("");function pn(t,e,n){if(vs&&_t){let s=eu.get(t);s||eu.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new ff),i.map=s,i.key=n),i.track()}}function oi(t,e,n,s,i,r){const o=eu.get(t);if(!o){yl++;return}const l=u=>{u&&u.trigger()};if(uf(),e==="clear")o.forEach(l);else{const u=Ce(t),d=u&&Pu(n);if(u&&n==="length"){const f=Number(s);o.forEach((g,y)=>{(y==="length"||y===bl||!zs(y)&&y>=f)&&l(g)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),d&&l(o.get(bl)),e){case"add":u?d&&l(o.get("length")):(l(o.get(Qr)),$o(t)&&l(o.get(fh)));break;case"delete":u||(l(o.get(Qr)),$o(t)&&l(o.get(fh)));break;case"set":$o(t)&&l(o.get(Qr));break}}df()}function fT(t,e){const n=eu.get(t);return n&&n.get(e)}function xo(t){const e=Je(t);return e===t?e:(pn(e,"iterate",bl),Kn(t)?e:e.map(bs))}function Vu(t){return pn(t=Je(t),"iterate",bl),t}function ji(t,e){return gi(t)?di(t)?Ko(bs(e)):Ko(e):bs(e)}const pT={__proto__:null,[Symbol.iterator](){return Ud(this,Symbol.iterator,t=>ji(this,t))},concat(...t){return xo(this).concat(...t.map(e=>Ce(e)?xo(e):e))},entries(){return Ud(this,"entries",t=>(t[1]=ji(this,t[1]),t))},every(t,e){return si(this,"every",t,e,void 0,arguments)},filter(t,e){return si(this,"filter",t,e,n=>n.map(s=>ji(this,s)),arguments)},find(t,e){return si(this,"find",t,e,n=>ji(this,n),arguments)},findIndex(t,e){return si(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return si(this,"findLast",t,e,n=>ji(this,n),arguments)},findLastIndex(t,e){return si(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return si(this,"forEach",t,e,void 0,arguments)},includes(...t){return jd(this,"includes",t)},indexOf(...t){return jd(this,"indexOf",t)},join(t){return xo(this).join(t)},lastIndexOf(...t){return jd(this,"lastIndexOf",t)},map(t,e){return si(this,"map",t,e,void 0,arguments)},pop(){return $a(this,"pop")},push(...t){return $a(this,"push",t)},reduce(t,...e){return Em(this,"reduce",t,e)},reduceRight(t,...e){return Em(this,"reduceRight",t,e)},shift(){return $a(this,"shift")},some(t,e){return si(this,"some",t,e,void 0,arguments)},splice(...t){return $a(this,"splice",t)},toReversed(){return xo(this).toReversed()},toSorted(t){return xo(this).toSorted(t)},toSpliced(...t){return xo(this).toSpliced(...t)},unshift(...t){return $a(this,"unshift",t)},values(){return Ud(this,"values",t=>ji(this,t))}};function Ud(t,e,n){const s=Vu(t),i=s[e]();return s!==t&&!Kn(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const mT=Array.prototype;function si(t,e,n,s,i,r){const o=Vu(t),l=o!==t&&!Kn(t),u=o[e];if(u!==mT[e]){const g=u.apply(t,r);return l?bs(g):g}let d=n;o!==t&&(l?d=function(g,y){return n.call(this,ji(t,g),y,t)}:n.length>2&&(d=function(g,y){return n.call(this,g,y,t)}));const f=u.call(o,d,s);return l&&i?i(f):f}function Em(t,e,n,s){const i=Vu(t);let r=n;return i!==t&&(Kn(t)?n.length>3&&(r=function(o,l,u){return n.call(this,o,l,u,t)}):r=function(o,l,u){return n.call(this,o,ji(t,l),u,t)}),i[e](r,...s)}function jd(t,e,n){const s=Je(t);pn(s,"iterate",bl);const i=s[e](...n);return(i===-1||i===!1)&&Lu(n[0])?(n[0]=Je(n[0]),s[e](...n)):i}function $a(t,e,n=[]){pi(),uf();const s=Je(t)[e].apply(t,n);return df(),mi(),s}const gT=of("__proto__,__v_isRef,__isVue"),Ev=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zs));function _T(t){zs(t)||(t=String(t));const e=Je(this);return pn(e,"has",t),e.hasOwnProperty(t)}class Tv{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?RT:Rv:r?Cv:Av).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Ce(e);if(!i){let u;if(o&&(u=pT[n]))return u;if(n==="hasOwnProperty")return _T}const l=Reflect.get(e,n,kt(e)?e:s);if((zs(n)?Ev.has(n):gT(n))||(i||pn(e,"get",n),r))return l;if(kt(l)){const u=o&&Pu(n)?l:l.value;return i&&ft(u)?mh(u):u}return ft(l)?i?mh(l):jl(l):l}}class Iv extends Tv{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];const o=Ce(e)&&Pu(n);if(!this._isShallow){const d=gi(r);if(!Kn(s)&&!gi(s)&&(r=Je(r),s=Je(s)),!o&&kt(r)&&!kt(s))return d||(r.value=s),!0}const l=o?Number(n)<e.length:nt(e,n),u=Reflect.set(e,n,s,kt(e)?e:i);return e===Je(i)&&(l?Yi(s,r)&&oi(e,"set",n,s):oi(e,"add",n,s)),u}deleteProperty(e,n){const s=nt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&oi(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!zs(n)||!Ev.has(n))&&pn(e,"has",n),s}ownKeys(e){return pn(e,"iterate",Ce(e)?"length":Qr),Reflect.ownKeys(e)}}class vT extends Tv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const yT=new Iv,bT=new vT,wT=new Iv(!0);const ph=t=>t,Ac=t=>Reflect.getPrototypeOf(t);function ET(t,e,n){return function(...s){const i=this.__v_raw,r=Je(i),o=$o(r),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,d=i[t](...s),f=n?ph:e?Ko:bs;return!e&&pn(r,"iterate",u?fh:Qr),{next(){const{value:g,done:y}=d.next();return y?{value:g,done:y}:{value:l?[f(g[0]),f(g[1])]:f(g),done:y}},[Symbol.iterator](){return this}}}}function Cc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function TT(t,e){const n={get(i){const r=this.__v_raw,o=Je(r),l=Je(i);t||(Yi(i,l)&&pn(o,"get",i),pn(o,"get",l));const{has:u}=Ac(o),d=e?ph:t?Ko:bs;if(u.call(o,i))return d(r.get(i));if(u.call(o,l))return d(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&pn(Je(i),"iterate",Qr),i.size},has(i){const r=this.__v_raw,o=Je(r),l=Je(i);return t||(Yi(i,l)&&pn(o,"has",i),pn(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,u=Je(l),d=e?ph:t?Ko:bs;return!t&&pn(u,"iterate",Qr),l.forEach((f,g)=>i.call(r,d(f),d(g),o))}};return sn(n,t?{add:Cc("add"),set:Cc("set"),delete:Cc("delete"),clear:Cc("clear")}:{add(i){!e&&!Kn(i)&&!gi(i)&&(i=Je(i));const r=Je(this);return Ac(r).has.call(r,i)||(r.add(i),oi(r,"add",i,i)),this},set(i,r){!e&&!Kn(r)&&!gi(r)&&(r=Je(r));const o=Je(this),{has:l,get:u}=Ac(o);let d=l.call(o,i);d||(i=Je(i),d=l.call(o,i));const f=u.call(o,i);return o.set(i,r),d?Yi(r,f)&&oi(o,"set",i,r):oi(o,"add",i,r),this},delete(i){const r=Je(this),{has:o,get:l}=Ac(r);let u=o.call(r,i);u||(i=Je(i),u=o.call(r,i)),l&&l.call(r,i);const d=r.delete(i);return u&&oi(r,"delete",i,void 0),d},clear(){const i=Je(this),r=i.size!==0,o=i.clear();return r&&oi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=ET(i,t,e)}),n}function pf(t,e){const n=TT(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(nt(n,i)&&i in s?n:s,i,r)}const IT={get:pf(!1,!1)},AT={get:pf(!1,!0)},CT={get:pf(!0,!1)};const Av=new WeakMap,Cv=new WeakMap,Rv=new WeakMap,RT=new WeakMap;function ST(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xT(t){return t.__v_skip||!Object.isExtensible(t)?0:ST(eT(t))}function jl(t){return gi(t)?t:mf(t,!1,yT,IT,Av)}function Sv(t){return mf(t,!1,wT,AT,Cv)}function mh(t){return mf(t,!0,bT,CT,Rv)}function mf(t,e,n,s,i){if(!ft(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=xT(t);if(r===0)return t;const o=i.get(t);if(o)return o;const l=new Proxy(t,r===2?s:n);return i.set(t,l),l}function di(t){return gi(t)?di(t.__v_raw):!!(t&&t.__v_isReactive)}function gi(t){return!!(t&&t.__v_isReadonly)}function Kn(t){return!!(t&&t.__v_isShallow)}function Lu(t){return t?!!t.__v_raw:!1}function Je(t){const e=t&&t.__v_raw;return e?Je(e):t}function gf(t){return!nt(t,"__v_skip")&&Object.isExtensible(t)&&av(t,"__v_skip",!0),t}const bs=t=>ft(t)?jl(t):t,Ko=t=>ft(t)?mh(t):t;function kt(t){return t?t.__v_isRef===!0:!1}function _f(t){return xv(t,!1)}function PT(t){return xv(t,!0)}function xv(t,e){return kt(t)?t:new kT(t,e)}class kT{constructor(e,n){this.dep=new ff,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Je(e),this._value=n?e:bs(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Kn(e)||gi(e);e=s?e:Je(e),Yi(e,n)&&(this._rawValue=e,this._value=s?e:bs(e),this.dep.trigger())}}function Yr(t){return kt(t)?t.value:t}const OT={get:(t,e,n)=>e==="__v_raw"?t:Yr(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return kt(i)&&!kt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Pv(t){return di(t)?t:new Proxy(t,OT)}function DT(t){const e=Ce(t)?new Array(t.length):{};for(const n in t)e[n]=VT(t,n);return e}class NT{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=Je(e);let i=!0,r=e;if(!Ce(e)||!Pu(String(n)))do i=!Lu(r)||Kn(r);while(i&&(r=r.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=Yr(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&kt(this._raw[this._key])){const n=this._object[this._key];if(kt(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return fT(this._raw,this._key)}}function VT(t,e,n){return new NT(t,e,n)}class LT{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ff(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&_t!==this)return gv(this,!0),!0}get value(){const e=this.dep.track();return yv(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function MT(t,e,n=!1){let s,i;return Le(t)?s=t:(s=t.get,i=t.set),new LT(s,i,n)}const Rc={},tu=new WeakMap;let Hr;function FT(t,e=!1,n=Hr){if(n){let s=tu.get(n);s||tu.set(n,s=[]),s.push(t)}}function UT(t,e,n=ht){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:u}=n,d=ee=>i?ee:Kn(ee)||i===!1||i===0?ai(ee,1):ai(ee);let f,g,y,E,O=!1,L=!1;if(kt(t)?(g=()=>t.value,O=Kn(t)):di(t)?(g=()=>d(t),O=!0):Ce(t)?(L=!0,O=t.some(ee=>di(ee)||Kn(ee)),g=()=>t.map(ee=>{if(kt(ee))return ee.value;if(di(ee))return d(ee);if(Le(ee))return u?u(ee,2):ee()})):Le(t)?e?g=u?()=>u(t,2):t:g=()=>{if(y){pi();try{y()}finally{mi()}}const ee=Hr;Hr=f;try{return u?u(t,3,[E]):t(E)}finally{Hr=ee}}:g=_s,e&&i){const ee=g,pe=i===!0?1/0:i;g=()=>ai(ee(),pe)}const M=fv(),H=()=>{f.stop(),M&&M.active&&lf(M.effects,f)};if(r&&e){const ee=e;e=(...pe)=>{ee(...pe),H()}}let z=L?new Array(t.length).fill(Rc):Rc;const G=ee=>{if(!(!(f.flags&1)||!f.dirty&&!ee))if(e){const pe=f.run();if(i||O||(L?pe.some((Ee,S)=>Yi(Ee,z[S])):Yi(pe,z))){y&&y();const Ee=Hr;Hr=f;try{const S=[pe,z===Rc?void 0:L&&z[0]===Rc?[]:z,E];z=pe,u?u(e,3,S):e(...S)}finally{Hr=Ee}}}else f.run()};return l&&l(G),f=new pv(g),f.scheduler=o?()=>o(G,!1):G,E=ee=>FT(ee,!1,f),y=f.onStop=()=>{const ee=tu.get(f);if(ee){if(u)u(ee,4);else for(const pe of ee)pe();tu.delete(f)}},e?s?G(!0):z=f.run():o?o(G.bind(null,!0),!0):f.run(),H.pause=f.pause.bind(f),H.resume=f.resume.bind(f),H.stop=H,H}function ai(t,e=1/0,n){if(e<=0||!ft(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,kt(t))ai(t.value,e,n);else if(Ce(t))for(let s=0;s<t.length;s++)ai(t[s],e,n);else if(oa(t)||$o(t))t.forEach(s=>{ai(s,e,n)});else if(ov(t)){for(const s in t)ai(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ai(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $l(t,e,n,s){try{return s?t(...s):t()}catch(i){Mu(i,e,n)}}function Gs(t,e,n,s){if(Le(t)){const i=$l(t,e,n,s);return i&&iv(i)&&i.catch(r=>{Mu(r,e,n)}),i}if(Ce(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Gs(t[r],e,n,s));return i}}function Mu(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ht;if(e){let l=e.parent;const u=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](t,u,d)===!1)return}l=l.parent}if(r){pi(),$l(r,null,10,[t,u,d]),mi();return}}jT(t,n,i,s,o)}function jT(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Pn=[];let Ns=-1;const Bo=[];let $i=null,Do=0;const kv=Promise.resolve();let nu=null;function Fu(t){const e=nu||kv;return t?e.then(this?t.bind(this):t):e}function $T(t){let e=Ns+1,n=Pn.length;for(;e<n;){const s=e+n>>>1,i=Pn[s],r=wl(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function vf(t){if(!(t.flags&1)){const e=wl(t),n=Pn[Pn.length-1];!n||!(t.flags&2)&&e>=wl(n)?Pn.push(t):Pn.splice($T(e),0,t),t.flags|=1,Ov()}}function Ov(){nu||(nu=kv.then(Nv))}function BT(t){Ce(t)?Bo.push(...t):$i&&t.id===-1?$i.splice(Do+1,0,t):t.flags&1||(Bo.push(t),t.flags|=1),Ov()}function Tm(t,e,n=Ns+1){for(;n<Pn.length;n++){const s=Pn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Pn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Dv(t){if(Bo.length){const e=[...new Set(Bo)].sort((n,s)=>wl(n)-wl(s));if(Bo.length=0,$i){$i.push(...e);return}for($i=e,Do=0;Do<$i.length;Do++){const n=$i[Do];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$i=null,Do=0}}const wl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Nv(t){const e=_s;try{for(Ns=0;Ns<Pn.length;Ns++){const n=Pn[Ns];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),$l(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Ns<Pn.length;Ns++){const n=Pn[Ns];n&&(n.flags&=-2)}Ns=-1,Pn.length=0,Dv(),nu=null,(Pn.length||Bo.length)&&Nv()}}let Hn=null,Vv=null;function su(t){const e=Hn;return Hn=t,Vv=t&&t.type.__scopeId||null,e}function be(t,e=Hn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&ou(-1);const r=su(e);let o;try{o=t(...i)}finally{su(r),s._d&&ou(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function sl(t,e){if(Hn===null)return t;const n=Bu(Hn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,u=ht]=e[i];r&&(Le(r)&&(r={mounted:r,updated:r}),r.deep&&ai(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function Br(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let u=l.dir[s];u&&(pi(),Gs(u,n,8,[t.el,l,t,e]),mi())}}function Fc(t,e){if(gn){let n=gn.provides;const s=gn.parent&&gn.parent.provides;s===n&&(n=gn.provides=Object.create(s)),n[t]=e}}function ys(t,e,n=!1){const s=uy();if(s||Xr){let i=Xr?Xr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Le(e)?e.call(s&&s.proxy):e}}function qT(){return!!(uy()||Xr)}const HT=Symbol.for("v-scx"),zT=()=>ys(HT);function il(t,e,n){return Lv(t,e,n)}function Lv(t,e,n=ht){const{immediate:s,deep:i,flush:r,once:o}=n,l=sn({},n),u=e&&s||!e&&r!=="post";let d;if(Tl){if(r==="sync"){const E=zT();d=E.__watcherHandles||(E.__watcherHandles=[])}else if(!u){const E=()=>{};return E.stop=_s,E.resume=_s,E.pause=_s,E}}const f=gn;l.call=(E,O,L)=>Gs(E,f,O,L);let g=!1;r==="post"?l.scheduler=E=>{Sn(E,f&&f.suspense)}:r!=="sync"&&(g=!0,l.scheduler=(E,O)=>{O?E():vf(E)}),l.augmentJob=E=>{e&&(E.flags|=4),g&&(E.flags|=2,f&&(E.id=f.uid,E.i=f))};const y=UT(t,e,l);return Tl&&(d?d.push(y):u&&y()),y}function GT(t,e,n){const s=this.proxy,i=Ft(t)?t.includes(".")?Mv(s,t):()=>s[t]:t.bind(s,s);let r;Le(e)?r=e:(r=e.handler,n=e);const o=Bl(this),l=Lv(i,r.bind(s),n);return o(),l}function Mv(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Fv=Symbol("_vte"),WT=t=>t.__isTeleport,rl=t=>t&&(t.disabled||t.disabled===""),Im=t=>t&&(t.defer||t.defer===""),Am=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Cm=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,gh=(t,e)=>{const n=t&&t.to;return Ft(n)?e?e(n):null:n},Uv={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,l,u,d){const{mc:f,pc:g,pbc:y,o:{insert:E,querySelector:O,createText:L,createComment:M}}=d,H=rl(e.props);let{shapeFlag:z,children:G,dynamicChildren:ee}=e;if(t==null){const pe=e.el=L(""),Ee=e.anchor=L("");E(pe,n,s),E(Ee,n,s);const S=(I,x)=>{z&16&&f(G,I,x,i,r,o,l,u)},T=()=>{const I=e.target=gh(e.props,O),x=$v(I,e,L,E);I&&(o!=="svg"&&Am(I)?o="svg":o!=="mathml"&&Cm(I)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(I),H||(S(I,x),Uc(e,!1)))};H&&(S(n,Ee),Uc(e,!0)),Im(e.props)?(e.el.__isMounted=!1,Sn(()=>{T(),delete e.el.__isMounted},r)):T()}else{if(Im(e.props)&&t.el.__isMounted===!1){Sn(()=>{Uv.process(t,e,n,s,i,r,o,l,u,d)},r);return}e.el=t.el,e.targetStart=t.targetStart;const pe=e.anchor=t.anchor,Ee=e.target=t.target,S=e.targetAnchor=t.targetAnchor,T=rl(t.props),I=T?n:Ee,x=T?pe:S;if(o==="svg"||Am(Ee)?o="svg":(o==="mathml"||Cm(Ee))&&(o="mathml"),ee?(y(t.dynamicChildren,ee,I,i,r,o,l),Tf(t,e,!0)):u||g(t,e,I,x,i,r,o,l,!1),H)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Sc(e,n,pe,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=gh(e.props,O);P&&Sc(e,P,null,d,0)}else T&&Sc(e,Ee,S,d,1);Uc(e,H)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:l,anchor:u,targetStart:d,targetAnchor:f,target:g,props:y}=t;if(g&&(i(d),i(f)),r&&i(u),o&16){const E=r||!rl(y);for(let O=0;O<l.length;O++){const L=l[O];s(L,e,n,E,!!L.dynamicChildren)}}},move:Sc,hydrate:KT};function Sc(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:l,shapeFlag:u,children:d,props:f}=t,g=r===2;if(g&&s(o,e,n),(!g||rl(f))&&u&16)for(let y=0;y<d.length;y++)i(d[y],e,n,2);g&&s(l,e,n)}function KT(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:l,querySelector:u,insert:d,createText:f}},g){function y(L,M,H,z){M.anchor=g(o(L),M,l(L),n,s,i,r),M.targetStart=H,M.targetAnchor=z}const E=e.target=gh(e.props,u),O=rl(e.props);if(E){const L=E._lpa||E.firstChild;if(e.shapeFlag&16)if(O)y(t,e,L,L&&o(L));else{e.anchor=o(t);let M=L;for(;M;){if(M&&M.nodeType===8){if(M.data==="teleport start anchor")e.targetStart=M;else if(M.data==="teleport anchor"){e.targetAnchor=M,E._lpa=e.targetAnchor&&o(e.targetAnchor);break}}M=o(M)}e.targetAnchor||$v(E,e,f,d),g(L&&o(L),e,E,n,s,i,r)}Uc(e,O)}else O&&e.shapeFlag&16&&y(t,e,t,o(t));return e.anchor&&o(e.anchor)}const jv=Uv;function Uc(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function $v(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[Fv]=r,t&&(s(i,t),s(r,t)),r}const QT=Symbol("_leaveCb");function yf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,yf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Bv(t,e){return Le(t)?(()=>sn({name:t.name},e,{setup:t}))():t}function qv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const iu=new WeakMap;function ol(t,e,n,s,i=!1){if(Ce(t)){t.forEach((O,L)=>ol(O,e&&(Ce(e)?e[L]:e),n,s,i));return}if(al(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ol(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Bu(s.component):s.el,o=i?null:r,{i:l,r:u}=t,d=e&&e.r,f=l.refs===ht?l.refs={}:l.refs,g=l.setupState,y=Je(g),E=g===ht?sv:O=>nt(y,O);if(d!=null&&d!==u){if(Rm(e),Ft(d))f[d]=null,E(d)&&(g[d]=null);else if(kt(d)){d.value=null;const O=e;O.k&&(f[O.k]=null)}}if(Le(u))$l(u,l,12,[o,f]);else{const O=Ft(u),L=kt(u);if(O||L){const M=()=>{if(t.f){const H=O?E(u)?g[u]:f[u]:u.value;if(i)Ce(H)&&lf(H,r);else if(Ce(H))H.includes(r)||H.push(r);else if(O)f[u]=[r],E(u)&&(g[u]=f[u]);else{const z=[r];u.value=z,t.k&&(f[t.k]=z)}}else O?(f[u]=o,E(u)&&(g[u]=o)):L&&(u.value=o,t.k&&(f[t.k]=o))};if(o){const H=()=>{M(),iu.delete(t)};H.id=-1,iu.set(t,H),Sn(H,n)}else Rm(t),M()}}}function Rm(t){const e=iu.get(t);e&&(e.flags|=8,iu.delete(t))}Nu().requestIdleCallback;Nu().cancelIdleCallback;const al=t=>!!t.type.__asyncLoader,Hv=t=>t.type.__isKeepAlive;function YT(t,e){zv(t,"a",e)}function XT(t,e){zv(t,"da",e)}function zv(t,e,n=gn){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Uu(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Hv(i.parent.vnode)&&JT(s,e,n,i),i=i.parent}}function JT(t,e,n,s){const i=Uu(e,t,s,!0);Gv(()=>{lf(s[e],i)},n)}function Uu(t,e,n=gn,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{pi();const l=Bl(n),u=Gs(e,n,t,o);return l(),mi(),u});return s?i.unshift(r):i.push(r),r}}const wi=t=>(e,n=gn)=>{(!Tl||t==="sp")&&Uu(t,(...s)=>e(...s),n)},ZT=wi("bm"),e0=wi("m"),t0=wi("bu"),n0=wi("u"),s0=wi("bum"),Gv=wi("um"),i0=wi("sp"),r0=wi("rtg"),o0=wi("rtc");function a0(t,e=gn){Uu("ec",t,e)}const Wv="components";function kn(t,e){return c0(Wv,t,!0,e)||t}const l0=Symbol.for("v-ndc");function c0(t,e,n=!0,s=!1){const i=Hn||gn;if(i){const r=i.type;if(t===Wv){const l=W0(r,!1);if(l&&(l===e||l===us(e)||l===Ou(us(e))))return r}const o=Sm(i[t]||r[t],e)||Sm(i.appContext[t],e);return!o&&s?r:o}}function Sm(t,e){return t&&(t[e]||t[us(e)]||t[Ou(us(e))])}function ir(t,e,n,s){let i;const r=n&&n[s],o=Ce(t);if(o||Ft(t)){const l=o&&di(t);let u=!1,d=!1;l&&(u=!Kn(t),d=gi(t),t=Vu(t)),i=new Array(t.length);for(let f=0,g=t.length;f<g;f++)i[f]=e(u?d?Ko(bs(t[f])):bs(t[f]):t[f],f,void 0,r&&r[f])}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r&&r[l])}else if(ft(t))if(t[Symbol.iterator])i=Array.from(t,(l,u)=>e(l,u,void 0,r&&r[u]));else{const l=Object.keys(t);i=new Array(l.length);for(let u=0,d=l.length;u<d;u++){const f=l[u];i[u]=e(t[f],f,u,r&&r[u])}}else i=[];return n&&(n[s]=i),i}const _h=t=>t?dy(t)?Bu(t):_h(t.parent):null,ll=sn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_h(t.parent),$root:t=>_h(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bf(t),$forceUpdate:t=>t.f||(t.f=()=>{vf(t.update)}),$nextTick:t=>t.n||(t.n=Fu.bind(t.proxy)),$watch:t=>GT.bind(t)}),$d=(t,e)=>t!==ht&&!t.__isScriptSetup&&nt(t,e),u0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:u}=t;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if($d(s,e))return o[e]=1,s[e];if(i!==ht&&nt(i,e))return o[e]=2,i[e];if(nt(r,e))return o[e]=3,r[e];if(n!==ht&&nt(n,e))return o[e]=4,n[e];vh&&(o[e]=0)}}const d=ll[e];let f,g;if(d)return e==="$attrs"&&pn(t.attrs,"get",""),d(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==ht&&nt(n,e))return o[e]=4,n[e];if(g=u.config.globalProperties,nt(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return $d(i,e)?(i[e]=n,!0):s!==ht&&nt(s,e)?(s[e]=n,!0):nt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,props:r,type:o}},l){let u;return!!(n[l]||t!==ht&&l[0]!=="$"&&nt(t,l)||$d(e,l)||nt(r,l)||nt(s,l)||nt(ll,l)||nt(i.config.globalProperties,l)||(u=o.__cssModules)&&u[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:nt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function xm(t){return Ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let vh=!0;function d0(t){const e=bf(t),n=t.proxy,s=t.ctx;vh=!1,e.beforeCreate&&Pm(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:u,inject:d,created:f,beforeMount:g,mounted:y,beforeUpdate:E,updated:O,activated:L,deactivated:M,beforeDestroy:H,beforeUnmount:z,destroyed:G,unmounted:ee,render:pe,renderTracked:Ee,renderTriggered:S,errorCaptured:T,serverPrefetch:I,expose:x,inheritAttrs:P,components:N,directives:C,filters:yt}=e;if(d&&h0(d,s,null),o)for(const Pe in o){const Be=o[Pe];Le(Be)&&(s[Pe]=Be.bind(n))}if(i){const Pe=i.call(n,n);ft(Pe)&&(t.data=jl(Pe))}if(vh=!0,r)for(const Pe in r){const Be=r[Pe],cn=Le(Be)?Be.bind(n,n):Le(Be.get)?Be.get.bind(n,n):_s,Un=!Le(Be)&&Le(Be.set)?Be.set.bind(n):_s,K=Ln({get:cn,set:Un});Object.defineProperty(s,Pe,{enumerable:!0,configurable:!0,get:()=>K.value,set:Ot=>K.value=Ot})}if(l)for(const Pe in l)Kv(l[Pe],s,n,Pe);if(u){const Pe=Le(u)?u.call(n):u;Reflect.ownKeys(Pe).forEach(Be=>{Fc(Be,Pe[Be])})}f&&Pm(f,t,"c");function it(Pe,Be){Ce(Be)?Be.forEach(cn=>Pe(cn.bind(n))):Be&&Pe(Be.bind(n))}if(it(ZT,g),it(e0,y),it(t0,E),it(n0,O),it(YT,L),it(XT,M),it(a0,T),it(o0,Ee),it(r0,S),it(s0,z),it(Gv,ee),it(i0,I),Ce(x))if(x.length){const Pe=t.exposed||(t.exposed={});x.forEach(Be=>{Object.defineProperty(Pe,Be,{get:()=>n[Be],set:cn=>n[Be]=cn,enumerable:!0})})}else t.exposed||(t.exposed={});pe&&t.render===_s&&(t.render=pe),P!=null&&(t.inheritAttrs=P),N&&(t.components=N),C&&(t.directives=C),I&&qv(t)}function h0(t,e,n=_s){Ce(t)&&(t=yh(t));for(const s in t){const i=t[s];let r;ft(i)?"default"in i?r=ys(i.from||s,i.default,!0):r=ys(i.from||s):r=ys(i),kt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Pm(t,e,n){Gs(Ce(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Kv(t,e,n,s){let i=s.includes(".")?Mv(n,s):()=>n[s];if(Ft(t)){const r=e[t];Le(r)&&il(i,r)}else if(Le(t))il(i,t.bind(n));else if(ft(t))if(Ce(t))t.forEach(r=>Kv(r,e,n,s));else{const r=Le(t.handler)?t.handler.bind(n):e[t.handler];Le(r)&&il(i,r,t)}}function bf(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let u;return l?u=l:!i.length&&!n&&!s?u=e:(u={},i.length&&i.forEach(d=>ru(u,d,o,!0)),ru(u,e,o)),ft(e)&&r.set(e,u),u}function ru(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&ru(t,r,n,!0),i&&i.forEach(o=>ru(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=f0[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const f0={data:km,props:Om,emits:Om,methods:Ga,computed:Ga,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:Ga,directives:Ga,watch:m0,provide:km,inject:p0};function km(t,e){return e?t?function(){return sn(Le(t)?t.call(this,this):t,Le(e)?e.call(this,this):e)}:e:t}function p0(t,e){return Ga(yh(t),yh(e))}function yh(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ga(t,e){return t?sn(Object.create(null),t,e):e}function Om(t,e){return t?Ce(t)&&Ce(e)?[...new Set([...t,...e])]:sn(Object.create(null),xm(t),xm(e??{})):e}function m0(t,e){if(!t)return e;if(!e)return t;const n=sn(Object.create(null),t);for(const s in e)n[s]=Rn(t[s],e[s]);return n}function Qv(){return{app:null,config:{isNativeTag:sv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let g0=0;function _0(t,e){return function(s,i=null){Le(s)||(s=sn({},s)),i!=null&&!ft(i)&&(i=null);const r=Qv(),o=new WeakSet,l=[];let u=!1;const d=r.app={_uid:g0++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Q0,get config(){return r.config},set config(f){},use(f,...g){return o.has(f)||(f&&Le(f.install)?(o.add(f),f.install(d,...g)):Le(f)&&(o.add(f),f(d,...g))),d},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),d},component(f,g){return g?(r.components[f]=g,d):r.components[f]},directive(f,g){return g?(r.directives[f]=g,d):r.directives[f]},mount(f,g,y){if(!u){const E=d._ceVNode||ce(s,i);return E.appContext=r,y===!0?y="svg":y===!1&&(y=void 0),g&&e?e(E,f):t(E,f,y),u=!0,d._container=f,f.__vue_app__=d,Bu(E.component)}},onUnmount(f){l.push(f)},unmount(){u&&(Gs(l,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(f,g){return r.provides[f]=g,d},runWithContext(f){const g=Xr;Xr=d;try{return f()}finally{Xr=g}}};return d}}let Xr=null;const v0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${us(e)}Modifiers`]||t[`${pr(e)}Modifiers`];function y0(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ht;let i=n;const r=e.startsWith("update:"),o=r&&v0(s,e.slice(7));o&&(o.trim&&(i=n.map(f=>Ft(f)?f.trim():f)),o.number&&(i=n.map(Du)));let l,u=s[l=Ld(e)]||s[l=Ld(us(e))];!u&&r&&(u=s[l=Ld(pr(e))]),u&&Gs(u,t,6,i);const d=s[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Gs(d,t,6,i)}}const b0=new WeakMap;function Yv(t,e,n=!1){const s=n?b0:e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!Le(t)){const u=d=>{const f=Yv(d,e,!0);f&&(l=!0,sn(o,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!r&&!l?(ft(t)&&s.set(t,null),null):(Ce(r)?r.forEach(u=>o[u]=null):sn(o,r),ft(t)&&s.set(t,o),o)}function ju(t,e){return!t||!xu(e)?!1:(e=e.slice(2).replace(/Once$/,""),nt(t,e[0].toLowerCase()+e.slice(1))||nt(t,pr(e))||nt(t,e))}function Bd(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:u,render:d,renderCache:f,props:g,data:y,setupState:E,ctx:O,inheritAttrs:L}=t,M=su(t);let H,z;try{if(n.shapeFlag&4){const ee=i||s,pe=ee;H=Ls(d.call(pe,ee,f,g,E,y,O)),z=l}else{const ee=e;H=Ls(ee.length>1?ee(g,{attrs:l,slots:o,emit:u}):ee(g,null)),z=e.props?l:w0(l)}}catch(ee){cl.length=0,Mu(ee,t,1),H=ce(rr)}let G=H;if(z&&L!==!1){const ee=Object.keys(z),{shapeFlag:pe}=G;ee.length&&pe&7&&(r&&ee.some(af)&&(z=E0(z,r)),G=Qo(G,z,!1,!0))}return n.dirs&&(G=Qo(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&yf(G,n.transition),H=G,su(M),H}const w0=t=>{let e;for(const n in t)(n==="class"||n==="style"||xu(n))&&((e||(e={}))[n]=t[n]);return e},E0=(t,e)=>{const n={};for(const s in t)(!af(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function T0(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:u}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Dm(s,o,d):!!o;if(u&8){const f=e.dynamicProps;for(let g=0;g<f.length;g++){const y=f[g];if(o[y]!==s[y]&&!ju(d,y))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Dm(s,o,d):!0:!!o;return!1}function Dm(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!ju(n,r))return!0}return!1}function I0({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xv={},Jv=()=>Object.create(Xv),Zv=t=>Object.getPrototypeOf(t)===Xv;function A0(t,e,n,s=!1){const i={},r=Jv();t.propsDefaults=Object.create(null),ey(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Sv(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function C0(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=Je(i),[u]=t.propsOptions;let d=!1;if((s||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let g=0;g<f.length;g++){let y=f[g];if(ju(t.emitsOptions,y))continue;const E=e[y];if(u)if(nt(r,y))E!==r[y]&&(r[y]=E,d=!0);else{const O=us(y);i[O]=bh(u,l,O,E,t,!1)}else E!==r[y]&&(r[y]=E,d=!0)}}}else{ey(t,e,i,r)&&(d=!0);let f;for(const g in l)(!e||!nt(e,g)&&((f=pr(g))===g||!nt(e,f)))&&(u?n&&(n[g]!==void 0||n[f]!==void 0)&&(i[g]=bh(u,l,g,void 0,t,!0)):delete i[g]);if(r!==l)for(const g in r)(!e||!nt(e,g))&&(delete r[g],d=!0)}d&&oi(t.attrs,"set","")}function ey(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(el(u))continue;const d=e[u];let f;i&&nt(i,f=us(u))?!r||!r.includes(f)?n[f]=d:(l||(l={}))[f]=d:ju(t.emitsOptions,u)||(!(u in s)||d!==s[u])&&(s[u]=d,o=!0)}if(r){const u=Je(n),d=l||ht;for(let f=0;f<r.length;f++){const g=r[f];n[g]=bh(i,u,g,d[g],t,!nt(d,g))}}return o}function bh(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=nt(o,"default");if(l&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Le(u)){const{propsDefaults:d}=i;if(n in d)s=d[n];else{const f=Bl(i);s=d[n]=u.call(null,e),f()}}else s=u;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===pr(n))&&(s=!0))}return s}const R0=new WeakMap;function ty(t,e,n=!1){const s=n?R0:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let u=!1;if(!Le(t)){const f=g=>{u=!0;const[y,E]=ty(g,e,!0);sn(o,y),E&&l.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!r&&!u)return ft(t)&&s.set(t,jo),jo;if(Ce(r))for(let f=0;f<r.length;f++){const g=us(r[f]);Nm(g)&&(o[g]=ht)}else if(r)for(const f in r){const g=us(f);if(Nm(g)){const y=r[f],E=o[g]=Ce(y)||Le(y)?{type:y}:sn({},y),O=E.type;let L=!1,M=!0;if(Ce(O))for(let H=0;H<O.length;++H){const z=O[H],G=Le(z)&&z.name;if(G==="Boolean"){L=!0;break}else G==="String"&&(M=!1)}else L=Le(O)&&O.name==="Boolean";E[0]=L,E[1]=M,(L||nt(E,"default"))&&l.push(g)}}const d=[o,l];return ft(t)&&s.set(t,d),d}function Nm(t){return t[0]!=="$"&&!el(t)}const wf=t=>t==="_"||t==="_ctx"||t==="$stable",Ef=t=>Ce(t)?t.map(Ls):[Ls(t)],S0=(t,e,n)=>{if(e._n)return e;const s=be((...i)=>Ef(e(...i)),n);return s._c=!1,s},ny=(t,e,n)=>{const s=t._ctx;for(const i in t){if(wf(i))continue;const r=t[i];if(Le(r))e[i]=S0(i,r,s);else if(r!=null){const o=Ef(r);e[i]=()=>o}}},sy=(t,e)=>{const n=Ef(e);t.slots.default=()=>n},iy=(t,e,n)=>{for(const s in e)(n||!wf(s))&&(t[s]=e[s])},x0=(t,e,n)=>{const s=t.slots=Jv();if(t.vnode.shapeFlag&32){const i=e._;i?(iy(s,e,n),n&&av(s,"_",i,!0)):ny(e,s)}else e&&sy(t,e)},P0=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=ht;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:iy(i,e,n):(r=!e.$stable,ny(e,i)),o=e}else e&&(sy(t,e),o={default:1});if(r)for(const l in i)!wf(l)&&o[l]==null&&delete i[l]},Sn=V0;function k0(t){return O0(t)}function O0(t,e){const n=Nu();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:u,setText:d,setElementText:f,parentNode:g,nextSibling:y,setScopeId:E=_s,insertStaticContent:O}=t,L=(A,R,F,Y=null,q=null,J=null,le=void 0,ne=null,te=!!R.dynamicChildren)=>{if(A===R)return;A&&!Ba(A,R)&&(Y=B(A),Ot(A,q,J,!0),A=null),R.patchFlag===-2&&(te=!1,R.dynamicChildren=null);const{type:Z,ref:Ie,shapeFlag:ue}=R;switch(Z){case $u:M(A,R,F,Y);break;case rr:H(A,R,F,Y);break;case jc:A==null&&z(R,F,Y,le);break;case nn:N(A,R,F,Y,q,J,le,ne,te);break;default:ue&1?pe(A,R,F,Y,q,J,le,ne,te):ue&6?C(A,R,F,Y,q,J,le,ne,te):(ue&64||ue&128)&&Z.process(A,R,F,Y,q,J,le,ne,te,ye)}Ie!=null&&q?ol(Ie,A&&A.ref,J,R||A,!R):Ie==null&&A&&A.ref!=null&&ol(A.ref,null,J,A,!0)},M=(A,R,F,Y)=>{if(A==null)s(R.el=l(R.children),F,Y);else{const q=R.el=A.el;R.children!==A.children&&d(q,R.children)}},H=(A,R,F,Y)=>{A==null?s(R.el=u(R.children||""),F,Y):R.el=A.el},z=(A,R,F,Y)=>{[A.el,A.anchor]=O(A.children,R,F,Y,A.el,A.anchor)},G=({el:A,anchor:R},F,Y)=>{let q;for(;A&&A!==R;)q=y(A),s(A,F,Y),A=q;s(R,F,Y)},ee=({el:A,anchor:R})=>{let F;for(;A&&A!==R;)F=y(A),i(A),A=F;i(R)},pe=(A,R,F,Y,q,J,le,ne,te)=>{if(R.type==="svg"?le="svg":R.type==="math"&&(le="mathml"),A==null)Ee(R,F,Y,q,J,le,ne,te);else{const Z=A.el&&A.el._isVueCE?A.el:null;try{Z&&Z._beginPatch(),I(A,R,q,J,le,ne,te)}finally{Z&&Z._endPatch()}}},Ee=(A,R,F,Y,q,J,le,ne)=>{let te,Z;const{props:Ie,shapeFlag:ue,transition:ve,dirs:we}=A;if(te=A.el=o(A.type,J,Ie&&Ie.is,Ie),ue&8?f(te,A.children):ue&16&&T(A.children,te,null,Y,q,qd(A,J),le,ne),we&&Br(A,null,Y,"created"),S(te,A,A.scopeId,le,Y),Ie){for(const Ze in Ie)Ze!=="value"&&!el(Ze)&&r(te,Ze,null,Ie[Ze],J,Y);"value"in Ie&&r(te,"value",null,Ie.value,J),(Z=Ie.onVnodeBeforeMount)&&Ds(Z,Y,A)}we&&Br(A,null,Y,"beforeMount");const je=D0(q,ve);je&&ve.beforeEnter(te),s(te,R,F),((Z=Ie&&Ie.onVnodeMounted)||je||we)&&Sn(()=>{Z&&Ds(Z,Y,A),je&&ve.enter(te),we&&Br(A,null,Y,"mounted")},q)},S=(A,R,F,Y,q)=>{if(F&&E(A,F),Y)for(let J=0;J<Y.length;J++)E(A,Y[J]);if(q){let J=q.subTree;if(R===J||ay(J.type)&&(J.ssContent===R||J.ssFallback===R)){const le=q.vnode;S(A,le,le.scopeId,le.slotScopeIds,q.parent)}}},T=(A,R,F,Y,q,J,le,ne,te=0)=>{for(let Z=te;Z<A.length;Z++){const Ie=A[Z]=ne?Bi(A[Z]):Ls(A[Z]);L(null,Ie,R,F,Y,q,J,le,ne)}},I=(A,R,F,Y,q,J,le)=>{const ne=R.el=A.el;let{patchFlag:te,dynamicChildren:Z,dirs:Ie}=R;te|=A.patchFlag&16;const ue=A.props||ht,ve=R.props||ht;let we;if(F&&qr(F,!1),(we=ve.onVnodeBeforeUpdate)&&Ds(we,F,R,A),Ie&&Br(R,A,F,"beforeUpdate"),F&&qr(F,!0),(ue.innerHTML&&ve.innerHTML==null||ue.textContent&&ve.textContent==null)&&f(ne,""),Z?x(A.dynamicChildren,Z,ne,F,Y,qd(R,q),J):le||Be(A,R,ne,null,F,Y,qd(R,q),J,!1),te>0){if(te&16)P(ne,ue,ve,F,q);else if(te&2&&ue.class!==ve.class&&r(ne,"class",null,ve.class,q),te&4&&r(ne,"style",ue.style,ve.style,q),te&8){const je=R.dynamicProps;for(let Ze=0;Ze<je.length;Ze++){const We=je[Ze],Rt=ue[We],bt=ve[We];(bt!==Rt||We==="value")&&r(ne,We,Rt,bt,q,F)}}te&1&&A.children!==R.children&&f(ne,R.children)}else!le&&Z==null&&P(ne,ue,ve,F,q);((we=ve.onVnodeUpdated)||Ie)&&Sn(()=>{we&&Ds(we,F,R,A),Ie&&Br(R,A,F,"updated")},Y)},x=(A,R,F,Y,q,J,le)=>{for(let ne=0;ne<R.length;ne++){const te=A[ne],Z=R[ne],Ie=te.el&&(te.type===nn||!Ba(te,Z)||te.shapeFlag&198)?g(te.el):F;L(te,Z,Ie,null,Y,q,J,le,!0)}},P=(A,R,F,Y,q)=>{if(R!==F){if(R!==ht)for(const J in R)!el(J)&&!(J in F)&&r(A,J,R[J],null,q,Y);for(const J in F){if(el(J))continue;const le=F[J],ne=R[J];le!==ne&&J!=="value"&&r(A,J,ne,le,q,Y)}"value"in F&&r(A,"value",R.value,F.value,q)}},N=(A,R,F,Y,q,J,le,ne,te)=>{const Z=R.el=A?A.el:l(""),Ie=R.anchor=A?A.anchor:l("");let{patchFlag:ue,dynamicChildren:ve,slotScopeIds:we}=R;we&&(ne=ne?ne.concat(we):we),A==null?(s(Z,F,Y),s(Ie,F,Y),T(R.children||[],F,Ie,q,J,le,ne,te)):ue>0&&ue&64&&ve&&A.dynamicChildren&&A.dynamicChildren.length===ve.length?(x(A.dynamicChildren,ve,F,q,J,le,ne),(R.key!=null||q&&R===q.subTree)&&Tf(A,R,!0)):Be(A,R,F,Ie,q,J,le,ne,te)},C=(A,R,F,Y,q,J,le,ne,te)=>{R.slotScopeIds=ne,A==null?R.shapeFlag&512?q.ctx.activate(R,F,Y,le,te):yt(R,F,Y,q,J,le,te):Ut(A,R,te)},yt=(A,R,F,Y,q,J,le)=>{const ne=A.component=B0(A,Y,q);if(Hv(A)&&(ne.ctx.renderer=ye),q0(ne,!1,le),ne.asyncDep){if(q&&q.registerDep(ne,it,le),!A.el){const te=ne.subTree=ce(rr);H(null,te,R,F),A.placeholder=te.el}}else it(ne,A,R,F,q,J,le)},Ut=(A,R,F)=>{const Y=R.component=A.component;if(T0(A,R,F))if(Y.asyncDep&&!Y.asyncResolved){Pe(Y,R,F);return}else Y.next=R,Y.update();else R.el=A.el,Y.vnode=R},it=(A,R,F,Y,q,J,le)=>{const ne=()=>{if(A.isMounted){let{next:ue,bu:ve,u:we,parent:je,vnode:Ze}=A;{const Vt=ry(A);if(Vt){ue&&(ue.el=Ze.el,Pe(A,ue,le)),Vt.asyncDep.then(()=>{A.isUnmounted||ne()});return}}let We=ue,Rt;qr(A,!1),ue?(ue.el=Ze.el,Pe(A,ue,le)):ue=Ze,ve&&Mc(ve),(Rt=ue.props&&ue.props.onVnodeBeforeUpdate)&&Ds(Rt,je,ue,Ze),qr(A,!0);const bt=Bd(A),Nt=A.subTree;A.subTree=bt,L(Nt,bt,g(Nt.el),B(Nt),A,q,J),ue.el=bt.el,We===null&&I0(A,bt.el),we&&Sn(we,q),(Rt=ue.props&&ue.props.onVnodeUpdated)&&Sn(()=>Ds(Rt,je,ue,Ze),q)}else{let ue;const{el:ve,props:we}=R,{bm:je,m:Ze,parent:We,root:Rt,type:bt}=A,Nt=al(R);if(qr(A,!1),je&&Mc(je),!Nt&&(ue=we&&we.onVnodeBeforeMount)&&Ds(ue,We,R),qr(A,!0),ve&&rt){const Vt=()=>{A.subTree=Bd(A),rt(ve,A.subTree,A,q,null)};Nt&&bt.__asyncHydrate?bt.__asyncHydrate(ve,A,Vt):Vt()}else{Rt.ce&&Rt.ce._def.shadowRoot!==!1&&Rt.ce._injectChildStyle(bt);const Vt=A.subTree=Bd(A);L(null,Vt,F,Y,A,q,J),R.el=Vt.el}if(Ze&&Sn(Ze,q),!Nt&&(ue=we&&we.onVnodeMounted)){const Vt=R;Sn(()=>Ds(ue,We,Vt),q)}(R.shapeFlag&256||We&&al(We.vnode)&&We.vnode.shapeFlag&256)&&A.a&&Sn(A.a,q),A.isMounted=!0,R=F=Y=null}};A.scope.on();const te=A.effect=new pv(ne);A.scope.off();const Z=A.update=te.run.bind(te),Ie=A.job=te.runIfDirty.bind(te);Ie.i=A,Ie.id=A.uid,te.scheduler=()=>vf(Ie),qr(A,!0),Z()},Pe=(A,R,F)=>{R.component=A;const Y=A.vnode.props;A.vnode=R,A.next=null,C0(A,R.props,Y,F),P0(A,R.children,F),pi(),Tm(A),mi()},Be=(A,R,F,Y,q,J,le,ne,te=!1)=>{const Z=A&&A.children,Ie=A?A.shapeFlag:0,ue=R.children,{patchFlag:ve,shapeFlag:we}=R;if(ve>0){if(ve&128){Un(Z,ue,F,Y,q,J,le,ne,te);return}else if(ve&256){cn(Z,ue,F,Y,q,J,le,ne,te);return}}we&8?(Ie&16&&Ct(Z,q,J),ue!==Z&&f(F,ue)):Ie&16?we&16?Un(Z,ue,F,Y,q,J,le,ne,te):Ct(Z,q,J,!0):(Ie&8&&f(F,""),we&16&&T(ue,F,Y,q,J,le,ne,te))},cn=(A,R,F,Y,q,J,le,ne,te)=>{A=A||jo,R=R||jo;const Z=A.length,Ie=R.length,ue=Math.min(Z,Ie);let ve;for(ve=0;ve<ue;ve++){const we=R[ve]=te?Bi(R[ve]):Ls(R[ve]);L(A[ve],we,F,null,q,J,le,ne,te)}Z>Ie?Ct(A,q,J,!0,!1,ue):T(R,F,Y,q,J,le,ne,te,ue)},Un=(A,R,F,Y,q,J,le,ne,te)=>{let Z=0;const Ie=R.length;let ue=A.length-1,ve=Ie-1;for(;Z<=ue&&Z<=ve;){const we=A[Z],je=R[Z]=te?Bi(R[Z]):Ls(R[Z]);if(Ba(we,je))L(we,je,F,null,q,J,le,ne,te);else break;Z++}for(;Z<=ue&&Z<=ve;){const we=A[ue],je=R[ve]=te?Bi(R[ve]):Ls(R[ve]);if(Ba(we,je))L(we,je,F,null,q,J,le,ne,te);else break;ue--,ve--}if(Z>ue){if(Z<=ve){const we=ve+1,je=we<Ie?R[we].el:Y;for(;Z<=ve;)L(null,R[Z]=te?Bi(R[Z]):Ls(R[Z]),F,je,q,J,le,ne,te),Z++}}else if(Z>ve)for(;Z<=ue;)Ot(A[Z],q,J,!0),Z++;else{const we=Z,je=Z,Ze=new Map;for(Z=je;Z<=ve;Z++){const Gt=R[Z]=te?Bi(R[Z]):Ls(R[Z]);Gt.key!=null&&Ze.set(Gt.key,Z)}let We,Rt=0;const bt=ve-je+1;let Nt=!1,Vt=0;const jn=new Array(bt);for(Z=0;Z<bt;Z++)jn[Z]=0;for(Z=we;Z<=ue;Z++){const Gt=A[Z];if(Rt>=bt){Ot(Gt,q,J,!0);continue}let jt;if(Gt.key!=null)jt=Ze.get(Gt.key);else for(We=je;We<=ve;We++)if(jn[We-je]===0&&Ba(Gt,R[We])){jt=We;break}jt===void 0?Ot(Gt,q,J,!0):(jn[jt-je]=Z+1,jt>=Vt?Vt=jt:Nt=!0,L(Gt,R[jt],F,null,q,J,le,ne,te),Rt++)}const Is=Nt?N0(jn):jo;for(We=Is.length-1,Z=bt-1;Z>=0;Z--){const Gt=je+Z,jt=R[Gt],yr=R[Gt+1],Qs=Gt+1<Ie?yr.el||oy(yr):Y;jn[Z]===0?L(null,jt,F,Qs,q,J,le,ne,te):Nt&&(We<0||Z!==Is[We]?K(jt,F,Qs,2):We--)}}},K=(A,R,F,Y,q=null)=>{const{el:J,type:le,transition:ne,children:te,shapeFlag:Z}=A;if(Z&6){K(A.component.subTree,R,F,Y);return}if(Z&128){A.suspense.move(R,F,Y);return}if(Z&64){le.move(A,R,F,ye);return}if(le===nn){s(J,R,F);for(let ue=0;ue<te.length;ue++)K(te[ue],R,F,Y);s(A.anchor,R,F);return}if(le===jc){G(A,R,F);return}if(Y!==2&&Z&1&&ne)if(Y===0)ne.beforeEnter(J),s(J,R,F),Sn(()=>ne.enter(J),q);else{const{leave:ue,delayLeave:ve,afterLeave:we}=ne,je=()=>{A.ctx.isUnmounted?i(J):s(J,R,F)},Ze=()=>{J._isLeaving&&J[QT](!0),ue(J,()=>{je(),we&&we()})};ve?ve(J,je,Ze):Ze()}else s(J,R,F)},Ot=(A,R,F,Y=!1,q=!1)=>{const{type:J,props:le,ref:ne,children:te,dynamicChildren:Z,shapeFlag:Ie,patchFlag:ue,dirs:ve,cacheIndex:we}=A;if(ue===-2&&(q=!1),ne!=null&&(pi(),ol(ne,null,F,A,!0),mi()),we!=null&&(R.renderCache[we]=void 0),Ie&256){R.ctx.deactivate(A);return}const je=Ie&1&&ve,Ze=!al(A);let We;if(Ze&&(We=le&&le.onVnodeBeforeUnmount)&&Ds(We,R,A),Ie&6)Dt(A.component,F,Y);else{if(Ie&128){A.suspense.unmount(F,Y);return}je&&Br(A,null,R,"beforeUnmount"),Ie&64?A.type.remove(A,R,F,ye,Y):Z&&!Z.hasOnce&&(J!==nn||ue>0&&ue&64)?Ct(Z,R,F,!1,!0):(J===nn&&ue&384||!q&&Ie&16)&&Ct(te,R,F),Y&&Qn(A)}(Ze&&(We=le&&le.onVnodeUnmounted)||je)&&Sn(()=>{We&&Ds(We,R,A),je&&Br(A,null,R,"unmounted")},F)},Qn=A=>{const{type:R,el:F,anchor:Y,transition:q}=A;if(R===nn){vn(F,Y);return}if(R===jc){ee(A);return}const J=()=>{i(F),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(A.shapeFlag&1&&q&&!q.persisted){const{leave:le,delayLeave:ne}=q,te=()=>le(F,J);ne?ne(A.el,J,te):te()}else J()},vn=(A,R)=>{let F;for(;A!==R;)F=y(A),i(A),A=F;i(R)},Dt=(A,R,F)=>{const{bum:Y,scope:q,job:J,subTree:le,um:ne,m:te,a:Z}=A;Vm(te),Vm(Z),Y&&Mc(Y),q.stop(),J&&(J.flags|=8,Ot(le,A,R,F)),ne&&Sn(ne,R),Sn(()=>{A.isUnmounted=!0},R)},Ct=(A,R,F,Y=!1,q=!1,J=0)=>{for(let le=J;le<A.length;le++)Ot(A[le],R,F,Y,q)},B=A=>{if(A.shapeFlag&6)return B(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const R=y(A.anchor||A.el),F=R&&R[Fv];return F?y(F):R};let de=!1;const $=(A,R,F)=>{let Y;A==null?R._vnode&&(Ot(R._vnode,null,null,!0),Y=R._vnode.component):L(R._vnode||null,A,R,null,null,null,F),R._vnode=A,de||(de=!0,Tm(Y),Dv(),de=!1)},ye={p:L,um:Ot,m:K,r:Qn,mt:yt,mc:T,pc:Be,pbc:x,n:B,o:t};let Me,rt;return e&&([Me,rt]=e(ye)),{render:$,hydrate:Me,createApp:_0($,Me)}}function qd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function qr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function D0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tf(t,e,n=!1){const s=t.children,i=e.children;if(Ce(s)&&Ce(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Bi(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&Tf(o,l)),l.type===$u&&(l.patchFlag!==-1?l.el=o.el:l.__elIndex=r+(t.type===nn?1:0)),l.type===rr&&!l.el&&(l.el=o.el)}}function N0(t){const e=t.slice(),n=[0];let s,i,r,o,l;const u=t.length;for(s=0;s<u;s++){const d=t[s];if(d!==0){if(i=n[n.length-1],t[i]<d){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<d?r=l+1:o=l;d<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function ry(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ry(e)}function Vm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function oy(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?oy(e.subTree):null}const ay=t=>t.__isSuspense;function V0(t,e){e&&e.pendingBranch?Ce(t)?e.effects.push(...t):e.effects.push(t):BT(t)}const nn=Symbol.for("v-fgt"),$u=Symbol.for("v-txt"),rr=Symbol.for("v-cmt"),jc=Symbol.for("v-stc"),cl=[];let zn=null;function se(t=!1){cl.push(zn=t?null:[])}function L0(){cl.pop(),zn=cl[cl.length-1]||null}let El=1;function ou(t,e=!1){El+=t,t<0&&zn&&e&&(zn.hasOnce=!0)}function ly(t){return t.dynamicChildren=El>0?zn||jo:null,L0(),El>0&&zn&&zn.push(t),t}function ie(t,e,n,s,i,r){return ly(m(t,e,n,s,i,r,!0))}function If(t,e,n,s,i){return ly(ce(t,e,n,s,i,!0))}function au(t){return t?t.__v_isVNode===!0:!1}function Ba(t,e){return t.type===e.type&&t.key===e.key}const cy=({key:t})=>t??null,$c=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ft(t)||kt(t)||Le(t)?{i:Hn,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,s=0,i=null,r=t===nn?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cy(e),ref:e&&$c(e),scopeId:Vv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Hn};return l?(Af(u,n),r&128&&t.normalize(u)):n&&(u.shapeFlag|=Ft(n)?8:16),El>0&&!o&&zn&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&zn.push(u),u}const ce=M0;function M0(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===l0)&&(t=rr),au(t)){const l=Qo(t,e,!0);return n&&Af(l,n),El>0&&!r&&zn&&(l.shapeFlag&6?zn[zn.indexOf(t)]=l:zn.push(l)),l.patchFlag=-2,l}if(K0(t)&&(t=t.__vccOpts),e){e=F0(e);let{class:l,style:u}=e;l&&!Ft(l)&&(e.class=Fn(l)),ft(u)&&(Lu(u)&&!Ce(u)&&(u=sn({},u)),e.style=Fl(u))}const o=Ft(t)?1:ay(t)?128:WT(t)?64:ft(t)?4:Le(t)?2:0;return m(t,e,n,s,i,o,r,!0)}function F0(t){return t?Lu(t)||Zv(t)?sn({},t):t:null}function Qo(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:u}=t,d=e?U0(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&cy(d),ref:e&&e.ref?n&&r?Ce(r)?r.concat($c(e)):[r,$c(e)]:$c(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==nn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qo(t.ssContent),ssFallback:t.ssFallback&&Qo(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&yf(f,u.clone(f)),f}function re(t=" ",e=0){return ce($u,null,t,e)}function Qt(t,e){const n=ce(jc,null,t);return n.staticCount=e,n}function Xe(t="",e=!1){return e?(se(),If(rr,null,t)):ce(rr,null,t)}function Ls(t){return t==null||typeof t=="boolean"?ce(rr):Ce(t)?ce(nn,null,t.slice()):au(t)?Bi(t):ce($u,null,String(t))}function Bi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qo(t)}function Af(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Ce(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Af(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Zv(e)?e._ctx=Hn:i===3&&Hn&&(Hn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:Hn},n=32):(e=String(e),s&64?(n=16,e=[re(e)]):n=8);t.children=e,t.shapeFlag|=n}function U0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Fn([e.class,s.class]));else if(i==="style")e.style=Fl([e.style,s.style]);else if(xu(i)){const r=e[i],o=s[i];o&&r!==o&&!(Ce(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ds(t,e,n,s=null){Gs(t,e,7,[n,s])}const j0=Qv();let $0=0;function B0(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||j0,r={uid:$0++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ty(s,i),emitsOptions:Yv(s,i),emit:null,emitted:null,propsDefaults:ht,inheritAttrs:s.inheritAttrs,ctx:ht,data:ht,props:ht,attrs:ht,slots:ht,refs:ht,setupState:ht,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=y0.bind(null,r),t.ce&&t.ce(r),r}let gn=null;const uy=()=>gn||Hn;let lu,wh;{const t=Nu(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};lu=e("__VUE_INSTANCE_SETTERS__",n=>gn=n),wh=e("__VUE_SSR_SETTERS__",n=>Tl=n)}const Bl=t=>{const e=gn;return lu(t),t.scope.on(),()=>{t.scope.off(),lu(e)}},Lm=()=>{gn&&gn.scope.off(),lu(null)};function dy(t){return t.vnode.shapeFlag&4}let Tl=!1;function q0(t,e=!1,n=!1){e&&wh(e);const{props:s,children:i}=t.vnode,r=dy(t);A0(t,s,r,e),x0(t,i,n||e);const o=r?H0(t,e):void 0;return e&&wh(!1),o}function H0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,u0);const{setup:s}=n;if(s){pi();const i=t.setupContext=s.length>1?G0(t):null,r=Bl(t),o=$l(s,t,0,[t.props,i]),l=iv(o);if(mi(),r(),(l||t.sp)&&!al(t)&&qv(t),l){if(o.then(Lm,Lm),e)return o.then(u=>{Mm(t,u,e)}).catch(u=>{Mu(u,t,0)});t.asyncDep=o}else Mm(t,o,e)}else hy(t,e)}function Mm(t,e,n){Le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ft(e)&&(t.setupState=Pv(e)),hy(t,n)}let Fm;function hy(t,e,n){const s=t.type;if(!t.render){if(!e&&Fm&&!s.render){const i=s.template||bf(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:u}=s,d=sn(sn({isCustomElement:r,delimiters:l},o),u);s.render=Fm(i,d)}}t.render=s.render||_s}{const i=Bl(t);pi();try{d0(t)}finally{mi(),i()}}}const z0={get(t,e){return pn(t,"get",""),t[e]}};function G0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,z0),slots:t.slots,emit:t.emit,expose:e}}function Bu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Pv(gf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ll)return ll[n](t)},has(e,n){return n in e||n in ll}})):t.proxy}function W0(t,e=!0){return Le(t)?t.displayName||t.name:t.name||e&&t.__name}function K0(t){return Le(t)&&"__vccOpts"in t}const Ln=(t,e)=>MT(t,e,Tl);function fy(t,e,n){try{ou(-1);const s=arguments.length;return s===2?ft(e)&&!Ce(e)?au(e)?ce(t,null,[e]):ce(t,e):ce(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&au(n)&&(n=[n]),ce(t,e,n))}finally{ou(1)}}const Q0="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eh;const Um=typeof window<"u"&&window.trustedTypes;if(Um)try{Eh=Um.createPolicy("vue",{createHTML:t=>t})}catch{}const py=Eh?t=>Eh.createHTML(t):t=>t,Y0="http://www.w3.org/2000/svg",X0="http://www.w3.org/1998/Math/MathML",ri=typeof document<"u"?document:null,jm=ri&&ri.createElement("template"),J0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?ri.createElementNS(Y0,t):e==="mathml"?ri.createElementNS(X0,t):n?ri.createElement(t,{is:n}):ri.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>ri.createTextNode(t),createComment:t=>ri.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ri.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{jm.innerHTML=py(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=jm.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Z0=Symbol("_vtc");function eI(t,e,n){const s=t[Z0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const $m=Symbol("_vod"),tI=Symbol("_vsh"),nI=Symbol(""),sI=/(?:^|;)\s*display\s*:/;function iI(t,e,n){const s=t.style,i=Ft(n);let r=!1;if(n&&!i){if(e)if(Ft(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Bc(s,l,"")}else for(const o in e)n[o]==null&&Bc(s,o,"");for(const o in n)o==="display"&&(r=!0),Bc(s,o,n[o])}else if(i){if(e!==n){const o=s[nI];o&&(n+=";"+o),s.cssText=n,r=sI.test(n)}}else e&&t.removeAttribute("style");$m in t&&(t[$m]=r?s.display:"",t[tI]&&(s.display="none"))}const Bm=/\s*!important$/;function Bc(t,e,n){if(Ce(n))n.forEach(s=>Bc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=rI(t,e);Bm.test(n)?t.setProperty(pr(s),n.replace(Bm,""),"important"):t[s]=n}}const qm=["Webkit","Moz","ms"],Hd={};function rI(t,e){const n=Hd[e];if(n)return n;let s=us(e);if(s!=="filter"&&s in t)return Hd[e]=s;s=Ou(s);for(let i=0;i<qm.length;i++){const r=qm[i]+s;if(r in t)return Hd[e]=r}return e}const Hm="http://www.w3.org/1999/xlink";function zm(t,e,n,s,i,r=lT(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hm,e.slice(6,e.length)):t.setAttributeNS(Hm,e,n):n==null||r&&!lv(n)?t.removeAttribute(e):t.setAttribute(e,r?"":zs(n)?String(n):n)}function Gm(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?py(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=lv(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Hi(t,e,n,s){t.addEventListener(e,n,s)}function oI(t,e,n,s){t.removeEventListener(e,n,s)}const Wm=Symbol("_vei");function aI(t,e,n,s,i=null){const r=t[Wm]||(t[Wm]={}),o=r[e];if(s&&o)o.value=s;else{const[l,u]=lI(e);if(s){const d=r[e]=dI(s,i);Hi(t,l,d,u)}else o&&(oI(t,l,o,u),r[e]=void 0)}}const Km=/(?:Once|Passive|Capture)$/;function lI(t){let e;if(Km.test(t)){e={};let s;for(;s=t.match(Km);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):pr(t.slice(2)),e]}let zd=0;const cI=Promise.resolve(),uI=()=>zd||(cI.then(()=>zd=0),zd=Date.now());function dI(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Gs(hI(s,n.value),e,5,[s])};return n.value=t,n.attached=uI(),n}function hI(t,e){if(Ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Qm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,fI=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?eI(t,s,o):e==="style"?iI(t,n,s):xu(e)?af(e)||aI(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pI(t,e,s,o))?(Gm(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zm(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ft(s))?Gm(t,us(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),zm(t,e,s,o))};function pI(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qm(e)&&Le(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Qm(e)&&Ft(n)?!1:e in t}const Yo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ce(e)?n=>Mc(e,n):e};function mI(t){t.target.composing=!0}function Ym(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hi=Symbol("_assign");function Xm(t,e,n){return e&&(t=t.trim()),n&&(t=Du(t)),t}const cu={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[hi]=Yo(i);const r=s||i.props&&i.props.type==="number";Hi(t,e?"change":"input",o=>{o.target.composing||t[hi](Xm(t.value,n,r))}),(n||r)&&Hi(t,"change",()=>{t.value=Xm(t.value,n,r)}),e||(Hi(t,"compositionstart",mI),Hi(t,"compositionend",Ym),Hi(t,"change",Ym))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[hi]=Yo(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?Du(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===u)||(t.value=u))}},gI={deep:!0,created(t,e,n){t[hi]=Yo(n),Hi(t,"change",()=>{const s=t._modelValue,i=Il(t),r=t.checked,o=t[hi];if(Ce(s)){const l=cf(s,i),u=l!==-1;if(r&&!u)o(s.concat(i));else if(!r&&u){const d=[...s];d.splice(l,1),o(d)}}else if(oa(s)){const l=new Set(s);r?l.add(i):l.delete(i),o(l)}else o(my(t,r))})},mounted:Jm,beforeUpdate(t,e,n){t[hi]=Yo(n),Jm(t,e,n)}};function Jm(t,{value:e,oldValue:n},s){t._modelValue=e;let i;if(Ce(e))i=cf(e,s.props.value)>-1;else if(oa(e))i=e.has(s.props.value);else{if(e===n)return;i=Ul(e,my(t,!0))}t.checked!==i&&(t.checked=i)}const L9={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=oa(e);Hi(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Du(Il(o)):Il(o));t[hi](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,Fu(()=>{t._assigning=!1})}),t[hi]=Yo(s)},mounted(t,{value:e}){Zm(t,e)},beforeUpdate(t,e,n){t[hi]=Yo(n)},updated(t,{value:e}){t._assigning||Zm(t,e)}};function Zm(t,e){const n=t.multiple,s=Ce(e);if(!(n&&!s&&!oa(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],l=Il(o);if(n)if(s){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(d=>String(d)===String(l)):o.selected=cf(e,l)>-1}else o.selected=e.has(l);else if(Ul(Il(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Il(t){return"_value"in t?t._value:t.value}function my(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const _I=["ctrl","shift","alt","meta"],vI={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_I.some(n=>t[`${n}Key`]&&!e.includes(n))},Xi=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=vI[e[o]];if(l&&l(i,e))return}return t(i,...r)})},yI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},eg=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=pr(i.key);if(e.some(o=>o===r||yI[o]===r))return t(i)})},bI=sn({patchProp:fI},J0);let tg;function wI(){return tg||(tg=k0(bI))}const EI=(...t)=>{const e=wI().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=II(s);if(!i)return;const r=e._component;!Le(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,TI(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function TI(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function II(t){return Ft(t)?document.querySelector(t):t}/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let gy;const qu=t=>gy=t,_y=Symbol();function Th(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ul;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ul||(ul={}));function AI(){const t=hv(!0),e=t.run(()=>_f({}));let n=[],s=[];const i=gf({install(r){qu(i),i._a=r,r.provide(_y,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const vy=()=>{};function ng(t,e,n,s=vy){t.add(e);const i=()=>{t.delete(e)&&s()};return!n&&fv()&&uT(i),i}function Po(t,...e){t.forEach(n=>{n(...e)})}const CI=t=>t(),sg=Symbol(),Gd=Symbol();function Ih(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Th(i)&&Th(s)&&t.hasOwnProperty(n)&&!kt(s)&&!di(s)?t[n]=Ih(i,s):t[n]=s}return t}const RI=Symbol();function SI(t){return!Th(t)||!Object.prototype.hasOwnProperty.call(t,RI)}const{assign:Ui}=Object;function xI(t){return!!(kt(t)&&t.effect)}function PI(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let u;function d(){l||(n.state.value[t]=i?i():{});const f=DT(n.state.value[t]);return Ui(f,r,Object.keys(o||{}).reduce((g,y)=>(g[y]=gf(Ln(()=>{qu(n);const E=n._s.get(t);return o[y].call(E,E)})),g),{}))}return u=yy(t,d,e,n,s,!0),u}function yy(t,e,n={},s,i,r){let o;const l=Ui({actions:{}},n),u={deep:!0};let d,f,g=new Set,y=new Set,E;const O=s.state.value[t];!r&&!O&&(s.state.value[t]={}),_f({});let L;function M(T){let I;d=f=!1,typeof T=="function"?(T(s.state.value[t]),I={type:ul.patchFunction,storeId:t,events:E}):(Ih(s.state.value[t],T),I={type:ul.patchObject,payload:T,storeId:t,events:E});const x=L=Symbol();Fu().then(()=>{L===x&&(d=!0)}),f=!0,Po(g,I,s.state.value[t])}const H=r?function(){const{state:I}=n,x=I?I():{};this.$patch(P=>{Ui(P,x)})}:vy;function z(){o.stop(),g.clear(),y.clear(),s._s.delete(t)}const G=(T,I="")=>{if(sg in T)return T[Gd]=I,T;const x=function(){qu(s);const P=Array.from(arguments),N=new Set,C=new Set;function yt(Pe){N.add(Pe)}function Ut(Pe){C.add(Pe)}Po(y,{args:P,name:x[Gd],store:pe,after:yt,onError:Ut});let it;try{it=T.apply(this&&this.$id===t?this:pe,P)}catch(Pe){throw Po(C,Pe),Pe}return it instanceof Promise?it.then(Pe=>(Po(N,Pe),Pe)).catch(Pe=>(Po(C,Pe),Promise.reject(Pe))):(Po(N,it),it)};return x[sg]=!0,x[Gd]=I,x},ee={_p:s,$id:t,$onAction:ng.bind(null,y),$patch:M,$reset:H,$subscribe(T,I={}){const x=ng(g,T,I.detached,()=>P()),P=o.run(()=>il(()=>s.state.value[t],N=>{(I.flush==="sync"?f:d)&&T({storeId:t,type:ul.direct,events:E},N)},Ui({},u,I)));return x},$dispose:z},pe=jl(ee);s._s.set(t,pe);const S=(s._a&&s._a.runWithContext||CI)(()=>s._e.run(()=>(o=hv()).run(()=>e({action:G}))));for(const T in S){const I=S[T];if(kt(I)&&!xI(I)||di(I))r||(O&&SI(I)&&(kt(I)?I.value=O[T]:Ih(I,O[T])),s.state.value[t][T]=I);else if(typeof I=="function"){const x=G(I,T);S[T]=x,l.actions[T]=I}}return Ui(pe,S),Ui(Je(pe),S),Object.defineProperty(pe,"$state",{get:()=>s.state.value[t],set:T=>{M(I=>{Ui(I,T)})}}),s._p.forEach(T=>{Ui(pe,o.run(()=>T({store:pe,app:s._a,pinia:s,options:l})))}),O&&r&&n.hydrate&&n.hydrate(pe.$state,O),d=!0,f=!0,pe}/*! #__NO_SIDE_EFFECTS__ */function kI(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,l){const u=qT();return o=o||(u?ys(_y,null):null),o&&qu(o),o=gy,o._s.has(t)||(i?yy(t,e,s,o):PI(t,s,o)),o._s.get(t)}return r.$id=t,r}const OI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=r>>2,g=(r&3)<<4|l>>4;let y=(l&15)<<2|d>>6,E=d&63;u||(E=64,o||(y=64)),s.push(n[f],n[g],n[y],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(by(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||d==null||g==null)throw new NI;const y=r<<2|l>>4;if(s.push(y),d!==64){const E=l<<4&240|d>>2;if(s.push(E),g!==64){const O=d<<6&192|g;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(t){const e=by(t);return wy.encodeByteArray(e,!0)},uu=function(t){return VI(t).replace(/\./g,"")},Ey=function(t){try{return wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=()=>LI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ey(t[1]);return e&&JSON.parse(e)},Hu=()=>{try{return OI()||MI()||FI()||UI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ty=t=>{var e,n;return(n=(e=Hu())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Iy=t=>{const e=Ty(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ay=()=>{var t;return(t=Hu())==null?void 0:t.config},Cy=t=>{var e;return(e=Hu())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cf(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[uu(JSON.stringify(n)),uu(JSON.stringify(o)),l].join(".")}const dl={};function $I(){const t={prod:[],emulator:[]};for(const e of Object.keys(dl))dl[e]?t.emulator.push(e):t.prod.push(e);return t}function BI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ig=!1;function Rf(t,e){if(typeof window>"u"||typeof document>"u"||!mr(window.location.host)||dl[t]===e||dl[t]||ig)return;dl[t]=e;function n(y){return`__firebase__banner__${y}`}const s="__firebase__banner",r=$I().prod.length>0;function o(){const y=document.getElementById(s);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ig=!0,o()},y}function f(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=BI(s),E=n("text"),O=document.getElementById(E)||document.createElement("span"),L=n("learnmore"),M=document.getElementById(L)||document.createElement("a"),H=n("preprendIcon"),z=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const G=y.element;l(G),f(M,L);const ee=d();u(z,H),G.append(z,O,M,ee),document.body.appendChild(G)}r?(O.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function HI(){var e;const t=(e=Hu())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KI(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QI(){return!HI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YI(){try{return typeof indexedDB=="object"}catch{return!1}}function XI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";class Ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=JI,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?ZI(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ks(i,l,s)}}function ZI(t,e){return t.replace(eA,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const eA=/\{\$([^}]+)}/g;function tA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(rg(r)&&rg(o)){if(!eo(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function rg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Ka(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nA(t,e){const n=new sA(t,e);return n.subscribe.bind(n)}class sA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Wd),i.error===void 0&&(i.error=Wd),i.complete===void 0&&(i.complete=Wd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class or{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aA(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(t){return t===zr?void 0:t}function aA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const cA={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},uA=He.INFO,dA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},hA=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=dA[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sf{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const fA=(t,e)=>e.some(n=>t instanceof n);let og,ag;function pA(){return og||(og=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return ag||(ag=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sy=new WeakMap,Ah=new WeakMap,xy=new WeakMap,Kd=new WeakMap,xf=new WeakMap;function gA(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Ji(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sy.set(n,t)}).catch(()=>{}),xf.set(e,t),e}function _A(t){if(Ah.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Ah.set(t,e)}let Ch={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ah.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vA(t){Ch=t(Ch)}function yA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Qd(this),e,...n);return xy.set(s,e.sort?e.sort():[e]),Ji(s)}:mA().includes(t)?function(...e){return t.apply(Qd(this),e),Ji(Sy.get(this))}:function(...e){return Ji(t.apply(Qd(this),e))}}function bA(t){return typeof t=="function"?yA(t):(t instanceof IDBTransaction&&_A(t),fA(t,pA())?new Proxy(t,Ch):t)}function Ji(t){if(t instanceof IDBRequest)return gA(t);if(Kd.has(t))return Kd.get(t);const e=bA(t);return e!==t&&(Kd.set(t,e),xf.set(e,t)),e}const Qd=t=>xf.get(t);function wA(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=Ji(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Ji(o.result),u.oldVersion,u.newVersion,Ji(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const EA=["get","getKey","getAll","getAllKeys","count"],TA=["put","add","delete","clear"],Yd=new Map;function lg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=TA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||EA.includes(n)))return;const r=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return Yd.set(e,r),r}vA(t=>({...t,get:(e,n,s)=>lg(e,n)||t.get(e,n,s),has:(e,n)=>!!lg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rh="@firebase/app",cg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Sf("@firebase/app"),CA="@firebase/app-compat",RA="@firebase/analytics-compat",SA="@firebase/analytics",xA="@firebase/app-check-compat",PA="@firebase/app-check",kA="@firebase/auth",OA="@firebase/auth-compat",DA="@firebase/database",NA="@firebase/data-connect",VA="@firebase/database-compat",LA="@firebase/functions",MA="@firebase/functions-compat",FA="@firebase/installations",UA="@firebase/installations-compat",jA="@firebase/messaging",$A="@firebase/messaging-compat",BA="@firebase/performance",qA="@firebase/performance-compat",HA="@firebase/remote-config",zA="@firebase/remote-config-compat",GA="@firebase/storage",WA="@firebase/storage-compat",KA="@firebase/firestore",QA="@firebase/ai",YA="@firebase/firestore-compat",XA="firebase",JA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="[DEFAULT]",ZA={[Rh]:"fire-core",[CA]:"fire-core-compat",[SA]:"fire-analytics",[RA]:"fire-analytics-compat",[PA]:"fire-app-check",[xA]:"fire-app-check-compat",[kA]:"fire-auth",[OA]:"fire-auth-compat",[DA]:"fire-rtdb",[NA]:"fire-data-connect",[VA]:"fire-rtdb-compat",[LA]:"fire-fn",[MA]:"fire-fn-compat",[FA]:"fire-iid",[UA]:"fire-iid-compat",[jA]:"fire-fcm",[$A]:"fire-fcm-compat",[BA]:"fire-perf",[qA]:"fire-perf-compat",[HA]:"fire-rc",[zA]:"fire-rc-compat",[GA]:"fire-gcs",[WA]:"fire-gcs-compat",[KA]:"fire-fst",[YA]:"fire-fst-compat",[QA]:"fire-vertex","fire-js":"fire-js",[XA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Map,eC=new Map,xh=new Map;function ug(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(xh.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;xh.set(e,t);for(const n of du.values())ug(n,t);for(const n of eC.values())ug(n,t);return!0}function zu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function os(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new ql("app","Firebase",tC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=JA;function Py(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Sh,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(n||(n=Ay()),!n)throw Zi.create("no-options");const r=du.get(i);if(r){if(eo(n,r.options)&&eo(s,r.config))return r;throw Zi.create("duplicate-app",{appName:i})}const o=new lA(i);for(const u of xh.values())o.addComponent(u);const l=new nC(n,s,o);return du.set(i,l),l}function Pf(t=Sh){const e=du.get(t);if(!e&&t===Sh&&Ay())return Py();if(!e)throw Zi.create("no-app",{appName:t});return e}function Fs(t,e,n){let s=ZA[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(o.join(" "));return}to(new or(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",iC=1,Al="firebase-heartbeat-store";let Xd=null;function ky(){return Xd||(Xd=wA(sC,iC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),Xd}async function rC(t){try{const n=(await ky()).transaction(Al),s=await n.objectStore(Al).get(Oy(t));return await n.done,s}catch(e){if(e instanceof Ks)_i.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function dg(t,e){try{const s=(await ky()).transaction(Al,"readwrite");await s.objectStore(Al).put(e,Oy(t)),await s.done}catch(n){if(n instanceof Ks)_i.warn(n.message);else{const s=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(s.message)}}}function Oy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1024,aC=30;class lC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>aC){const o=dC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hg(),{heartbeatsToSend:s,unsentEntries:i}=cC(this._heartbeatsCache.heartbeats),r=uu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return _i.warn(n),""}}}function hg(){return new Date().toISOString().substring(0,10)}function cC(t,e=oC){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),fg(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fg(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YI()?XI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fg(t){return uu(JSON.stringify({version:2,heartbeats:t})).length}function dC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){to(new or("platform-logger",e=>new IA(e),"PRIVATE")),to(new or("heartbeat",e=>new lC(e),"PRIVATE")),Fs(Rh,cg,t),Fs(Rh,cg,"esm2020"),Fs("fire-js","")}hC("");var fC="firebase",pC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(fC,pC,"app");function Dy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mC=Dy,Ny=new ql("auth","Firebase",Dy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new Sf("@firebase/auth");function gC(t,...e){hu.logLevel<=He.WARN&&hu.warn(`Auth (${oo}): ${t}`,...e)}function qc(t,...e){hu.logLevel<=He.ERROR&&hu.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,...e){throw kf(t,...e)}function Us(t,...e){return kf(t,...e)}function Vy(t,e,n){const s={...mC(),[e]:n};return new ql("auth","Firebase",s).create(e,{appName:t.name})}function er(t){return Vy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kf(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Ny.create(t,...e)}function Se(t,e,...n){if(!t)throw kf(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qc(e),new Error(e)}function vi(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _C(){return pg()==="http:"||pg()==="https:"}function pg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_C()||GI()||"connection"in navigator)?navigator.onLine:!0}function yC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=qI()||WI()}get(){return vC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e){vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EC=new zl(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gr(t,e,n,s,i={}){return My(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=Hl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...r};return zI()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&mr(t.emulatorConfig.host)&&(d.credentials="include"),Ly.fetch()(await Fy(t,t.config.apiHost,n,l),d)})}async function My(t,e,n){t._canInitEmulator=!1;const s={...bC,...e};try{const i=new IC(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw xc(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw xc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw xc(t,"user-disabled",o);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vy(t,f,d);ws(t,f)}}catch(i){if(i instanceof Ks)throw i;ws(t,"network-request-failed",{message:String(i)})}}async function Gu(t,e,n,s,i={}){const r=await gr(t,e,n,s,i);return"mfaPendingCredential"in r&&ws(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function Fy(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?Of(t.config,i):`${t.config.apiScheme}://${i}`;return wC.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function TC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Us(this.auth,"network-request-failed")),EC.get())})}}function xc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Us(t,e,s);return i.customData._tokenResponse=n,i}function mg(t){return t!==void 0&&t.enterprise!==void 0}class AC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CC(t,e){return gr(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e){return gr(t,"POST","/v1/accounts:delete",e)}async function fu(t,e){return gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SC(t,e=!1){const n=Tt(t),s=await n.getIdToken(e),i=Df(s);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:hl(Jd(i.auth_time)),issuedAtTime:hl(Jd(i.iat)),expirationTime:hl(Jd(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Jd(t){return Number(t)*1e3}function Df(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ey(n);return i?JSON.parse(i):(qc("Failed to decode base64 JWT payload"),null)}catch(i){return qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gg(t){const e=Df(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ks&&xC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function xC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){var g;const e=t.auth,n=await t.getIdToken(),s=await Cl(t,fu(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=(g=i.providerUserInfo)!=null&&g.length?Uy(i.providerUserInfo):[],o=OC(t.providerData,r),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kh(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function kC(t){const e=Tt(t);await pu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function Uy(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,e){const n=await My(t,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await Fy(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&mr(t.emulatorConfig.host)&&(u.credentials="include"),Ly.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NC(t,e){return gr(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=gg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await DC(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new qo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(Se(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gs{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new PC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SC(this,e)}reload(){return kC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(os(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await Cl(this,RC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:E,providerData:O,stsTokenManager:L}=n;Se(g&&L,e,"internal-error");const M=qo.fromJSON(this.name,L);Se(typeof g=="string",e,"internal-error"),Mi(s,e.name),Mi(i,e.name),Se(typeof y=="boolean",e,"internal-error"),Se(typeof E=="boolean",e,"internal-error"),Mi(r,e.name),Mi(o,e.name),Mi(l,e.name),Mi(u,e.name),Mi(d,e.name),Mi(f,e.name);const H=new gs({uid:g,auth:e,email:i,emailVerified:y,displayName:s,isAnonymous:E,photoURL:o,phoneNumber:r,tenantId:l,stsTokenManager:M,createdAt:d,lastLoginAt:f});return O&&Array.isArray(O)&&(H.providerData=O.map(z=>({...z}))),u&&(H._redirectEventId=u),H}static async _fromIdTokenResponse(e,n,s=!1){const i=new qo;i.updateFromServerResponse(n);const r=new gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await pu(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?Uy(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new qo;l.updateFromIdToken(s);const u=new gs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new kh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new Map;function ui(t){vi(t instanceof Function,"Expected a class definition");let e=_g.get(t);return e?(vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_g.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jy.type="NONE";const vg=jy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Hc(this.userKey,i.apiKey,r),this.fullPersistenceKey=Hc("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fu(this.auth,{idToken:e}).catch(()=>{});return n?gs._fromGetAccountInfoResponse(this.auth,n,e):null}return gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ho(ui(vg),e,s);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=i[0]||ui(vg);const o=Hc(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let g;if(typeof f=="string"){const y=await fu(e,{idToken:f}).catch(()=>{});if(!y)break;g=await gs._fromGetAccountInfoResponse(e,y,f)}else g=gs._fromJSON(e,f);d!==r&&(l=g),r=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Ho(r,e,s):(r=u[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(o)}catch{}})),new Ho(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($y(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gy(e))return"Blackberry";if(Wy(e))return"Webos";if(By(e))return"Safari";if((e.includes("chrome/")||qy(e))&&!e.includes("edge/"))return"Chrome";if(zy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $y(t=_n()){return/firefox\//i.test(t)}function By(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qy(t=_n()){return/crios\//i.test(t)}function Hy(t=_n()){return/iemobile/i.test(t)}function zy(t=_n()){return/android/i.test(t)}function Gy(t=_n()){return/blackberry/i.test(t)}function Wy(t=_n()){return/webos/i.test(t)}function Nf(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VC(t=_n()){var e;return Nf(t)&&!!((e=window.navigator)!=null&&e.standalone)}function LC(){return KI()&&document.documentMode===10}function Ky(t=_n()){return Nf(t)||zy(t)||Wy(t)||Gy(t)||/windows phone/i.test(t)||Hy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e=[]){let n;switch(t){case"Browser":n=yg(_n());break;case"Worker":n=`${yg(_n())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const u=e(r);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t,e={}){return gr(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6;class jC{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bg(this),this.idTokenSubscription=new bg(this),this.beforeStateQueue=new MC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ny,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fu(this,{idToken:e}),s=await gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(os(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(os(this.app))return Promise.reject(er(this));const n=e?Tt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return os(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return os(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FC(this),n=new jC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&gC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function aa(t){return Tt(t)}class bg{constructor(e){this.auth=e,this.observer=null,this.addObserver=nA(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BC(t){Wu=t}function Yy(t){return Wu.loadJS(t)}function qC(){return Wu.recaptchaEnterpriseScript}function HC(){return Wu.gapiScript}function zC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class GC{constructor(){this.enterprise=new WC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KC="recaptcha-enterprise",Xy="NO_RECAPTCHA";class QC{constructor(e){this.type=KC,this.auth=aa(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{CC(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new AC(u);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(r,o,l){const u=window.grecaptcha;mg(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(d=>{o(d)}).catch(()=>{o(Xy)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GC().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&mg(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qC();u.length!==0&&(u+=l),Yy(u).then(()=>{i(l,r,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function qa(t,e,n,s=!1,i=!1){const r=new QC(t);let o;if(i)o=Xy;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function wg(t,e,n,s,i){var r,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await qa(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await qa(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const l=await qa(t,e,n);return s(t,l).catch(async u=>{var d;if(((d=t._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const f=await qa(t,e,n,!1,!0);return s(t,f)}return Promise.reject(u)})}else{const l=await qa(t,e,n,!1,!0);return s(t,l)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e){const n=zu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(eo(r,e??{}))return i;ws(i,"already-initialized")}return n.initialize({options:e})}function XC(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function JC(t,e,n){const s=aa(t);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=Jy(e),{host:o,port:l}=ZC(e),u=l===null?"":`:${l}`,d={url:`${r}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(eo(d,s.config.emulator)&&eo(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,mr(o)?(Cf(`${r}//${o}${u}`),Rf("Auth",!0)):i||eR()}function Jy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZC(t){const e=Jy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Eg(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Eg(o)}}}function Eg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function tR(t,e){return gr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e){return Gu(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function iR(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Vf{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Rl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,n,"signInWithPassword",nR,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return sR(e,{email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,s,"signUpPassword",tR,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return iR(e,{idToken:n,email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e){return Gu(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="http://localhost";class no extends Vf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const o=new no(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:rR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aR(t){const e=Wa(Ka(t)).link,n=e?Wa(Ka(e)).deep_link_id:null,s=Wa(Ka(t)).deep_link_id;return(s?Wa(Ka(s)).link:null)||s||n||e||t}class Lf{constructor(e){const n=Wa(Ka(e)),s=n.apiKey??null,i=n.oobCode??null,r=oR(n.mode??null);Se(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aR(e);try{return new Lf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,n){return Rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Lf.parseLink(n);return Se(s,"argument-error"),Rl._fromEmailAndCode(e,s.code,s.tenantId)}}la.PROVIDER_ID="password";la.EMAIL_PASSWORD_SIGN_IN_METHOD="password";la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Gl{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Gl{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Gl{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await gs._fromIdTokenResponse(e,s,i),o=Tg(s);return new Xo({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Tg(s);return new Xo({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Tg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Ks{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new mu(e,n,s,i)}}function eb(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?mu._fromErrorAndOperation(t,r,e,s):r})}async function lR(t,e,n=!1){const s=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e,n=!1){const{auth:s}=t;if(os(s.app))return Promise.reject(er(s));const i="reauthenticate";try{const r=await Cl(t,eb(s,i,e,t),n);Se(r.idToken,s,"internal-error");const o=Df(r.idToken);Se(o,s,"internal-error");const{sub:l}=o;return Se(t.uid===l,s,"user-mismatch"),Xo._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ws(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(t,e,n=!1){if(os(t.app))return Promise.reject(er(t));const s="signIn",i=await eb(t,s,e),r=await Xo._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function uR(t,e){return tb(aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t){const e=aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function hR(t,e,n){return os(t.app)?Promise.reject(er(t)):uR(Tt(t),la.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&dR(t),s})}function fR(t,e,n,s){return Tt(t).onIdTokenChanged(e,n,s)}function pR(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function nb(t,e,n,s){return Tt(t).onAuthStateChanged(e,n,s)}function mR(t){return Tt(t).signOut()}const gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1e3,_R=10;class ib extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ky(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);LC()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_R):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ib.type="LOCAL";const vR=ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rb.type="SESSION";const ob=rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Ku(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,r)),u=await yR(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ku.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,u)=>{const d=Mf("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(y.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function wR(t){js().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function ER(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function IR(){return ab()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",AR=1,_u="firebaseLocalStorage",cb="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qu(t,e){return t.transaction([_u],e?"readwrite":"readonly").objectStore(_u)}function CR(){const t=indexedDB.deleteDatabase(lb);return new Wl(t).toPromise()}function Oh(){const t=indexedDB.open(lb,AR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_u,{keyPath:cb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_u)?e(s):(s.close(),await CR(),e(await Oh()))})})}async function Ig(t,e,n){const s=Qu(t,!0).put({[cb]:e,value:n});return new Wl(s).toPromise()}async function RR(t,e){const n=Qu(t,!1).get(e),s=await new Wl(n).toPromise();return s===void 0?null:s.value}function Ag(t,e){const n=Qu(t,!0).delete(e);return new Wl(n).toPromise()}const SR=800,xR=3;class ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ab()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ku._getInstance(IR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await ER(),!this.activeServiceWorker)return;this.sender=new bR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oh();return await Ig(e,gu,"1"),await Ag(e,gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ig(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>RR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ag(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Qu(i,!1).getAll();return new Wl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ub.type="LOCAL";const PR=ub;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e){return e?ui(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends Vf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OR(t){return tb(t.auth,new Ff(t),t.bypassAuthState)}function DR(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),cR(n,new Ff(t),t.bypassAuthState)}async function NR(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),lR(n,new Ff(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return NR;case"reauthViaPopup":case"reauthViaRedirect":return DR;default:ws(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new zl(2e3,1e4);class Uo extends db{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=Mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VR.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="pendingRedirect",zc=new Map;class MR extends db{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const s=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(t,e){const n=$R(e),s=jR(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function UR(t,e){zc.set(t._key(),e)}function jR(t){return ui(t._redirectPersistence)}function $R(t){return Hc(LR,t.config.apiKey,t.name)}async function BR(t,e,n=!1){if(os(t.app))return Promise.reject(er(t));const s=aa(t),i=kR(s,e),o=await new MR(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=10*60*1e3;class HR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!hb(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Us(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cg(e))}saveEventToCache(e){this.cachedEventUids.add(Cg(e)),this.lastProcessedEventTime=Date.now()}}function Cg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e={}){return gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function QR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GR(t);for(const n of e)try{if(YR(n))return}catch{}ws(t,"unauthorized-domain")}function YR(t){const e=Ph(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!KR.test(n))return!1;if(WR.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new zl(3e4,6e4);function Rg(){const t=js().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JR(t){return new Promise((e,n)=>{var i,r,o;function s(){Rg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rg(),n(Us(t,"network-request-failed"))},timeout:XR.get()})}if((r=(i=js().gapi)==null?void 0:i.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((o=js().gapi)!=null&&o.load)s();else{const l=zC("iframefcb");return js()[l]=()=>{gapi.load?s():n(Us(t,"network-request-failed"))},Yy(`${HC()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function ZR(t){return Gc=Gc||JR(t),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new zl(5e3,15e3),tS="__/auth/iframe",nS="emulator/auth/iframe",sS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rS(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Of(e,nS):`https://${t.config.authDomain}/${tS}`,s={apiKey:e.apiKey,appName:t.name,v:oo},i=iS.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Hl(s).slice(1)}`}async function oS(t){const e=await ZR(t),n=js().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:rS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sS,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Us(t,"network-request-failed"),l=js().setTimeout(()=>{r(o)},eS.get());function u(){js().clearTimeout(l),i(s)}s.ping(u).then(u,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lS=500,cS=600,uS="_blank",dS="http://localhost";class Sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hS(t,e,n,s=lS,i=cS){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...aS,width:s.toString(),height:i.toString(),top:r,left:o},d=_n().toLowerCase();n&&(l=qy(d)?uS:n),$y(d)&&(e=e||dS,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[E,O])=>`${y}${E}=${O},`,"");if(VC(d)&&l!=="_self")return fS(e||"",l),new Sg(null);const g=window.open(e||"",l,f);Se(g,t,"popup-blocked");try{g.focus()}catch{}return new Sg(g)}function fS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="__/auth/handler",mS="emulator/auth/handler",gS=encodeURIComponent("fac");async function xg(t,e,n,s,i,r){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:oo,eventId:i};if(e instanceof Zy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries(r||{}))o[f]=g}if(e instanceof Gl){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${gS}=${encodeURIComponent(u)}`:"";return`${_S(t)}?${Hl(l).slice(1)}${d}`}function _S({config:t}){return t.emulator?Of(t,mS):`https://${t.authDomain}/${pS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class vS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ob,this._completeRedirectFn=BR,this._overrideRedirectResult=UR}async _openPopup(e,n,s,i){var o;vi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const r=await xg(e,n,s,Ph(),i);return hS(e,r,Mf())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await xg(e,n,s,Ph(),i);return wR(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(vi(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oS(e),s=new HR(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},i=>{var o;const r=(o=i==null?void 0:i[0])==null?void 0:o[Zd];r!==void 0&&n(!!r),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ky()||By()||Nf()}}const yS=vS;var Pg="@firebase/auth",kg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ES(t){to(new or("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qy(t)},d=new $C(s,i,r,u);return XC(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),to(new or("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(s=>new bS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(Pg,kg,wS(t)),Fs(Pg,kg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=5*60,IS=Cy("authIdTokenMaxAge")||TS;let Og=null;const AS=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IS)return;const i=n==null?void 0:n.token;Og!==i&&(Og=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CS(t=Pf()){const e=zu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YC(t,{popupRedirectResolver:yS,persistence:[PR,vR,ob]}),s=Cy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=AS(r.toString());pR(n,o,()=>o(n.currentUser)),fR(n,l=>o(l))}}const i=Ty("auth");return i&&JC(n,`http://${i}`),n}function RS(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}BC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Us("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",RS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ES("Browser");var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,fb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function I(){}I.prototype=T.prototype,S.F=T.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(x,P,N){for(var C=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)C[yt-2]=arguments[yt];return T.prototype[P].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,I){I||(I=0);const x=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)x[P]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(P=0;P<16;++P)x[P]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=S.g[0],I=S.g[1],P=S.g[2];let N=S.g[3],C;C=T+(N^I&(P^N))+x[0]+3614090360&4294967295,T=I+(C<<7&4294967295|C>>>25),C=N+(P^T&(I^P))+x[1]+3905402710&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(I^N&(T^I))+x[2]+606105819&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(T^P&(N^T))+x[3]+3250441966&4294967295,I=P+(C<<22&4294967295|C>>>10),C=T+(N^I&(P^N))+x[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=N+(P^T&(I^P))+x[5]+1200080426&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(I^N&(T^I))+x[6]+2821735955&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(T^P&(N^T))+x[7]+4249261313&4294967295,I=P+(C<<22&4294967295|C>>>10),C=T+(N^I&(P^N))+x[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=N+(P^T&(I^P))+x[9]+2336552879&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(I^N&(T^I))+x[10]+4294925233&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(T^P&(N^T))+x[11]+2304563134&4294967295,I=P+(C<<22&4294967295|C>>>10),C=T+(N^I&(P^N))+x[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=N+(P^T&(I^P))+x[13]+4254626195&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(I^N&(T^I))+x[14]+2792965006&4294967295,P=N+(C<<17&4294967295|C>>>15),C=I+(T^P&(N^T))+x[15]+1236535329&4294967295,I=P+(C<<22&4294967295|C>>>10),C=T+(P^N&(I^P))+x[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(T^I))+x[6]+3225465664&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^I&(N^T))+x[11]+643717713&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^T&(P^N))+x[0]+3921069994&4294967295,I=P+(C<<20&4294967295|C>>>12),C=T+(P^N&(I^P))+x[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(T^I))+x[10]+38016083&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^I&(N^T))+x[15]+3634488961&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^T&(P^N))+x[4]+3889429448&4294967295,I=P+(C<<20&4294967295|C>>>12),C=T+(P^N&(I^P))+x[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(T^I))+x[14]+3275163606&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^I&(N^T))+x[3]+4107603335&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^T&(P^N))+x[8]+1163531501&4294967295,I=P+(C<<20&4294967295|C>>>12),C=T+(P^N&(I^P))+x[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=N+(I^P&(T^I))+x[2]+4243563512&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^I&(N^T))+x[7]+1735328473&4294967295,P=N+(C<<14&4294967295|C>>>18),C=I+(N^T&(P^N))+x[12]+2368359562&4294967295,I=P+(C<<20&4294967295|C>>>12),C=T+(I^P^N)+x[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=N+(T^I^P)+x[8]+2272392833&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^I)+x[11]+1839030562&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^T)+x[14]+4259657740&4294967295,I=P+(C<<23&4294967295|C>>>9),C=T+(I^P^N)+x[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=N+(T^I^P)+x[4]+1272893353&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^I)+x[7]+4139469664&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^T)+x[10]+3200236656&4294967295,I=P+(C<<23&4294967295|C>>>9),C=T+(I^P^N)+x[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=N+(T^I^P)+x[0]+3936430074&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^I)+x[3]+3572445317&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^T)+x[6]+76029189&4294967295,I=P+(C<<23&4294967295|C>>>9),C=T+(I^P^N)+x[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=N+(T^I^P)+x[12]+3873151461&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^I)+x[15]+530742520&4294967295,P=N+(C<<16&4294967295|C>>>16),C=I+(P^N^T)+x[2]+3299628645&4294967295,I=P+(C<<23&4294967295|C>>>9),C=T+(P^(I|~N))+x[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=N+(I^(T|~P))+x[7]+1126891415&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~I))+x[14]+2878612391&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~T))+x[5]+4237533241&4294967295,I=P+(C<<21&4294967295|C>>>11),C=T+(P^(I|~N))+x[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=N+(I^(T|~P))+x[3]+2399980690&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~I))+x[10]+4293915773&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~T))+x[1]+2240044497&4294967295,I=P+(C<<21&4294967295|C>>>11),C=T+(P^(I|~N))+x[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=N+(I^(T|~P))+x[15]+4264355552&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~I))+x[6]+2734768916&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~T))+x[13]+1309151649&4294967295,I=P+(C<<21&4294967295|C>>>11),C=T+(P^(I|~N))+x[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=N+(I^(T|~P))+x[11]+3174756917&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~I))+x[2]+718787259&4294967295,P=N+(C<<15&4294967295|C>>>17),C=I+(N^(P|~T))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+N&4294967295}s.prototype.v=function(S,T){T===void 0&&(T=S.length);const I=T-this.blockSize,x=this.C;let P=this.h,N=0;for(;N<T;){if(P==0)for(;N<=I;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<T;)if(x[P++]=S.charCodeAt(N++),P==this.blockSize){i(this,x),P=0;break}}else for(;N<T;)if(x[P++]=S[N++],P==this.blockSize){i(this,x),P=0;break}}this.h=P,this.o+=T},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)S[T++]=this.g[I]>>>x&255;return S};function r(S,T){var I=l;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=T(S)}function o(S,T){this.h=T;const I=[];let x=!0;for(let P=S.length-1;P>=0;P--){const N=S[P]|0;x&&N==T||(I[P]=N,x=!1)}this.g=I}var l={};function u(S){return-128<=S&&S<128?r(S,function(T){return new o([T|0],T<0?-1:0)}):new o([S|0],S<0?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return g;if(S<0)return M(d(-S));const T=[];let I=1;for(let x=0;S>=I;x++)T[x]=S/I|0,I*=4294967296;return new o(T,0)}function f(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return M(f(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(T,8));let x=g;for(let N=0;N<S.length;N+=8){var P=Math.min(8,S.length-N);const C=parseInt(S.substring(N,N+P),T);P<8?(P=d(Math.pow(T,P)),x=x.j(P).add(d(C))):(x=x.j(I),x=x.add(d(C)))}return x}var g=u(0),y=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(L(this))return-M(this).m();let S=0,T=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);S+=(x>=0?x:4294967296+x)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(O(this))return"0";if(L(this))return"-"+M(this).toString(S);const T=d(Math.pow(S,6));var I=this;let x="";for(;;){const P=ee(I,T).g;I=H(I,P.j(T));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=P,O(I))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function O(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function L(S){return S.h==-1}t.l=function(S){return S=H(this,S),L(S)?-1:O(S)?0:1};function M(S){const T=S.g.length,I=[];for(let x=0;x<T;x++)I[x]=~S.g[x];return new o(I,~S.h).add(y)}t.abs=function(){return L(this)?M(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),I=[];let x=0;for(let P=0;P<=T;P++){let N=x+(this.i(P)&65535)+(S.i(P)&65535),C=(N>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);x=C>>>16,N&=65535,C&=65535,I[P]=C<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function H(S,T){return S.add(M(T))}t.j=function(S){if(O(this)||O(S))return g;if(L(this))return L(S)?M(this).j(M(S)):M(M(this).j(S));if(L(S))return M(this.j(M(S)));if(this.l(E)<0&&S.l(E)<0)return d(this.m()*S.m());const T=this.g.length+S.g.length,I=[];for(var x=0;x<2*T;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let P=0;P<S.g.length;P++){const N=this.i(x)>>>16,C=this.i(x)&65535,yt=S.i(P)>>>16,Ut=S.i(P)&65535;I[2*x+2*P]+=C*Ut,z(I,2*x+2*P),I[2*x+2*P+1]+=N*Ut,z(I,2*x+2*P+1),I[2*x+2*P+1]+=C*yt,z(I,2*x+2*P+1),I[2*x+2*P+2]+=N*yt,z(I,2*x+2*P+2)}for(S=0;S<T;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=T;S<2*T;S++)I[S]=0;return new o(I,0)};function z(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function G(S,T){this.g=S,this.h=T}function ee(S,T){if(O(T))throw Error("division by zero");if(O(S))return new G(g,g);if(L(S))return T=ee(M(S),T),new G(M(T.g),M(T.h));if(L(T))return T=ee(S,M(T)),new G(M(T.g),T.h);if(S.g.length>30){if(L(S)||L(T))throw Error("slowDivide_ only works with positive integers.");for(var I=y,x=T;x.l(S)<=0;)I=pe(I),x=pe(x);var P=Ee(I,1),N=Ee(x,1);for(x=Ee(x,2),I=Ee(I,2);!O(x);){var C=N.add(x);C.l(S)<=0&&(P=P.add(I),N=C),x=Ee(x,1),I=Ee(I,1)}return T=H(S,P.j(T)),new G(P,T)}for(P=g;S.l(T)>=0;){for(I=Math.max(1,Math.floor(S.m()/T.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=d(I),C=N.j(T);L(C)||C.l(S)>0;)I-=x,N=d(I),C=N.j(T);O(N)&&(N=y),P=P.add(N),S=H(S,C)}return new G(P,S)}t.B=function(S){return ee(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),I=[];for(let x=0;x<T;x++)I[x]=this.i(x)&S.i(x);return new o(I,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),I=[];for(let x=0;x<T;x++)I[x]=this.i(x)|S.i(x);return new o(I,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),I=[];for(let x=0;x<T;x++)I[x]=this.i(x)^S.i(x);return new o(I,this.h^S.h)};function pe(S){const T=S.g.length+1,I=[];for(let x=0;x<T;x++)I[x]=S.i(x)<<1|S.i(x-1)>>>31;return new o(I,S.h)}function Ee(S,T){const I=T>>5;T%=32;const x=S.g.length-I,P=[];for(let N=0;N<x;N++)P[N]=T>0?S.i(N+I)>>>T|S.i(N+I+1)<<32-T:S.i(N+I);return new o(P,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,fb=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,tr=o}).apply(typeof Dg<"u"?Dg:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pb,Qa,mb,Wc,Dh,gb,_b,vb;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var h=0;h<a.length;++h){var _=a[h];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function i(a,h){if(h)e:{var _=s;a=a.split(".");for(var w=0;w<a.length-1;w++){var V=a[w];if(!(V in _))break e;_=_[V]}a=a[a.length-1],w=_[a],h=h(w),h!=w&&h!=null&&e(_,a,{configurable:!0,writable:!0,value:h})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(h){var _=[],w;for(w in h)Object.prototype.hasOwnProperty.call(h,w)&&_.push([w,h[w]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},o=this||self;function l(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function u(a,h,_){return a.call.apply(a.bind,arguments)}function d(a,h,_){return d=u,d.apply(null,arguments)}function f(a,h){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function g(a,h){function _(){}_.prototype=h.prototype,a.Z=h.prototype,a.prototype=new _,a.prototype.constructor=a,a.Ob=function(w,V,U){for(var oe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)oe[Fe-2]=arguments[Fe];return h.prototype[V].apply(w,oe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function E(a){const h=a.length;if(h>0){const _=Array(h);for(let w=0;w<h;w++)_[w]=a[w];return _}return[]}function O(a,h){for(let w=1;w<arguments.length;w++){const V=arguments[w];var _=typeof V;if(_=_!="object"?_:V?Array.isArray(V)?"array":_:"null",_=="array"||_=="object"&&typeof V.length=="number"){_=a.length||0;const U=V.length||0;a.length=_+U;for(let oe=0;oe<U;oe++)a[_+oe]=V[oe]}else a.push(V)}}class L{constructor(h,_){this.i=h,this.j=_,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function M(a){o.setTimeout(()=>{throw a},0)}function H(){var a=S;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class z{constructor(){this.h=this.g=null}add(h,_){const w=G.get();w.set(h,_),this.h?this.h.next=w:this.g=w,this.h=w}}var G=new L(()=>new ee,a=>a.reset());class ee{constructor(){this.next=this.g=this.h=null}set(h,_){this.h=h,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,Ee=!1,S=new z,T=()=>{const a=Promise.resolve(void 0);pe=()=>{a.then(I)}};function I(){for(var a;a=H();){try{a.h.call(a.g)}catch(_){M(_)}var h=G;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}Ee=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const _=()=>{};o.addEventListener("test",_,h),o.removeEventListener("test",_,h)}catch{}return a}();function C(a){return/^[\s\xa0]*$/.test(a)}function yt(a,h){P.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}g(yt,P),yt.prototype.init=function(a,h){const _=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(_=="mouseover"?h=a.fromElement:_=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ut="closure_listenable_"+(Math.random()*1e6|0),it=0;function Pe(a,h,_,w,V){this.listener=a,this.proxy=null,this.src=h,this.type=_,this.capture=!!w,this.ha=V,this.key=++it,this.da=this.fa=!1}function Be(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function cn(a,h,_){for(const w in a)h.call(_,a[w],w,a)}function Un(a,h){for(const _ in a)h.call(void 0,a[_],_,a)}function K(a){const h={};for(const _ in a)h[_]=a[_];return h}const Ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qn(a,h){let _,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(_ in w)a[_]=w[_];for(let U=0;U<Ot.length;U++)_=Ot[U],Object.prototype.hasOwnProperty.call(w,_)&&(a[_]=w[_])}}function vn(a){this.src=a,this.g={},this.h=0}vn.prototype.add=function(a,h,_,w,V){const U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);const oe=Ct(a,h,w,V);return oe>-1?(h=a[oe],_||(h.fa=!1)):(h=new Pe(h,this.src,U,!!w,V),h.fa=_,a.push(h)),h};function Dt(a,h){const _=h.type;if(_ in a.g){var w=a.g[_],V=Array.prototype.indexOf.call(w,h,void 0),U;(U=V>=0)&&Array.prototype.splice.call(w,V,1),U&&(Be(h),a.g[_].length==0&&(delete a.g[_],a.h--))}}function Ct(a,h,_,w){for(let V=0;V<a.length;++V){const U=a[V];if(!U.da&&U.listener==h&&U.capture==!!_&&U.ha==w)return V}return-1}var B="closure_lm_"+(Math.random()*1e6|0),de={};function $(a,h,_,w,V){if(w&&w.once)return rt(a,h,_,w,V);if(Array.isArray(h)){for(let U=0;U<h.length;U++)$(a,h[U],_,w,V);return null}return _=le(_),a&&a[Ut]?a.J(h,_,l(w)?!!w.capture:!!w,V):ye(a,h,_,!1,w,V)}function ye(a,h,_,w,V,U){if(!h)throw Error("Invalid event type");const oe=l(V)?!!V.capture:!!V;let Fe=q(a);if(Fe||(a[B]=Fe=new vn(a)),_=Fe.add(h,_,w,oe,U),_.proxy)return _;if(w=Me(),_.proxy=w,w.src=a,w.listener=_,a.addEventListener)N||(V=oe),V===void 0&&(V=!1),a.addEventListener(h.toString(),w,V);else if(a.attachEvent)a.attachEvent(F(h.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Me(){function a(_){return h.call(a.src,a.listener,_)}const h=Y;return a}function rt(a,h,_,w,V){if(Array.isArray(h)){for(let U=0;U<h.length;U++)rt(a,h[U],_,w,V);return null}return _=le(_),a&&a[Ut]?a.K(h,_,l(w)?!!w.capture:!!w,V):ye(a,h,_,!0,w,V)}function A(a,h,_,w,V){if(Array.isArray(h))for(var U=0;U<h.length;U++)A(a,h[U],_,w,V);else w=l(w)?!!w.capture:!!w,_=le(_),a&&a[Ut]?(a=a.i,U=String(h).toString(),U in a.g&&(h=a.g[U],_=Ct(h,_,w,V),_>-1&&(Be(h[_]),Array.prototype.splice.call(h,_,1),h.length==0&&(delete a.g[U],a.h--)))):a&&(a=q(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Ct(h,_,w,V)),(_=a>-1?h[a]:null)&&R(_))}function R(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Ut])Dt(h.i,a);else{var _=a.type,w=a.proxy;h.removeEventListener?h.removeEventListener(_,w,a.capture):h.detachEvent?h.detachEvent(F(_),w):h.addListener&&h.removeListener&&h.removeListener(w),(_=q(h))?(Dt(_,a),_.h==0&&(_.src=null,h[B]=null)):Be(a)}}}function F(a){return a in de?de[a]:de[a]="on"+a}function Y(a,h){if(a.da)a=!0;else{h=new yt(h,this);const _=a.listener,w=a.ha||a.src;a.fa&&R(a),a=_.call(w,h)}return a}function q(a){return a=a[B],a instanceof vn?a:null}var J="__closure_events_fn_"+(Math.random()*1e9>>>0);function le(a){return typeof a=="function"?a:(a[J]||(a[J]=function(h){return a.handleEvent(h)}),a[J])}function ne(){x.call(this),this.i=new vn(this),this.M=this,this.G=null}g(ne,x),ne.prototype[Ut]=!0,ne.prototype.removeEventListener=function(a,h,_,w){A(this,a,h,_,w)};function te(a,h){var _,w=a.G;if(w)for(_=[];w;w=w.G)_.push(w);if(a=a.M,w=h.type||h,typeof h=="string")h=new P(h,a);else if(h instanceof P)h.target=h.target||a;else{var V=h;h=new P(w,a),Qn(h,V)}V=!0;let U,oe;if(_)for(oe=_.length-1;oe>=0;oe--)U=h.g=_[oe],V=Z(U,w,!0,h)&&V;if(U=h.g=a,V=Z(U,w,!0,h)&&V,V=Z(U,w,!1,h)&&V,_)for(oe=0;oe<_.length;oe++)U=h.g=_[oe],V=Z(U,w,!1,h)&&V}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const _=a.g[h];for(let w=0;w<_.length;w++)Be(_[w]);delete a.g[h],a.h--}}this.G=null},ne.prototype.J=function(a,h,_,w){return this.i.add(String(a),h,!1,_,w)},ne.prototype.K=function(a,h,_,w){return this.i.add(String(a),h,!0,_,w)};function Z(a,h,_,w){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let V=!0;for(let U=0;U<h.length;++U){const oe=h[U];if(oe&&!oe.da&&oe.capture==_){const Fe=oe.listener,mt=oe.ha||oe.src;oe.fa&&Dt(a.i,oe),V=Fe.call(mt,w)!==!1&&V}}return V&&!w.defaultPrevented}function Ie(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function ue(a){a.g=Ie(()=>{a.g=null,a.i&&(a.i=!1,ue(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class ve extends x{constructor(h,_){super(),this.m=h,this.l=_,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ue(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(a){x.call(this),this.h=a,this.g={}}g(we,x);var je=[];function Ze(a){cn(a.g,function(h,_){this.g.hasOwnProperty(_)&&R(h)},a),a.g={}}we.prototype.N=function(){we.Z.N.call(this),Ze(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var We=o.JSON.stringify,Rt=o.JSON.parse,bt=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Nt(){}function Vt(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Is(){P.call(this,"d")}g(Is,P);function Gt(){P.call(this,"c")}g(Gt,P);var jt={},yr=null;function Qs(){return yr=yr||new ne}jt.Ia="serverreachability";function nc(a){P.call(this,jt.Ia,a)}g(nc,P);function br(a){const h=Qs();te(h,new nc(h))}jt.STAT_EVENT="statevent";function ma(a,h){P.call(this,jt.STAT_EVENT,a),this.stat=h}g(ma,P);function $t(a){const h=Qs();te(h,new ma(h,a))}jt.Ja="timingevent";function ga(a,h){P.call(this,jt.Ja,a),this.size=h}g(ga,P);function Ei(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function wr(){this.g=!0}wr.prototype.ua=function(){this.g=!1};function yd(a,h,_,w,V,U){a.info(function(){if(a.g)if(U){var oe="",Fe=U.split("&");for(let Ke=0;Ke<Fe.length;Ke++){var mt=Fe[Ke].split("=");if(mt.length>1){const Bt=mt[0];mt=mt[1];const Tn=Bt.split("_");oe=Tn.length>=2&&Tn[1]=="type"?oe+(Bt+"="+mt+"&"):oe+(Bt+"=redacted&")}}}else oe=null;else oe=U;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+h+`
`+_+`
`+oe})}function bd(a,h,_,w,V,U,oe){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+h+`
`+_+`
`+U+" "+oe})}function Ti(a,h,_,w){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Er(a,_)+(w?" "+w:"")})}function Ii(a,h){a.info(function(){return"TIMEOUT: "+h})}wr.prototype.info=function(){};function Er(a,h){if(!a.g)return h;if(!h)return null;try{const U=JSON.parse(h);if(U){for(a=0;a<U.length;a++)if(Array.isArray(U[a])){var _=U[a];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var V=w[0];if(V!="noop"&&V!="stop"&&V!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return We(U)}catch{return h}}var ho={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ic;function _a(){}g(_a,Nt),_a.prototype.g=function(){return new XMLHttpRequest},ic=new _a;function Tr(a){return encodeURIComponent(String(a))}function va(a){var h=1;a=a.split(":");const _=[];for(;h>0&&a.length;)_.push(a.shift()),h--;return a.length&&_.push(a.join(":")),_}function yn(a,h,_,w){this.j=a,this.i=h,this.l=_,this.S=w||1,this.V=new we(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var rc={},Ar={};function ya(a,h,_){a.M=1,a.A=En($n(h)),a.u=_,a.R=!0,oc(a,null)}function oc(a,h){a.F=Date.now(),Jt(a),a.B=$n(a.A);var _=a.B,w=a.S;Array.isArray(w)||(w=[String(w)]),Ca(_.i,"t",w),a.C=0,_=a.j.L,a.h=new Ir,a.g=mc(a.j,_?h:null,!a.u),a.P>0&&(a.O=new ve(d(a.Y,a,a.g),a.P)),h=a.V,_=a.g,w=a.ba;var V="readystatechange";Array.isArray(V)||(V&&(je[0]=V.toString()),V=je);for(let U=0;U<V.length;U++){const oe=$(_,V[U],w||h.handleEvent,!1,h.h||h);if(!oe)break;h.g[oe.key]=oe}h=a.J?K(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),br(),yd(a.i,a.v,a.B,a.l,a.S,a.u)}yn.prototype.ba=function(a){a=a.target;const h=this.O;h&&ts(a)==3?h.j():this.Y(a)},yn.prototype.Y=function(a){try{if(a==this.g)e:{const Fe=ts(this.g),mt=this.g.ya(),Ke=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||wo(this.g)))){this.K||Fe!=4||mt==7||(mt==8||Ke<=0?br(3):br(2)),Ci(this);var h=this.g.ca();this.X=h;var _=Ai(this);if(this.o=h==200,bd(this.i,this.v,this.B,this.l,this.S,Fe,h),this.o){if(this.U&&!this.L){t:{if(this.g){var w,V=this.g;if((w=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var U=w;break t}}U=null}if(a=U)Ti(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,As(this,a);else{this.o=!1,this.m=3,$t(12),wn(this),Yn(this);break e}}if(this.R){a=!0;let Bt;for(;!this.K&&this.C<_.length;)if(Bt=bn(this,_),Bt==Ar){Fe==4&&(this.m=4,$t(14),a=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==rc){this.m=4,$t(15),Ti(this.i,this.l,_,"[Invalid Chunk]"),a=!1;break}else Ti(this.i,this.l,Bt,null),As(this,Bt);if(Xt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||_.length!=0||this.h.h||(this.m=1,$t(16),a=!1),this.o=this.o&&a,!a)Ti(this.i,this.l,_,"[Invalid Chunked Response]"),wn(this),Yn(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Dr(oe),oe.P=!0,$t(11))}}else Ti(this.i,this.l,_,null),As(this,_);Fe==4&&wn(this),this.o&&!this.K&&(Fe==4?fc(this.j,this):(this.o=!1,Jt(this)))}else Pa(this.g),h==400&&_.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),wn(this),Yn(this)}}}catch{}finally{}};function Ai(a){if(!Xt(a))return a.g.la();const h=wo(a.g);if(h==="")return"";let _="";const w=h.length,V=ts(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return wn(a),Yn(a),"";a.h.i=new o.TextDecoder}for(let U=0;U<w;U++)a.h.h=!0,_+=a.h.i.decode(h[U],{stream:!(V&&U==w-1)});return h.length=0,a.h.g+=_,a.C=0,a.h.g}function Xt(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function bn(a,h){var _=a.C,w=h.indexOf(`
`,_);return w==-1?Ar:(_=Number(h.substring(_,w)),isNaN(_)?rc:(w+=1,w+_>h.length?Ar:(h=h.slice(w,w+_),a.C=w+_,h)))}yn.prototype.cancel=function(){this.K=!0,wn(this)};function Jt(a){a.T=Date.now()+a.H,Zt(a,a.H)}function Zt(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ei(d(a.aa,a),h)}function Ci(a){a.D&&(o.clearTimeout(a.D),a.D=null)}yn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Ii(this.i,this.B),this.M!=2&&(br(),$t(17)),wn(this),this.m=2,Yn(this)):Zt(this,this.T-a)};function Yn(a){a.j.I==0||a.K||fc(a.j,a)}function wn(a){Ci(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,Ze(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function As(a,h){try{var _=a.j;if(_.I!=0&&(_.g==a||Cr(_.h,a))){if(!a.L&&Cr(_.h,a)&&_.I==3){try{var w=_.Ba.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<a.F)To(_),Or(_);else break e;Eo(_),$t(18)}}else _.xa=V[1],0<_.xa-_.K&&V[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ei(d(_.Va,_),6e3));ba(_.h)<=1&&_.ta&&(_.ta=void 0)}else Rs(_,11)}else if((a.L||_.g==a)&&To(_),!C(h))for(V=_.Ba.g.parse(h),h=0;h<V.length;h++){let Ke=V[h];const Bt=Ke[0];if(!(Bt<=_.K))if(_.K=Bt,Ke=Ke[1],_.I==2)if(Ke[0]=="c"){_.M=Ke[1],_.ba=Ke[2];const Tn=Ke[3];Tn!=null&&(_.ka=Tn,_.j.info("VER="+_.ka));const ei=Ke[4];ei!=null&&(_.za=ei,_.j.info("SVER="+_.za));const xs=Ke[5];xs!=null&&typeof xs=="number"&&xs>0&&(w=1.5*xs,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ps=a.g;if(Ps){const Co=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var U=w.h;U.g||Co.indexOf("spdy")==-1&&Co.indexOf("quic")==-1&&Co.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Rr(U,U.h),U.h=null))}if(w.G){const Ma=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(w.wa=Ma,lt(w.J,w.G,Ma))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-a.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var oe=a;if(w.na=pc(w,w.L?w.ba:null,w.W),oe.L){wa(w.h,oe);var Fe=oe,mt=w.O;mt&&(Fe.H=mt),Fe.D&&(Ci(Fe),Jt(Fe)),w.g=oe}else Na(w);_.i.length>0&&fs(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Rs(_,7);else _.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Rs(_,7):kr(_):Ke[0]!="noop"&&_.l&&_.l.qa(Ke),_.A=0)}}br(4)}catch{}}var ac=class{constructor(a,h){this.g=a,this.map=h}};function fo(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ys(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ba(a){return a.h?1:a.g?a.g.size:0}function Cr(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Rr(a,h){a.g?a.g.add(h):a.h=h}function wa(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}fo.prototype.cancel=function(){if(this.i=Ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ea(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const _ of a.g.values())h=h.concat(_.G);return h}return E(a.i)}var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lc(a,h){if(a){a=a.split("&");for(let _=0;_<a.length;_++){const w=a[_].indexOf("=");let V,U=null;w>=0?(V=a[_].substring(0,w),U=a[_].substring(w+1)):V=a[_],h(V,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ds(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof ds?(this.l=a.l,Ri(this,a.j),this.o=a.o,this.g=a.g,Si(this,a.u),this.h=a.h,po(this,Zn(a.i)),this.m=a.m):a&&(h=String(a).match(Ta))?(this.l=!1,Ri(this,h[1]||"",!0),this.o=Wt(h[2]||""),this.g=Wt(h[3]||"",!0),Si(this,h[4]),this.h=Wt(h[5]||"",!0),po(this,h[6]||"",!0),this.m=Wt(h[7]||"")):(this.l=!1,this.i=new Jn(null,this.l))}ds.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(Bn(h,mo,!0),":");var _=this.g;return(_||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Bn(h,mo,!0),"@"),a.push(Tr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&a.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&a.push("/"),a.push(Bn(_,_.charAt(0)=="/"?Xn:Ia,!0))),(_=this.i.toString())&&a.push("?",_),(_=this.m)&&a.push("#",Bn(_,go)),a.join("")},ds.prototype.resolve=function(a){const h=$n(this);let _=!!a.j;_?Ri(h,a.j):_=!!a.o,_?h.o=a.o:_=!!a.g,_?h.g=a.g:_=a.u!=null;var w=a.h;if(_)Si(h,a.u);else if(_=!!a.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var V=h.h.lastIndexOf("/");V!=-1&&(w=h.h.slice(0,V+1)+w)}if(V=w,V==".."||V==".")w="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){w=V.lastIndexOf("/",0)==0,V=V.split("/");const U=[];for(let oe=0;oe<V.length;){const Fe=V[oe++];Fe=="."?w&&oe==V.length&&U.push(""):Fe==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),w&&oe==V.length&&U.push("")):(U.push(Fe),w=!0)}w=U.join("/")}else w=V}return _?h.h=w:_=a.i.toString()!=="",_?po(h,Zn(a.i)):_=!!a.m,_&&(h.m=a.m),h};function $n(a){return new ds(a)}function Ri(a,h,_){a.j=_?Wt(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Si(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function po(a,h,_){h instanceof Jn?(a.i=h,Cs(a.i,a.l)):(_||(h=Bn(h,Xs)),a.i=new Jn(h,a.l))}function lt(a,h,_){a.i.set(h,_)}function En(a){return lt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Wt(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bn(a,h,_){return typeof a=="string"?(a=encodeURI(a).replace(h,On),_&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function On(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var mo=/[#\/\?@]/g,Ia=/[#\?:]/g,Xn=/[#\?]/g,Xs=/[#\?@]/g,go=/#/g;function Jn(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function hs(a){a.g||(a.g=new Map,a.h=0,a.i&&lc(a.i,function(h,_){a.add(decodeURIComponent(h.replace(/\+/g," ")),_)}))}t=Jn.prototype,t.add=function(a,h){hs(this),this.i=null,a=xi(this,a);let _=this.g.get(a);return _||this.g.set(a,_=[]),_.push(h),this.h+=1,this};function Aa(a,h){hs(a),h=xi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Js(a,h){return hs(a),h=xi(a,h),a.g.has(h)}t.forEach=function(a,h){hs(this),this.g.forEach(function(_,w){_.forEach(function(V){a.call(h,V,w,this)},this)},this)};function _o(a,h){hs(a);let _=[];if(typeof h=="string")Js(a,h)&&(_=_.concat(a.g.get(xi(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)_=_.concat(a[h]);return _}t.set=function(a,h){return hs(this),this.i=null,a=xi(this,a),Js(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=_o(this,a),a.length>0?String(a[0]):h):h};function Ca(a,h,_){Aa(a,h),_.length>0&&(a.i=null,a.g.set(xi(a,h),E(_)),a.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let w=0;w<h.length;w++){var _=h[w];const V=Tr(_);_=_o(this,_);for(let U=0;U<_.length;U++){let oe=V;_[U]!==""&&(oe+="="+Tr(_[U])),a.push(oe)}}return this.i=a.join("&")};function Zn(a){const h=new Jn;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function xi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Cs(a,h){h&&!a.j&&(hs(a),a.i=null,a.g.forEach(function(_,w){const V=w.toLowerCase();w!=V&&(Aa(this,w),Ca(this,V,_))},a)),a.j=h}function vo(a,h){const _=new wr;if(o.Image){const w=new Image;w.onload=f(Dn,_,"TestLoadImage: loaded",!0,h,w),w.onerror=f(Dn,_,"TestLoadImage: error",!1,h,w),w.onabort=f(Dn,_,"TestLoadImage: abort",!1,h,w),w.ontimeout=f(Dn,_,"TestLoadImage: timeout",!1,h,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else h(!1)}function cc(a,h){const _=new wr,w=new AbortController,V=setTimeout(()=>{w.abort(),Dn(_,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:w.signal}).then(U=>{clearTimeout(V),U.ok?Dn(_,"TestPingServer: ok",!0,h):Dn(_,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Dn(_,"TestPingServer: error",!1,h)})}function Dn(a,h,_,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(_)}catch{}}function Ra(){this.g=new bt}function Zs(a){this.i=a.Sb||null,this.h=a.ab||!1}g(Zs,Nt),Zs.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(a,h){ne.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Sr,ne),t=Sr.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,es(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Pi(this):es(this),this.readyState==3&&Sa(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Pi(this))},t.Na=function(a){this.g&&(this.response=a,Pi(this))},t.ga=function(){this.g&&Pi(this)};function Pi(a){a.readyState=4,a.l=null,a.j=null,a.B=null,es(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var _=h.next();!_.done;)_=_.value,a.push(_[0]+": "+_[1]),_=h.next();return a.join(`\r
`)};function es(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function uc(a){let h="";return cn(a,function(_,w){h+=w,h+=":",h+=_,h+=`\r
`}),h}function yo(a,h,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=uc(_),typeof a=="string"?_!=null&&Tr(_):lt(a,h,_))}function pt(a){ne.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(pt,ne);var bo=/^https?$/i,xa=["POST","PUT"];t=pt.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ic.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(U){dc(this,U);return}if(a=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)_.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())_.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),V=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(xa,h,void 0)>=0)||w||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,oe]of _)this.g.setRequestHeader(U,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(U){dc(this,U)}};function dc(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,xr(a),Pr(a)}function xr(a){a.A||(a.A=!0,te(a,"complete"),te(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,te(this,"complete"),te(this,"abort"),Pr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?hc(this):this.Xa())},t.Xa=function(){hc(this)};function hc(a){if(a.h&&typeof r<"u"){if(a.v&&ts(a)==4)setTimeout(a.Ca.bind(a),0);else if(te(a,"readystatechange"),ts(a)==4){a.h=!1;try{const U=a.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var _;if(!(_=h)){var w;if(w=U===0){let oe=String(a.D).match(Ta)[1]||null;!oe&&o.self&&o.self.location&&(oe=o.self.location.protocol.slice(0,-1)),w=!bo.test(oe?oe.toLowerCase():"")}_=w}if(_)te(a,"complete"),te(a,"success");else{a.o=6;try{var V=ts(a)>2?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.ca()+"]",xr(a)}}finally{Pr(a)}}}}function Pr(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const _=a.g;a.g=null,h||te(a,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ts(a){return a.g?a.g.readyState:0}t.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Rt(h)}};function wo(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(a){const h={};a=(a.g&&ts(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(C(a[w]))continue;var _=va(a[w]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=h[V]||[];h[V]=U,U.push(_)}Un(h,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(a,h,_){return _&&_.internalChannelParams&&_.internalChannelParams[a]||h}function Oi(a){this.za=0,this.i=[],this.j=new wr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,a),this.Za=ki("retryDelaySeedMs",1e4,a),this.Ta=ki("forwardChannelMaxRetries",2,a),this.va=ki("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(a&&a.concurrentRequestLimit),this.Ba=new Ra,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Oi.prototype,t.ka=8,t.I=1,t.connect=function(a,h,_,w){$t(0),this.W=a,this.H=h||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=pc(this,null,this.W),fs(this)};function kr(a){if(ka(a),a.I==3){var h=a.V++,_=$n(a.J);if(lt(_,"SID",a.M),lt(_,"RID",h),lt(_,"TYPE","terminate"),Di(a,_),h=new yn(a,a.j,h),h.M=2,h.A=En($n(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=h.A,_=!0),_||(h.g=mc(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Jt(h)}Nr(a)}function Or(a){a.g&&(Dr(a),a.g.cancel(),a.g=null)}function ka(a){Or(a),a.v&&(o.clearTimeout(a.v),a.v=null),To(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function fs(a){if(!Ys(a.h)&&!a.m){a.m=!0;var h=a.Ea;pe||T(),Ee||(pe(),Ee=!0),S.add(h,a),a.D=0}}function wd(a,h){return ba(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ei(d(a.Ea,a,h),La(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const V=new yn(this,this.j,a);let U=this.o;if(this.U&&(U?(U=K(U),Qn(U,this.U)):U=this.U),this.u!==null||this.R||(V.J=U,U=null),this.S)e:{for(var h=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,h>4096){h=_;break e}if(h===4096||_===this.i.length-1){h=_+1;break e}}h=1e3}else h=1e3;h=Da(this,V,h),_=$n(this.J),lt(_,"RID",a),lt(_,"CVER",22),this.G&&lt(_,"X-HTTP-Session-Id",this.G),Di(this,_),U&&(this.R?h="headers="+Tr(uc(U))+"&"+h:this.u&&yo(_,this.u,U)),Rr(this.h,V),this.Ra&&lt(_,"TYPE","init"),this.S?(lt(_,"$req",h),lt(_,"SID","null"),V.U=!0,ya(V,_,null)):ya(V,_,h),this.I=2}}else this.I==3&&(a?Oa(this,a):this.i.length==0||Ys(this.h)||Oa(this))};function Oa(a,h){var _;h?_=h.l:_=a.V++;const w=$n(a.J);lt(w,"SID",a.M),lt(w,"RID",_),lt(w,"AID",a.K),Di(a,w),a.u&&a.o&&yo(w,a.u,a.o),_=new yn(a,a.j,_,a.D+1),a.u===null&&(_.J=a.o),h&&(a.i=h.G.concat(a.i)),h=Da(a,_,1e3),_.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Rr(a.h,_),ya(_,w,h)}function Di(a,h){a.H&&cn(a.H,function(_,w){lt(h,w,_)}),a.l&&cn({},function(_,w){lt(h,w,_)})}function Da(a,h,_){_=Math.min(a.i.length,_);const w=a.l?d(a.l.Ka,a.l,a):null;e:{var V=a.i;let Fe=-1;for(;;){const mt=["count="+_];Fe==-1?_>0?(Fe=V[0].g,mt.push("ofs="+Fe)):Fe=0:mt.push("ofs="+Fe);let Ke=!0;for(let Bt=0;Bt<_;Bt++){var U=V[Bt].g;const Tn=V[Bt].map;if(U-=Fe,U<0)Fe=Math.max(0,V[Bt].g-100),Ke=!1;else try{U="req"+U+"_"||"";try{var oe=Tn instanceof Map?Tn:Object.entries(Tn);for(const[ei,xs]of oe){let Ps=xs;l(xs)&&(Ps=We(xs)),mt.push(U+ei+"="+encodeURIComponent(Ps))}}catch(ei){throw mt.push(U+"type="+encodeURIComponent("_badmap")),ei}}catch{w&&w(Tn)}}if(Ke){oe=mt.join("&");break e}}oe=void 0}return a=a.i.splice(0,_),h.G=a,oe}function Na(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;pe||T(),Ee||(pe(),Ee=!0),S.add(h,a),a.A=0}}function Eo(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ei(d(a.Da,a),La(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Va(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ei(d(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),Or(this),Va(this))};function Dr(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Va(a){a.g=new yn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=$n(a.na);lt(h,"RID","rpc"),lt(h,"SID",a.M),lt(h,"AID",a.K),lt(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&lt(h,"TO",a.ia),lt(h,"TYPE","xmlhttp"),Di(a,h),a.u&&a.o&&yo(h,a.u,a.o),a.O&&(a.g.H=a.O);var _=a.g;a=a.ba,_.M=1,_.A=En($n(h)),_.u=null,_.R=!0,oc(_,a)}t.Va=function(){this.C!=null&&(this.C=null,Or(this),Eo(this),$t(19))};function To(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function fc(a,h){var _=null;if(a.g==h){To(a),Dr(a),a.g=null;var w=2}else if(Cr(a.h,h))_=h.G,wa(a.h,h),w=1;else return;if(a.I!=0){if(h.o)if(w==1){_=h.u?h.u.length:0,h=Date.now()-h.F;var V=a.D;w=Qs(),te(w,new ga(w,_)),fs(a)}else Na(a);else if(V=h.m,V==3||V==0&&h.X>0||!(w==1&&wd(a,h)||w==2&&Eo(a)))switch(_&&_.length>0&&(h=a.h,h.i=h.i.concat(_)),V){case 1:Rs(a,5);break;case 4:Rs(a,10);break;case 3:Rs(a,6);break;default:Rs(a,2)}}}function La(a,h){let _=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(_*=2),_*h}function Rs(a,h){if(a.j.info("Error code "+h),h==2){var _=d(a.bb,a),w=a.Ua;const V=!w;w=new ds(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ri(w,"https"),En(w),V?vo(w.toString(),_):cc(w.toString(),_)}else $t(2);a.I=0,a.l&&a.l.pa(h),Nr(a),ka(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Nr(a){if(a.I=0,a.ja=[],a.l){const h=Ea(a.h);(h.length!=0||a.i.length!=0)&&(O(a.ja,h),O(a.ja,a.i),a.h.i.length=0,E(a.i),a.i.length=0),a.l.oa()}}function pc(a,h,_){var w=_ instanceof ds?$n(_):new ds(_);if(w.g!="")h&&(w.g=h+"."+w.g),Si(w,w.u);else{var V=o.location;w=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;const U=new ds(null);w&&Ri(U,w),h&&(U.g=h),V&&Si(U,V),_&&(U.h=_),w=U}return _=a.G,h=a.wa,_&&h&&lt(w,_,h),lt(w,"VER",a.ka),Di(a,w),w}function mc(a,h,_){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new pt(new Zs({ab:_})):new pt(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}t=Io.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vr(){}Vr.prototype.g=function(a,h){return new un(a,h)};function un(a,h){ne.call(this),this.g=new Oi(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!C(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!C(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ni(this)}g(un,ne),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){kr(this.g)},un.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var _={};_.__data__=a,a=_}else this.v&&(_={},_.__data__=We(a),a=_);h.i.push(new ac(h.Ya++,a)),h.I==3&&fs(h)},un.prototype.N=function(){this.g.l=null,delete this.j,kr(this.g),delete this.g,un.Z.N.call(this)};function Ss(a){Is.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const _ in h){a=_;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}g(Ss,Is);function Ao(){Gt.call(this),this.status=1}g(Ao,Gt);function Ni(a){this.g=a}g(Ni,Io),Ni.prototype.ra=function(){te(this.g,"a")},Ni.prototype.qa=function(a){te(this.g,new Ss(a))},Ni.prototype.pa=function(a){te(this.g,new Ao)},Ni.prototype.oa=function(){te(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,vb=function(){return new Vr},_b=function(){return Qs()},gb=jt,Dh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,Wc=ho,sc.COMPLETE="complete",mb=sc,Vt.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ne.prototype.listen=ne.prototype.J,Qa=Vt,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,pb=pt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Ng="@firebase/firestore",Vg="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Sf("@firebase/firestore");function No(){return so.logLevel}function me(t,...e){if(so.logLevel<=He.DEBUG){const n=e.map(Uf);so.debug(`Firestore (${ca}): ${t}`,...n)}}function yi(t,...e){if(so.logLevel<=He.ERROR){const n=e.map(Uf);so.error(`Firestore (${ca}): ${t}`,...n)}}function Jo(t,...e){if(so.logLevel<=He.WARN){const n=e.map(Uf);so.warn(`Firestore (${ca}): ${t}`,...n)}}function Uf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,yb(t,s,n)}function yb(t,e,n){let s=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yi(s),new Error(s)}function st(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||yb(e,i,s)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class xS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PS{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let s=this.i;const i=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let r=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new nr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new bb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class kS{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OS{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new kS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const s=r=>{r.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=NS(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function Nh(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return eh(i)===eh(r)?ze(i,r):eh(i)?1:-1}return ze(t.length,e.length)}const VS=55296,LS=57343;function eh(t){const e=t.charCodeAt(0);return e>=VS&&e<=LS}function Zo(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="__name__";class Vs{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Vs.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return ze(e.length,n.length)}static compareSegments(e,n){const s=Vs.isNumericId(e),i=Vs.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Vs.extractNumericId(e).compare(Vs.extractNumericId(n)):Nh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}}class vt extends Vs{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const MS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Vs{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return MS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mg}static keyField(){return new an([Mg])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(vt.fromString(e))}static fromName(e){return new Te(vt.fromString(e).popFirst(5))}static empty(){return new Te(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e,n){if(!n)throw new fe(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FS(t,e,n,s){if(e===!0&&s===!0)throw new fe(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fg(t){if(!Te.isDocumentKey(t))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ug(t){if(Te.isDocumentKey(t))throw new fe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Eb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yu(t);throw new fe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kl(t,e){if(!Eb(t))throw new fe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(i&&typeof o!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new fe(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-62135596800,$g=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$g);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jg)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$g}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:zt("string",wt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new wt(0,0))}static max(){return new Oe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function US(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new ar(i,Te.empty(),e)}function jS(t){return new ar(t.readTime,t.key,Sl)}class ar{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ar(Oe.min(),Te.empty(),Sl)}static max(){return new ar(Oe.max(),Te.empty(),Sl)}}function $S(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==BS)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,s)=>{n(e)})}static reject(e){return new Q((n,s)=>{s(e)})}static waitFor(e){return new Q((n,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&n()},u=>s(u))}),o=!0,r===i&&n()})}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next(i=>i?Q.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new Q((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let u=0;u<r;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++l,l===r&&s(o)},f=>i(f))}})}static doWhile(e,n){return new Q((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function HS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=-1;function Ju(t){return t==null}function vu(t){return t===0&&1/t==-1/0}function zS(t){return typeof t=="number"&&Number.isInteger(t)&&!vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="";function GS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bg(e)),e=WS(t.get(n),e);return Bg(e)}function WS(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case Tb:n+="";break;default:n+=r}}return n}function Bg(t){return t+Tb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ib(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??on.RED,this.left=i??on.EMPTY,this.right=r??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new on(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return on.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hg(this.data.getIterator())}getIteratorFrom(e){return new Hg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class Hg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Yt(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Ab("Invalid base64 string: "+r):r}}(e);return new ln(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const KS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=KS.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cr(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="server_timestamp",Rb="__type__",Sb="__previous_value__",xb="__local_write_time__";function Bf(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Rb])==null?void 0:s.stringValue)===Cb}function Zu(t){const e=t.mapValue.fields[Sb];return Bf(e)?Zu(e):e}function xl(t){const e=lr(t.mapValue.fields[xb].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,s,i,r,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const yu="(default)";class Pl{constructor(e,n){this.projectId=e,this.database=n||yu}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===yu}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__type__",kb="__max__",Oc={mapValue:{fields:{__type__:{stringValue:kb}}}},Ob="__vector__",bu="value";function ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bf(t)?4:XS(t)?9007199254740991:YS(t)?10:11:xe(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=ur(t);if(n!==ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xl(t).isEqual(xl(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=lr(i.timestampValue),l=lr(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return cr(i.bytesValue).isEqual(cr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Mt(i.geoPointValue.latitude)===Mt(r.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Mt(i.integerValue)===Mt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Mt(i.doubleValue),l=Mt(r.doubleValue);return o===l?vu(o)===vu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(qg(o)!==qg(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Ws(o[u],l[u])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function kl(t,e){return(t.values||[]).find(n=>Ws(n,e))!==void 0}function ea(t,e){if(t===e)return 0;const n=ur(t),s=ur(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(r,o){const l=Mt(r.integerValue||r.doubleValue),u=Mt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return zg(t.timestampValue,e.timestampValue);case 4:return zg(xl(t),xl(e));case 5:return Nh(t.stringValue,e.stringValue);case 6:return function(r,o){const l=cr(r),u=cr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=ze(l[d],u[d]);if(f!==0)return f}return ze(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const l=ze(Mt(r.latitude),Mt(o.latitude));return l!==0?l:ze(Mt(r.longitude),Mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gg(t.arrayValue,e.arrayValue);case 10:return function(r,o){var y,E,O,L;const l=r.fields||{},u=o.fields||{},d=(y=l[bu])==null?void 0:y.arrayValue,f=(E=u[bu])==null?void 0:E.arrayValue,g=ze(((O=d==null?void 0:d.values)==null?void 0:O.length)||0,((L=f==null?void 0:f.values)==null?void 0:L.length)||0);return g!==0?g:Gg(d,f)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Oc.mapValue&&o===Oc.mapValue)return 0;if(r===Oc.mapValue)return 1;if(o===Oc.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const y=Nh(u[g],f[g]);if(y!==0)return y;const E=ea(l[u[g]],d[f[g]]);if(E!==0)return E}return ze(u.length,f.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function zg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=lr(t),s=lr(e),i=ze(n.seconds,s.seconds);return i!==0?i:ze(n.nanos,s.nanos)}function Gg(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=ea(n[i],s[i]);if(r)return r}return ze(n.length,s.length)}function ta(t){return Vh(t)}function Vh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=lr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=Vh(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${Vh(n.fields[o])}`;return i+"}"}(t.mapValue):xe(61005,{value:t})}function Kc(t){switch(ur(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zu(t);return e?16+Kc(e):16;case 5:return 2*t.stringValue.length;case 6:return cr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+Kc(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return _r(s.fields,(r,o)=>{i+=r.length+Kc(o)}),i}(t.mapValue);default:throw xe(13486,{value:t})}}function Wg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lh(t){return!!t&&"integerValue"in t}function qf(t){return!!t&&"arrayValue"in t}function Kg(t){return!!t&&"nullValue"in t}function Qg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qc(t){return!!t&&"mapValue"in t}function YS(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Pb])==null?void 0:s.stringValue)===Ob}function fl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _r(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=fl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(t.arrayValue.values[n]);return e}return{...t}}function XS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=an.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=fl(o):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Qc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){_r(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Mn(fl(this.value))}}function Db(t){const e=[];return _r(t.fields,(n,s)=>{const i=new an([n]);if(Qc(s)){const r=Db(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,i,r,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new mn(e,0,Oe.min(),Oe.min(),Oe.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,i){return new mn(e,1,n,Oe.min(),s,i,0)}static newNoDocument(e,n){return new mn(e,2,n,Oe.min(),Oe.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Oe.min(),Oe.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.position=e,this.inclusive=n}}function Yg(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Te.comparator(Te.fromName(o.referenceValue),n.key):s=ea(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function JS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{}class Ht extends Nb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ex(e,n,s):n==="array-contains"?new sx(e,s):n==="in"?new ix(e,s):n==="not-in"?new rx(e,s):n==="array-contains-any"?new ox(e,s):new Ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tx(e,s):new nx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ea(n,this.value)):n!==null&&ur(this.value)===ur(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends Nb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Es(e,n)}matches(e){return Vb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vb(t){return t.op==="and"}function Lb(t){return ZS(t)&&Vb(t)}function ZS(t){for(const e of t.filters)if(e instanceof Es)return!1;return!0}function Mh(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(Lb(t))return t.filters.map(e=>Mh(e)).join(",");{const e=t.filters.map(n=>Mh(n)).join(",");return`${t.op}(${e})`}}function Mb(t,e){return t instanceof Ht?function(s,i){return i instanceof Ht&&s.op===i.op&&s.field.isEqual(i.field)&&Ws(s.value,i.value)}(t,e):t instanceof Es?function(s,i){return i instanceof Es&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&Mb(o,i.filters[l]),!0):!1}(t,e):void xe(19439)}function Fb(t){return t instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${ta(n.value)}`}(t):t instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(Fb).join(" ,")+"}"}(t):"Filter"}class ex extends Ht{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class tx extends Ht{constructor(e,n){super(e,"in",n),this.keys=Ub("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nx extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=Ub("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ub(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Te.fromName(s.referenceValue))}class sx extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qf(n)&&kl(n.arrayValue,this.value)}}class ix extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class rx extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class ox extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Te=null}}function Jg(t,e=null,n=[],s=[],i=null,r=null,o=null){return new ax(t,e,n,s,i,r,o)}function Hf(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Mh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ta(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ta(s)).join(",")),e.Te=n}return e.Te}function zf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xg(t.startAt,e.startAt)&&Xg(t.endAt,e.endAt)}function Fh(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n=null,s=[],i=[],r=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lx(t,e,n,s,i,r,o,l){return new ha(t,e,n,s,i,r,o,l)}function ed(t){return new ha(t)}function Zg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jb(t){return t.collectionGroup!==null}function pl(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Yt(an.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new Ol(r,s))}),n.has(an.keyField().canonicalString())||e.Ie.push(new Ol(an.keyField(),s))}return e.Ie}function $s(t){const e=Ve(t);return e.Ee||(e.Ee=cx(e,pl(t))),e.Ee}function cx(t,e){if(t.limitType==="F")return Jg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new Ol(i.field,r)});const n=t.endAt?new wu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new wu(t.startAt.position,t.startAt.inclusive):null;return Jg(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Uh(t,e){const n=t.filters.concat([e]);return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jh(t,e,n){return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return zf($s(t),$s(e))&&t.limitType===e.limitType}function $b(t){return`${Hf($s(t))}|lt:${t.limitType}`}function Vo(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>Fb(i)).join(", ")}]`),Ju(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>ta(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>ta(i)).join(",")),`Target(${s})`}($s(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Te.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of pl(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,u){const d=Yg(o,l,u);return o.inclusive?d<=0:d<0}(s.startAt,pl(s),i)||s.endAt&&!function(o,l,u){const d=Yg(o,l,u);return o.inclusive?d>=0:d>0}(s.endAt,pl(s),i))}(t,e)}function ux(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bb(t){return(e,n)=>{let s=!1;for(const i of pl(t)){const r=dx(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function dx(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):function(r,o,l){const u=o.data.field(r),d=l.data.field(r);return u!==null&&d!==null?ea(u,d):xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new It(Te.comparator);function bi(){return hx}const qb=new It(Te.comparator);function Ya(...t){let e=qb;for(const n of t)e=e.insert(n.key,n);return e}function Hb(t){let e=qb;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Wr(){return ml()}function zb(){return ml()}function ml(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const fx=new It(Te.comparator),px=new Yt(Te.comparator);function Ge(...t){let e=px;for(const n of t)e=e.add(n);return e}const mx=new Yt(ze);function gx(){return mx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function Gb(t){return{integerValue:""+t}}function _x(t,e){return zS(e)?Gb(e):Gf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function vx(t,e,n){return t instanceof Dl?function(i,r){const o={fields:{[Rb]:{stringValue:Cb},[xb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Bf(r)&&(r=Zu(r)),r&&(o.fields[Sb]=r),{mapValue:o}}(n,e):t instanceof Nl?Kb(t,e):t instanceof Vl?Qb(t,e):function(i,r){const o=Wb(i,r),l=e_(o)+e_(i.Ae);return Lh(o)&&Lh(i.Ae)?Gb(l):Gf(i.serializer,l)}(t,e)}function yx(t,e,n){return t instanceof Nl?Kb(t,e):t instanceof Vl?Qb(t,e):n}function Wb(t,e){return t instanceof Eu?function(s){return Lh(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Dl extends sd{}class Nl extends sd{constructor(e){super(),this.elements=e}}function Kb(t,e){const n=Yb(e);for(const s of t.elements)n.some(i=>Ws(i,s))||n.push(s);return{arrayValue:{values:n}}}class Vl extends sd{constructor(e){super(),this.elements=e}}function Qb(t,e){let n=Yb(e);for(const s of t.elements)n=n.filter(i=>!Ws(i,s));return{arrayValue:{values:n}}}class Eu extends sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function e_(t){return Mt(t.integerValue||t.doubleValue)}function Yb(t){return qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.field=e,this.transform=n}}function wx(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof Nl&&i instanceof Nl||s instanceof Vl&&i instanceof Vl?Zo(s.elements,i.elements,Ws):s instanceof Eu&&i instanceof Eu?Ws(s.Ae,i.Ae):s instanceof Dl&&i instanceof Dl}(t.transform,e.transform)}class Ex{constructor(e,n){this.version=e,this.transformResults=n}}class cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class id{}function Xb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wf(t.key,cs.none()):new Ql(t.key,t.data,cs.none());{const n=t.data,s=Mn.empty();let i=new Yt(an.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new vr(t.key,s,new Gn(i.toArray()),cs.none())}}function Tx(t,e,n){t instanceof Ql?function(i,r,o){const l=i.value.clone(),u=n_(i.fieldTransforms,r,o.transformResults);l.setAll(u),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof vr?function(i,r,o){if(!Yc(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=n_(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(Jb(i)),u.setAll(l),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gl(t,e,n,s){return t instanceof Ql?function(r,o,l,u){if(!Yc(r.precondition,o))return l;const d=r.value.clone(),f=s_(r.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof vr?function(r,o,l,u){if(!Yc(r.precondition,o))return l;const d=s_(r.fieldTransforms,u,o),f=o.data;return f.setAll(Jb(r)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(t,e,n,s):function(r,o,l){return Yc(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Ix(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=Wb(s.transform,i||null);r!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,r))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Zo(s,i,(r,o)=>wx(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends id{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vr extends id{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Jb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function n_(t,e,n){const s=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,yx(o,l,n[i]))}return s}function s_(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,vx(r,o,e))}return s}class Wf extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&Tx(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zb();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(i.key)?null:l;const u=Xb(o,l);u!==null&&s.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(n,s)=>t_(n,s))&&Zo(this.baseMutations,e.baseMutations,(n,s)=>t_(n,s))}}class Kf{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return fx}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Kf(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ye;function xx(t){switch(t){case W.OK:return xe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function Zb(t){if(t===void 0)return yi("GRPC error has no .code"),W.UNKNOWN;switch(t){case qt.OK:return W.OK;case qt.CANCELLED:return W.CANCELLED;case qt.UNKNOWN:return W.UNKNOWN;case qt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case qt.INTERNAL:return W.INTERNAL;case qt.UNAVAILABLE:return W.UNAVAILABLE;case qt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case qt.NOT_FOUND:return W.NOT_FOUND;case qt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case qt.ABORTED:return W.ABORTED;case qt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case qt.DATA_LOSS:return W.DATA_LOSS;default:return xe(39323,{code:t})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new tr([4294967295,4294967295],0);function i_(t){const e=Px().encode(t),n=new fb;return n.update(e),new Uint8Array(n.digest())}function r_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new tr([n,s],0),new tr([i,r],0)]}class Qf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xa(`Invalid padding: ${n}`);if(s<0)throw new Xa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=tr.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(tr.fromNumber(s)));return i.compare(kx)===1&&(i=new tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=i_(e),[s,i]=r_(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);if(!this.we(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Qf(r,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=i_(e),[s,i]=r_(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rd(Oe.min(),i,new It(ze),bi(),Ge())}}class Yl{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Yl(s,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class ew{constructor(e,n){this.targetId=e,this.Ce=n}}class tw{constructor(e,n,s=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class o_{constructor(){this.ve=0,this.Fe=a_(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),s=Ge();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:xe(38017,{changeType:r})}}),new Yl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ox{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.Je=Dc(),this.He=Dc(),this.Ye=new It(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(Fh(r))if(s===0){const o=new Te(r.path);this.et(n,o,mn.newNoDocument(o,Oe.min()))}else st(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,l;try{o=cr(s).toUint8Array()}catch(u){if(u instanceof Ab)return Jo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Qf(o,i,r)}catch(u){return Jo(u instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.et(n,r,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((r,o)=>{const l=this.ot(o);if(l){if(r.current&&Fh(l.target)){const u=new Te(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,mn.newNoDocument(u,e))}r.Be&&(n.set(o,r.ke()),r.qe())}});let s=Ge();this.He.forEach((r,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.je.forEach((r,o)=>o.setReadTime(e));const i=new rd(e,n,this.Ye,this.je,s);return this.je=bi(),this.Je=Dc(),this.He=Dc(),this.Ye=new It(ze),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new o_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dc(){return new It(Te.comparator)}function a_(){return new It(Te.comparator)}const Dx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Nx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Vx=(()=>({and:"AND",or:"OR"}))();class Lx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $h(t,e){return t.useProto3Json||Ju(e)?e:{value:e}}function Tu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mx(t,e){return Tu(t,e.toTimestamp())}function Bs(t){return st(!!t,49232),Oe.fromTimestamp(function(n){const s=lr(n);return new wt(s.seconds,s.nanos)}(t))}function Yf(t,e){return Bh(t,e).canonicalString()}function Bh(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sw(t){const e=vt.fromString(t);return st(lw(e),10190,{key:e.toString()}),e}function qh(t,e){return Yf(t.databaseId,e.path)}function th(t,e){const n=sw(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(rw(n))}function iw(t,e){return Yf(t.databaseId,e)}function Fx(t){const e=sw(t);return e.length===4?vt.emptyPath():rw(e)}function Hh(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rw(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l_(t,e,n){return{name:qh(t,e),fields:n.value.mapValue.fields}}function Ux(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(d,f){return d.useProto3Json?(st(f===void 0||typeof f=="string",58123),ln.fromBase64String(f||"")):(st(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ln.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?W.UNKNOWN:Zb(d.code);return new fe(f,d.message||"")}(o);n=new tw(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=th(t,s.document.name),r=Bs(s.document.updateTime),o=s.document.createTime?Bs(s.document.createTime):Oe.min(),l=new Mn({mapValue:{fields:s.document.fields}}),u=mn.newFoundDocument(i,r,o,l),d=s.targetIds||[],f=s.removedTargetIds||[];n=new Xc(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=th(t,s.document),r=s.readTime?Bs(s.readTime):Oe.min(),o=mn.newNoDocument(i,r),l=s.removedTargetIds||[];n=new Xc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=th(t,s.document),r=s.removedTargetIds||[];n=new Xc([],r,i,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new Sx(i,r),l=s.targetId;n=new ew(l,o)}}return n}function jx(t,e){let n;if(e instanceof Ql)n={update:l_(t,e.key,e.value)};else if(e instanceof Wf)n={delete:qh(t,e.key)};else if(e instanceof vr)n={update:l_(t,e.key,e.data),updateMask:Qx(e.fieldMask)};else{if(!(e instanceof Ax))return xe(16599,{Vt:e.type});n={verify:qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof Dl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Nl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Eu)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw xe(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:Mx(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:xe(27497)}(t,e.precondition)),n}function $x(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?Bs(i.updateTime):Bs(r);return o.isEqual(Oe.min())&&(o=Bs(r)),new Ex(o,i.transformResults||[])}(n,e))):[]}function Bx(t,e){return{documents:[iw(t,e.path)]}}function qx(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iw(t,i);const r=function(d){if(d.length!==0)return aw(Es.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:Lo(y.field),direction:Gx(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=$h(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function Hx(t){let e=Fx(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){st(s===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(g){const y=ow(g);return y instanceof Es&&Lb(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(O){return new Ol(Mo(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,Ju(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){const y=!!g.before,E=g.values||[];return new wu(E,y)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const y=!g.before,E=g.values||[];return new wu(E,y)}(n.endAt)),lx(e,i,o,r,l,"F",u,d)}function zx(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ow(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Mo(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Mo(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mo(n.unaryFilter.field);return Ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mo(n.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ht.create(Mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(s=>ow(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(t):xe(30097,{filter:t})}function Gx(t){return Dx[t]}function Wx(t){return Nx[t]}function Kx(t){return Vx[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Mo(t){return an.fromServerFormat(t.fieldPath)}function aw(t){return t instanceof Ht?function(n){if(n.op==="=="){if(Qg(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(Kg(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qg(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(Kg(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:Wx(n.op),value:n.value}}}(t):t instanceof Es?function(n){const s=n.getFilters().map(i=>aw(i));return s.length===1?s[0]:{compositeFilter:{op:Kx(n.op),filters:s}}}(t):xe(54877,{filter:t})}function Qx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,s,i,r=Oe.min(),o=Oe.min(),l=ln.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.yt=e}}function Xx(t){const e=Hx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Cn=new Zx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ar.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Zx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Yt(vt.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Yt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cw=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(cw,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new na(0)}static cr(){return new na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",eP=1048576;function d_([t,e],[n,s]){const i=ze(t,n);return i===0?ze(e,s):i}class tP{constructor(e){this.Ir=e,this.buffer=new Yt(d_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();d_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){da(n)?me(u_,"Ignoring IndexedDB error during garbage collection: ",n):await ua(n)}await this.Vr(3e5)})}}class sP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Xu.ce);const s=new tP(n);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(c_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,r,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(s=g,l=Date.now(),this.removeTargets(e,s,n))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(g=>(d=Date.now(),No()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:g})))}}function iP(t,e){return new sP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&gl(s.mutation,i,Gn.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ge()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ge()){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=Ya();return r.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Wr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ge()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let r=bi();const o=ml(),l=function(){return ml()}();return n.forEach((u,d)=>{const f=s.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof vr)?r=r.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),gl(f.mutation,d,f.mutation.getFieldMask(),wt.now())):o.set(d.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>l.set(d,new oP(f,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=ml();let i=new It((o,l)=>o-l),r=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=s.get(u)||Gn.empty();f=l.applyToLocalView(d,f),s.set(u,f);const g=(i.get(l.batchId)||Ge()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,g=zb();f.forEach(y=>{if(!r.has(y)){const E=Xb(n.get(y),s.get(y));E!==null&&g.set(y,E),r=r.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):Q.resolve(Wr());let l=Sl,u=r;return o.next(d=>Q.forEach(d,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),r.get(f)?Q.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,u,d,Ge())).next(f=>({batchId:l,changes:Hb(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let i=Ya();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=Ya();return this.indexManager.getCollectionParents(e,r).next(l=>Q.forEach(l,u=>{const d=function(g,y){return new ha(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,s,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,mn.newInvalidDocument(f)))});let l=Ya();return o.forEach((u,d)=>{const f=r.get(u);f!==void 0&&gl(f.mutation,d,Gn.empty(),wt.now()),nd(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bs(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Xx(i.bundledQuery),readTime:Bs(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.overlays=new It(Te.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Wr();return Q.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),Q.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const i=Wr(),r=n.length+1,o=new Te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&u.largestBatchId>s&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new It((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let f=r.get(d.largestBatchId);f===null&&(f=Wr(),r=r.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Wr(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=i)););return Q.resolve(l)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Rx(n,s));let r=this.qr.get(n);r===void 0&&(r=Ge(),this.qr.set(n,r)),this.qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.Qr=new Yt(tn.$r),this.Ur=new Yt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new tn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Te(new vt([])),s=new tn(n,e),i=new tn(n,e+1),r=[];return this.Ur.forEachInRange([s,i],o=>{this.Gr(o),r.push(o.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new vt([])),s=new tn(n,e),i=new tn(n,e+1);let r=Ge();return this.Ur.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new tn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(tn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cx(r,n,s,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new tn(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),r=i<0?0:i;return Q.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?$f:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],o=>{const l=this.Xr(o.Yr);r.push(l)}),Q.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Yt(ze);return n.forEach(i=>{const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,o],l=>{s=s.add(l.Yr)})}),Q.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Te.isDocumentKey(r)||(r=r.child(""));const o=new tn(new Te(r),0);let l=new Yt(ze);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!s.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)},o),Q.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Q.forEach(n.mutations,i=>{const r=new tn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new tn(n,0),i=this.Zr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.ri=e,this.docs=function(){return new It(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=bi();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():mn.newInvalidDocument(i))}),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=bi();const o=n.path,l=new Te(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||$S(jS(f),s)<=0||(i.has(f.key)||nd(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return Q.resolve(r)}getAllFromCollectionGroup(e,n,s,i){xe(9500)}ii(e,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new fP(this)}getSize(e){return Q.resolve(this.size)}}class fP extends rP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.persistence=e,this.si=new lo(n=>Hf(n),zf),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Xf,this.targetCount=0,this.ai=na.ur()}forEachTarget(e,n){return this.si.forEach((s,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new na(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Q.waitFor(r).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xu(0),this.li=!1,this.li=!0,this.hi=new uP,this.referenceDelegate=e(this),this.Pi=new pP(this),this.indexManager=new Jx,this.remoteDocumentCache=function(i){return new hP(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Yx(n),this.Ii=new lP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new dP(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const i=new mP(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(r=>this.referenceDelegate.di(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ai(e,n){return Q.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class mP extends qS{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.Ri=new Xf,this.Vi=null}static mi(e){return new Jf(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.fi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,s=>{const i=Te.fromPath(s);return this.gi(e,i).next(r=>{r||n.removeEntry(i,Oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Iu{constructor(e,n){this.persistence=e,this.pi=new lo(s=>GS(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=iP(this,n)}static mi(e,n){return new Iu(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return Q.forEach(this.pi,(s,i)=>this.br(e,s,i).next(r=>r?Q.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(s++,r.removeEntry(o,Oe.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kc(e.data.value)),n}br(e,n,s){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=Ge(),i=Ge();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Zf(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QI()?8:HS(_n())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ys(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ws(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new gP;return this.Ss(e,n,o).next(l=>{if(r.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>r.result)}bs(e,n,s,i){return s.documentReadCount<this.fs?(No()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(No()<=He.DEBUG&&me("QueryEngine","Query:",Vo(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(No()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$s(n))):Q.resolve())}ys(e,n){if(Zg(n))return Q.resolve(null);let s=$s(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jh(n,null,"F"),s=$s(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Ge(...r);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,jh(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,s,i){return Zg(n)||i.isEqual(Oe.min())?Q.resolve(null):this.ps.getDocuments(e,s).next(r=>{const o=this.Ds(n,r);return this.Cs(n,o,s,i)?Q.resolve(null):(No()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vo(n)),this.vs(e,o,n,US(i,Sl)).next(l=>l))})}Ds(e,n){let s=new Yt(Bb(e));return n.forEach((i,r)=>{nd(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return No()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Vo(n)),this.ps.getDocumentsMatchingQuery(e,n,ar.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",vP=3e8;class yP{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new It(ze),this.xs=new lo(r=>Hf(r),zf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bP(t,e,n,s){return new yP(t,e,n,s)}async function dw(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let u=Ge();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of r){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function wP(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const g=d.batch,y=g.keys();let E=Q.resolve();return y.forEach(O=>{E=E.next(()=>f.getEntry(u,O)).next(L=>{const M=d.docVersions.get(O);st(M!==null,48541),L.version.compareTo(M)<0&&(g.applyToRemoteDocument(L,d),L.isValidDocument()&&(L.setReadTime(d.commitVersion),f.addEntry(L)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let u=Ge();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function hw(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function EP(t,e){const n=Ve(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((f,g)=>{const y=i.get(g);if(!y)return;l.push(n.Pi.removeMatchingKeys(r,f.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(r,f.addedDocuments,g)));let E=y.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(ln.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,s)),i=i.insert(g,E),function(L,M,H){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=vP?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(y,E,f)&&l.push(n.Pi.updateTargetData(r,E))});let u=bi(),d=Ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),l.push(TP(r,o,e.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!s.isEqual(Oe.min())){const f=n.Pi.getLastRemoteSnapshotVersion(r).next(g=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(f)}return Q.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,d)).next(()=>u)}).then(r=>(n.Ms=i,r))}function TP(t,e,n){let s=Ge(),i=Ge();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=bi();return n.forEach((l,u)=>{const d=r.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):me(ep,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:i}})}function IP(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$f),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function AP(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Pi.getTargetData(s,e).next(r=>r?(i=r,Q.resolve(i)):n.Pi.allocateTargetId(s).next(o=>(i=new Qi(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function zh(t,e,n){const s=Ve(t),i=s.Ms.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!da(o))throw o;me(ep,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function h_(t,e,n){const s=Ve(t);let i=Oe.min(),r=Ge();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const g=Ve(u),y=g.xs.get(f);return y!==void 0?Q.resolve(g.Ms.get(y)):g.Pi.getTargetData(d,f)}(s,o,$s(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{r=u})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?r:Ge())).next(l=>(CP(s,ux(e),l),{documents:l,Qs:r})))}function CP(t,e,n){let s=t.Os.get(e)||Oe.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Os.set(e,s)}class f_{constructor(){this.activeTargetIds=gx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RP{constructor(){this.Mo=new f_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class m_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(p_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function Gh(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="RestConnection",xP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===yu?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,r){const o=Gh(),l=this.zo(e,n.toUriEncodedString());me(nh,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,r);const{host:d}=new URL(l),f=mr(d);return this.Jo(e,l,u,s,f).then(g=>(me(nh,`Received RPC '${e}' ${o}: `,g),g),g=>{throw Jo(nh,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",s),g})}Ho(e,n,s,i,r,o){return this.Go(e,n,s,i,r)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}zo(e,n){const s=xP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class OP extends PP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=Gh();return new Promise((l,u)=>{const d=new pb;d.setWithCredentials(!0),d.listenOnce(mb.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Wc.NO_ERROR:const g=d.getResponseJson();me(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Wc.TIMEOUT:me(dn,`RPC '${e}' ${o} timed out`),u(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const y=d.getStatus();if(me(dn,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const O=E==null?void 0:E.error;if(O&&O.status&&O.message){const L=function(H){const z=H.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(z)>=0?z:W.UNKNOWN}(O.status);u(new fe(L,O.message))}else u(new fe(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new fe(W.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{me(dn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);me(dn,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,s,15)})}T_(e,n,s){const i=Gh(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vb(),l=_b(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const f=r.join("");me(dn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);this.I_(g);let y=!1,E=!1;const O=new kP({Yo:M=>{E?me(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(me(dn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),me(dn,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},Zo:()=>g.close()}),L=(M,H,z)=>{M.listen(H,G=>{try{z(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return L(g,Qa.EventType.OPEN,()=>{E||(me(dn,`RPC '${e}' stream ${i} transport opened.`),O.o_())}),L(g,Qa.EventType.CLOSE,()=>{E||(E=!0,me(dn,`RPC '${e}' stream ${i} transport closed`),O.a_(),this.E_(g))}),L(g,Qa.EventType.ERROR,M=>{E||(E=!0,Jo(dn,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),O.a_(new fe(W.UNAVAILABLE,"The operation could not be completed")))}),L(g,Qa.EventType.MESSAGE,M=>{var H;if(!E){const z=M.data[0];st(!!z,16349);const G=z,ee=(G==null?void 0:G.error)||((H=G[0])==null?void 0:H.error);if(ee){me(dn,`RPC '${e}' stream ${i} received error:`,ee);const pe=ee.status;let Ee=function(I){const x=qt[I];if(x!==void 0)return Zb(x)}(pe),S=ee.message;Ee===void 0&&(Ee=W.INTERNAL,S="Unknown error status: "+pe+" with message "+ee.message),E=!0,O.a_(new fe(Ee,S)),g.close()}else me(dn,`RPC '${e}' stream ${i} received:`,z),O.u_(z)}}),L(l,gb.STAT_EVENT,M=>{M.stat===Dh.PROXY?me(dn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Dh.NOPROXY&&me(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function sh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){return new Lx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class pw{constructor(e,n,s,i,r,o,l,u){this.Mi=e,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{e(()=>{const i=new fe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DP extends pw{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ux(this.serializer,e),s=function(r){if(!("targetChange"in r))return Oe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Bs(o.readTime):Oe.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Hh(this.serializer),n.addTarget=function(r,o){let l;const u=o.target;if(l=Fh(u)?{documents:Bx(r,u)}:{query:qx(r,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=nw(r,o.resumeToken);const d=$h(r,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=Tu(r,o.snapshotVersion.toTimestamp());const d=$h(r,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=zx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Hh(this.serializer),n.removeTarget=e,this.q_(n)}}class NP extends pw{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$x(e.writeResults,e.commitTime),s=Bs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>jx(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class LP extends VP{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Go(e,Bh(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new fe(W.UNKNOWN,r.toString())})}Ho(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Bh(n,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class MP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class FP{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{co(this)&&(me(io,"Restarting streams for network reachability change."),await async function(u){const d=Ve(u);d.Ea.add(4),await Xl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await ad(d)}(this))})}),this.Ra=new MP(s,i)}}async function ad(t){if(co(t))for(const e of t.da)await e(!0)}async function Xl(t){for(const e of t.da)await e(!1)}function mw(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ip(n)?sp(n):fa(n).O_()&&np(n,e))}function tp(t,e){const n=Ve(t),s=fa(n);n.Ia.delete(e),s.O_()&&gw(n,e),n.Ia.size===0&&(s.O_()?s.L_():co(n)&&n.Ra.set("Unknown"))}function np(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fa(t).Y_(e)}function gw(t,e){t.Va.Ue(e),fa(t).Z_(e)}function sp(t){t.Va=new Ox({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fa(t).start(),t.Ra.ua()}function ip(t){return co(t)&&!fa(t).x_()&&t.Ia.size>0}function co(t){return Ve(t).Ea.size===0}function _w(t){t.Va=void 0}async function UP(t){t.Ra.set("Online")}async function jP(t){t.Ia.forEach((e,n)=>{np(t,e)})}async function $P(t,e){_w(t),ip(t)?(t.Ra.ha(e),sp(t)):t.Ra.set("Unknown")}async function BP(t,e,n){if(t.Ra.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(s){me(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Au(t,s)}else if(e instanceof Xc?t.Va.Ze(e):e instanceof ew?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const s=await hw(t.localStore);n.compareTo(s)>=0&&await function(r,o){const l=r.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Ia.get(d);f&&r.Ia.set(d,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const f=r.Ia.get(u);if(!f)return;r.Ia.set(u,f.withResumeToken(ln.EMPTY_BYTE_STRING,f.snapshotVersion)),gw(r,u);const g=new Qi(f.target,u,d,f.sequenceNumber);np(r,g)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){me(io,"Failed to raise snapshot:",s),await Au(t,s)}}async function Au(t,e,n){if(!da(e))throw e;t.Ea.add(1),await Xl(t),t.Ra.set("Offline"),n||(n=()=>hw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ad(t)})}function vw(t,e){return e().catch(n=>Au(t,n,e))}async function ld(t){const e=Ve(t),n=dr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$f;for(;qP(e);)try{const i=await IP(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,HP(e,i)}catch(i){await Au(e,i)}yw(e)&&bw(e)}function qP(t){return co(t)&&t.Ta.length<10}function HP(t,e){t.Ta.push(e);const n=dr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function yw(t){return co(t)&&!dr(t).x_()&&t.Ta.length>0}function bw(t){dr(t).start()}async function zP(t){dr(t).ra()}async function GP(t){const e=dr(t);for(const n of t.Ta)e.ea(n.mutations)}async function WP(t,e,n){const s=t.Ta.shift(),i=Kf.from(s,e,n);await vw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ld(t)}async function KP(t,e){e&&dr(t).X_&&await async function(s,i){if(function(o){return xx(o)&&o!==W.ABORTED}(i.code)){const r=s.Ta.shift();dr(s).B_(),await vw(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await ld(s)}}(t,e),yw(t)&&bw(t)}async function __(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),me(io,"RemoteStore received new credentials");const s=co(n);n.Ea.add(3),await Xl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ad(n)}async function QP(t,e){const n=Ve(t);e?(n.Ea.delete(2),await ad(n)):e||(n.Ea.add(2),await Xl(n),n.Ra.set("Unknown"))}function fa(t){return t.ma||(t.ma=function(n,s,i){const r=Ve(n);return r.sa(),new DP(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:UP.bind(null,t),t_:jP.bind(null,t),r_:$P.bind(null,t),H_:BP.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ip(t)?sp(t):t.Ra.set("Unknown")):(await t.ma.stop(),_w(t))})),t.ma}function dr(t){return t.fa||(t.fa=function(n,s,i){const r=Ve(n);return r.sa(),new NP(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zP.bind(null,t),r_:KP.bind(null,t),ta:GP.bind(null,t),na:WP.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ld(t)):(await t.fa.stop(),t.Ta.length>0&&(me(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,l=new rp(e,n,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(t,e){if(yi("AsyncQueue",`${e}: ${t}`),da(t))return new fe(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Ya(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new It(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class sa{constructor(e,n,s,i,r,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new sa(e,n,Go.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class XP{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Ve(n),r=i.queries;i.queries=y_(),r.forEach((o,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new fe(W.ABORTED,"Firestore shutting down"))}}function y_(){return new lo(t=>$b(t),td)}async function ww(t,e){const n=Ve(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.ba()&&e.Da()&&(s=2):(r=new YP,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=op(o,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,r),r.Sa.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&ap(n)}async function Ew(t,e){const n=Ve(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.Da()?0:1:!r.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JP(t,e){const n=Ve(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const l of o.Sa)l.Fa(i)&&(s=!0);o.wa=i}}s&&ap(n)}function ZP(t,e,n){const s=Ve(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function ap(t){t.Ca.forEach(e=>{e.next()})}var Wh,b_;(b_=Wh||(Wh={})).Ma="default",b_.Cache="cache";class Tw{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new sa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class ek{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Bb(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new v_,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const y=i.get(f),E=nd(this.query,g)?g:null,O=!!y&&this.mutatedKeys.has(y.key),L=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let M=!1;y&&E?y.data.isEqual(E.data)?O!==L&&(s.track({type:3,doc:E}),M=!0):this.su(y,E)||(s.track({type:2,doc:E}),M=!0,(u&&this.eu(E,u)>0||d&&this.eu(E,d)<0)&&(l=!0)):!y&&E?(s.track({type:0,doc:E}),M=!0):y&&!E&&(s.track({type:1,doc:y}),M=!0,(u||d)&&(l=!0)),M&&(E?(o=o.add(E),r=L?r.add(f):r.delete(f)):(o=o.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),r=r.delete(f.key),s.track({type:1,doc:f})}return{tu:o,iu:s,Cs:l,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,g)=>function(E,O){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:M})}};return L(E)-L(O)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(s),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new sa(this.query,e.tu,r,o,e.mutatedKeys,u===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new Aw(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new Iw(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lp="SyncEngine";class tk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nk{constructor(e){this.key=e,this.hu=!1}}class sk{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new lo(l=>$b(l),td),this.Iu=new Map,this.Eu=new Set,this.du=new It(Te.comparator),this.Au=new Map,this.Ru=new Xf,this.Vu={},this.mu=new Map,this.fu=na.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ik(t,e,n=!0){const s=kw(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await Cw(s,e,n,!0),i}async function rk(t,e){const n=kw(t);await Cw(n,e,!0,!1)}async function Cw(t,e,n,s){const i=await AP(t.localStore,$s(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let l;return s&&(l=await ok(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mw(t.remoteStore,i),l}async function ok(t,e,n,s,i){t.pu=(g,y,E)=>async function(L,M,H,z){let G=M.view.ru(H);G.Cs&&(G=await h_(L.localStore,M.query,!1).then(({documents:S})=>M.view.ru(S,G)));const ee=z&&z.targetChanges.get(M.targetId),pe=z&&z.targetMismatches.get(M.targetId)!=null,Ee=M.view.applyChanges(G,L.isPrimaryClient,ee,pe);return E_(L,M.targetId,Ee.au),Ee.snapshot}(t,g,y,E);const r=await h_(t.localStore,e,!0),o=new ek(e,r.Qs),l=o.ru(r.documents),u=Yl.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);E_(t,n,d.au);const f=new tk(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function ak(t,e,n){const s=Ve(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(o=>!td(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await zh(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&tp(s.remoteStore,i.targetId),Kh(s,i.targetId)}).catch(ua)):(Kh(s,i.targetId),await zh(s.localStore,i.targetId,!0))}async function lk(t,e){const n=Ve(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tp(n.remoteStore,s.targetId))}async function ck(t,e,n){const s=gk(t);try{const i=await function(o,l){const u=Ve(o),d=wt.now(),f=l.reduce((E,O)=>E.add(O.key),Ge());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let O=bi(),L=Ge();return u.Ns.getEntries(E,f).next(M=>{O=M,O.forEach((H,z)=>{z.isValidDocument()||(L=L.add(H))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,O)).next(M=>{g=M;const H=[];for(const z of l){const G=Ix(z,g.get(z.key).overlayedDocument);G!=null&&H.push(new vr(z.key,G,Db(G.value.mapValue),cs.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,H,l)}).next(M=>{y=M;const H=M.applyToLocalDocumentSet(g,L);return u.documentOverlayCache.saveOverlays(E,M.batchId,H)})}).then(()=>({batchId:y.batchId,changes:Hb(g)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new It(ze)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d}(s,i.batchId,n),await Jl(s,i.changes),await ld(s.remoteStore)}catch(i){const r=op(i,"Failed to persist write");n.reject(r)}}async function Rw(t,e){const n=Ve(t);try{const s=await EP(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Au.get(r);o&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?st(o.hu,14607):i.removedDocuments.size>0&&(st(o.hu,42227),o.hu=!1))}),await Jl(n,s,e)}catch(s){await ua(s)}}function w_(t,e,n){const s=Ve(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Ve(o);u.onlineState=l;let d=!1;u.queries.forEach((f,g)=>{for(const y of g.Sa)y.va(l)&&(d=!0)}),d&&ap(u)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uk(t,e,n){const s=Ve(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let o=new It(Te.comparator);o=o.insert(r,mn.newNoDocument(r,Oe.min()));const l=Ge().add(r),u=new rd(Oe.min(),new Map,new It(ze),o,l);await Rw(s,u),s.du=s.du.remove(r),s.Au.delete(e),cp(s)}else await zh(s.localStore,e,!1).then(()=>Kh(s,e,n)).catch(ua)}async function dk(t,e){const n=Ve(t),s=e.batch.batchId;try{const i=await wP(n.localStore,e);xw(n,s,null),Sw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Jl(n,i)}catch(i){await ua(i)}}async function hk(t,e,n){const s=Ve(t);try{const i=await function(o,l){const u=Ve(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(g=>(st(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(s.localStore,e);xw(s,e,n),Sw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Jl(s,i)}catch(i){await ua(i)}}function Sw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function xw(t,e,n){const s=Ve(t);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function Kh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||Pw(t,s)})}function Pw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(tp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),cp(t))}function E_(t,e,n){for(const s of n)s instanceof Iw?(t.Ru.addReference(s.key,e),fk(t,s)):s instanceof Aw?(me(lp,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Pw(t,s.key)):xe(19791,{wu:s})}function fk(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(lp,"New document in limbo: "+n),t.Eu.add(s),cp(t))}function cp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(vt.fromString(e)),s=t.fu.next();t.Au.set(s,new nk(n)),t.du=t.du.insert(n,s),mw(t.remoteStore,new Qi($s(ed(n.path)),s,"TargetPurposeLimboResolution",Xu.ce))}}async function Jl(t,e,n){const s=Ve(t),i=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,u)=>{o.push(s.pu(u,e,n).then(d=>{var f;if((d||n)&&s.isPrimaryClient){const g=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);const g=Zf.As(u.targetId,d);r.push(g)}}))}),await Promise.all(o),s.Pu.H_(i),await async function(u,d){const f=Ve(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Q.forEach(d,y=>Q.forEach(y.Es,E=>f.persistence.referenceDelegate.addReference(g,y.targetId,E)).next(()=>Q.forEach(y.ds,E=>f.persistence.referenceDelegate.removeReference(g,y.targetId,E)))))}catch(g){if(!da(g))throw g;me(ep,"Failed to update sequence numbers: "+g)}for(const g of d){const y=g.targetId;if(!g.fromCache){const E=f.Ms.get(y),O=E.snapshotVersion,L=E.withLastLimboFreeSnapshotVersion(O);f.Ms=f.Ms.insert(y,L)}}}(s.localStore,r))}async function pk(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){me(lp,"User change. New user:",e.toKey());const s=await dw(n.localStore,e);n.currentUser=e,function(r,o){r.mu.forEach(l=>{l.forEach(u=>{u.reject(new fe(W.CANCELLED,o))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Jl(n,s.Ls)}}function mk(t,e){const n=Ve(t),s=n.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let i=Ge();const r=n.Iu.get(e);if(!r)return i;for(const o of r){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function kw(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uk.bind(null,e),e.Pu.H_=JP.bind(null,e.eventManager),e.Pu.yu=ZP.bind(null,e.eventManager),e}function gk(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hk.bind(null,e),e}class Cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bP(this.persistence,new _P,e.initialUser,this.serializer)}Cu(e){return new uw(Jf.mi,this.serializer)}Du(e){return new RP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cu.provider={build:()=>new Cu};class _k extends Cu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Iu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nP(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new uw(s=>Iu.mi(s,n),this.serializer)}}class Qh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>w_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),await QP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XP}()}createDatastore(e){const n=od(e.databaseInfo.databaseId),s=function(r){return new OP(r)}(e.databaseInfo);return function(r,o,l,u){return new LP(r,o,l,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,l){return new FP(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>w_(this.syncEngine,n,0),function(){return m_.v()?new m_:new SP}())}createSyncEngine(e,n){return function(i,r,o,l,u,d,f){const g=new sk(i,r,o,l,u,d);return f&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=Ve(i);me(io,"RemoteStore shutting down."),r.Ea.add(5),await Xl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Qh.provider={build:()=>new Qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="FirestoreClient";class vk{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{me(hr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(me(hr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=op(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ih(t,e){t.asyncQueue.verifyOperationInProgress(),me(hr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await dw(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function T_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yk(t);me(hr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>__(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>__(e.remoteStore,i)),t._onlineComponents=e}async function yk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(hr,"Using user provided OfflineComponentProvider");try{await ih(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await ih(t,new Cu)}}else me(hr,"Using default OfflineComponentProvider"),await ih(t,new _k(void 0));return t._offlineComponents}async function Dw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(hr,"Using user provided OnlineComponentProvider"),await T_(t,t._uninitializedComponentsProvider._online)):(me(hr,"Using default OnlineComponentProvider"),await T_(t,new Qh))),t._onlineComponents}function bk(t){return Dw(t).then(e=>e.syncEngine)}async function Yh(t){const e=await Dw(t),n=e.eventManager;return n.onListen=ik.bind(null,e.syncEngine),n.onUnlisten=ak.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lk.bind(null,e.syncEngine),n}function wk(t,e,n={}){const s=new nr;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,u,d){const f=new Ow({next:y=>{f.Nu(),o.enqueueAndForget(()=>Ew(r,g));const E=y.docs.has(l);!E&&y.fromCache?d.reject(new fe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&u&&u.source==="server"?d.reject(new fe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new Tw(ed(l.path),f,{includeMetadataChanges:!0,qa:!0});return ww(r,g)}(await Yh(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firestore.googleapis.com",A_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vw,this.ssl=A_}else this.host=e.host,this.ssl=e.ssl??A_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eP)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new SS;switch(s.type){case"firstParty":return new OS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=I_.get(n);s&&(me("ComponentProvider","Removing Datastore"),I_.delete(n),s.terminate())}(this),Promise.resolve()}}function Ek(t,e,n,s={}){var d;t=ls(t,cd);const i=mr(e),r=t._getSettings(),o={...r,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Cf(`https://${l}`),Rf("Firestore",!0)),r.host!==Vw&&r.host!==l&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:l,ssl:i,emulatorOptions:s};if(!eo(u,o)&&(t._setSettings(u),s.mockUserToken)){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=fn.MOCK_USER;else{f=Ry(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fn(y)}t._authCredentials=new xS(new bb(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Kl(n,Pt._jsonSchema))return new Pt(e,s||null,new Te(vt.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:zt("string",Pt._jsonSchemaVersion),referencePath:zt("string")};class sr extends uo{constructor(e,n,s){super(e,n,ed(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Te(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function Xh(t,e,...n){if(t=Tt(t),wb("collection","path",e),t instanceof cd){const s=vt.fromString(e,...n);return Ug(s),new sr(t,null,s)}{if(!(t instanceof Pt||t instanceof sr))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return Ug(s),new sr(t.firestore,null,s)}}function Jh(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=jf.newId()),wb("doc","path",e),t instanceof cd){const s=vt.fromString(e,...n);return Fg(s),new Pt(t,null,new Te(s))}{if(!(t instanceof Pt||t instanceof sr))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return Fg(s),new Pt(t.firestore,t instanceof sr?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fw(this,"async_queue_retry"),this._c=()=>{const s=sh();s&&me(R_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=sh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new nr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!da(e))throw e;me(R_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",x_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=rp.createAndSchedule(this,e,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function x_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class fr extends cd{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new S_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function Tk(t,e){const n=typeof t=="object"?t:Pf(),s=typeof t=="string"?t:e||yu,i=zu(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=Iy("firestore");r&&Ek(i,...r)}return i}function up(t){if(t._terminated)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ik(t),t._firestoreClient}function Ik(t){var s,i,r;const e=t._freezeSettings(),n=function(l,u,d,f){return new QS(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Nw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((r=e.localCache)!=null&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._byteString=e}static fromBase64String(e){try{return new as(ln.fromBase64String(e))}catch(n){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new as(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:as._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,as._jsonSchema))return as.fromBase64String(e.bytes)}}as._jsonSchemaVersion="firestore/bytes/1.0",as._jsonSchema={type:zt("string",as._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qs._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,qs._jsonSchema))return new qs(e.latitude,e.longitude)}}qs._jsonSchemaVersion="firestore/geoPoint/1.0",qs._jsonSchema={type:zt("string",qs._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,Hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hs(e.vectorValues);throw new fe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:zt("string",Hs._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^__.*__$/;class Ck{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class Lw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class dp{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ru(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mw(this.Ac)&&Ak.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Rk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||od(e)}Cc(e,n,s,i=!1){return new dp({Ac:e,methodName:n,Dc:s,path:an.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hd(t){const e=t._freezeSettings(),n=od(t._databaseId);return new Rk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fw(t,e,n,s,i,r={}){const o=t.Cc(r.merge||r.mergeFields?2:0,e,n,i);fp("Data must be an object, but it was:",o,s);const l=Uw(s,o);let u,d;if(r.merge)u=new Gn(o.fieldMask),d=o.fieldTransforms;else if(r.mergeFields){const f=[];for(const g of r.mergeFields){const y=Zh(e,g,n);if(!o.contains(y))throw new fe(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);$w(f,y)||f.push(y)}u=new Gn(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new Ck(new Mn(l),u,d)}class fd extends dd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}class hp extends dd{_toFieldTransform(e){return new bx(e.path,new Dl)}isEqual(e){return e instanceof hp}}function Sk(t,e,n,s){const i=t.Cc(1,e,n);fp("Data must be an object, but it was:",i,s);const r=[],o=Mn.empty();_r(s,(u,d)=>{const f=pp(e,u,n);d=Tt(d);const g=i.yc(f);if(d instanceof fd)r.push(f);else{const y=Zl(d,g);y!=null&&(r.push(f),o.set(f,y))}});const l=new Gn(r);return new Lw(o,l,i.fieldTransforms)}function xk(t,e,n,s,i,r){const o=t.Cc(1,e,n),l=[Zh(e,s,n)],u=[i];if(r.length%2!=0)throw new fe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<r.length;y+=2)l.push(Zh(e,r[y])),u.push(r[y+1]);const d=[],f=Mn.empty();for(let y=l.length-1;y>=0;--y)if(!$w(d,l[y])){const E=l[y];let O=u[y];O=Tt(O);const L=o.yc(E);if(O instanceof fd)d.push(E);else{const M=Zl(O,L);M!=null&&(d.push(E),f.set(E,M))}}const g=new Gn(d);return new Lw(f,g,o.fieldTransforms)}function Pk(t,e,n,s=!1){return Zl(n,t.Cc(s?4:3,e))}function Zl(t,e){if(jw(t=Tt(t)))return fp("Unsupported field value:",e,t),Uw(t,e);if(t instanceof dd)return function(s,i){if(!Mw(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let u=Zl(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _x(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=wt.fromDate(s);return{timestampValue:Tu(i.serializer,r)}}if(s instanceof wt){const r=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tu(i.serializer,r)}}if(s instanceof qs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof as)return{bytesValue:nw(i.serializer,s._byteString)};if(s instanceof Pt){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Yf(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Hs)return function(o,l){return{mapValue:{fields:{[Pb]:{stringValue:Ob},[bu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Gf(l.serializer,d)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${Yu(s)}`)}(t,e)}function Uw(t,e){const n={};return Ib(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(t,(s,i)=>{const r=Zl(i,e.mc(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function jw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof qs||t instanceof as||t instanceof Pt||t instanceof dd||t instanceof Hs)}function fp(t,e,n){if(!jw(n)||!Eb(n)){const s=Yu(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Zh(t,e,n){if((e=Tt(e))instanceof ud)return e._internalPath;if(typeof e=="string")return pp(t,e);throw Ru("Field path arguments must be of type string or ",t,!1,void 0,n)}const kk=new RegExp("[~\\*/\\[\\]]");function pp(t,e,n){if(e.search(kk)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ru(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||o)&&(u+=" (found",r&&(u+=` in field ${s}`),o&&(u+=` in document ${i}`),u+=")"),new fe(W.INVALID_ARGUMENT,l+t+u)}function $w(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ok extends Bw{data(){return super.data()}}function mp(t,e){return typeof e=="string"?pp(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class qw extends gp{}function Hw(t,e,...n){let s=[];e instanceof gp&&s.push(e),s=s.concat(n),function(r){const o=r.filter(u=>u instanceof vp).length,l=r.filter(u=>u instanceof _p).length;if(o>1||o>0&&l>0)throw new fe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class _p extends qw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _p(e,n,s)}_apply(e){const n=this._parse(e);return zw(e._query,n),new uo(e.firestore,e.converter,Uh(e._query,n))}_parse(e){const n=hd(e.firestore);return function(r,o,l,u,d,f,g){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new fe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){O_(g,f);const O=[];for(const L of g)O.push(k_(u,r,L));y={arrayValue:{values:O}}}else y=k_(u,r,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||O_(g,f),y=Pk(l,o,g,f==="in"||f==="not-in");return Ht.create(d,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class vp extends gp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const u of l)zw(o,u),o=Uh(o,u)}(e._query,n),new uo(e.firestore,e.converter,Uh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yp extends qw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yp(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new fe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(r,o)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new ha(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Nk(t,e="asc"){const n=e,s=mp("orderBy",t);return yp._create(s,n)}function k_(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new fe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jb(e)&&n.indexOf("/")!==-1)throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(vt.fromString(n));if(!Te.isDocumentKey(s))throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wg(t,new Te(s))}if(n instanceof Pt)return Wg(t,n._key);throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yu(n)}.`)}function O_(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zw(t,e){const n=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Vk{convertValue(e,n="none"){switch(ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _r(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var s,i,r;const n=(r=(i=(s=e.fields)==null?void 0:s[bu].arrayValue)==null?void 0:i.values)==null?void 0:r.map(o=>Mt(o.doubleValue));return new Hs(n)}convertGeoPoint(e){return new qs(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=lr(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);st(lw(s),9688,{name:e});const i=new Pl(s.get(1),s.get(3)),r=new Te(s.popFirst(5));return i.isEqual(n)||yi(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends Bw{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(mp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:zt("string",Jr._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Jc extends Jr{data(e={}){return super.data(e)}}class Wo{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ja(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Jc(this._firestore,this._userDataWriter,s.key,s,new Ja(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Jc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ja(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new Jc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ja(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Lk(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){t=ls(t,Pt);const e=ls(t.firestore,fr);return wk(up(e),t._key).then(n=>Qw(e,t,n))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:zt("string",Wo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Ww extends Vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function U9(t,e,n){t=ls(t,Pt);const s=ls(t.firestore,fr),i=Gw(t.converter,e,n);return pd(s,[Fw(hd(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cs.none())])}function Mk(t,e,n,...s){t=ls(t,Pt);const i=ls(t.firestore,fr),r=hd(i);let o;return o=typeof(e=Tt(e))=="string"||e instanceof ud?xk(r,"updateDoc",t._key,e,n,s):Sk(r,"updateDoc",t._key,e),pd(i,[o.toMutation(t._key,cs.exists(!0))])}function Fk(t){return pd(ls(t.firestore,fr),[new Wf(t._key,cs.none())])}function Uk(t,e){const n=ls(t.firestore,fr),s=Jh(t),i=Gw(t.converter,e);return pd(n,[Fw(hd(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,cs.exists(!1))]).then(()=>s)}function Kw(t,...e){var u,d,f;t=Tt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||P_(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(P_(e[s])){const g=e[s];e[s]=(u=g.next)==null?void 0:u.bind(g),e[s+1]=(d=g.error)==null?void 0:d.bind(g),e[s+2]=(f=g.complete)==null?void 0:f.bind(g)}let r,o,l;if(t instanceof Pt)o=ls(t.firestore,fr),l=ed(t._key.path),r={next:g=>{e[s]&&e[s](Qw(o,t,g))},error:e[s+1],complete:e[s+2]};else{const g=ls(t,uo);o=ls(g.firestore,fr),l=g._query;const y=new Ww(o);r={next:E=>{e[s]&&e[s](new Wo(o,y,g,E))},error:e[s+1],complete:e[s+2]},Dk(t._query)}return function(y,E,O,L){const M=new Ow(L),H=new Tw(E,M,O);return y.asyncQueue.enqueueAndForget(async()=>ww(await Yh(y),H)),()=>{M.Nu(),y.asyncQueue.enqueueAndForget(async()=>Ew(await Yh(y),H))}}(up(o),l,i,r)}function pd(t,e){return function(s,i){const r=new nr;return s.asyncQueue.enqueueAndForget(async()=>ck(await bk(s),i,r)),r.promise}(up(t),e)}function Qw(t,e,n){const s=n.docs.get(e._key),i=new Ww(t);return new Jr(t,i,e._key,s,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}function D_(){return new hp("serverTimestamp")}(function(e,n=!0){(function(i){ca=i})(oo),to(new or("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new fr(new PS(s.getProvider("auth-internal")),new DS(o,s.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(d.options.projectId,f)}(o,i),o);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Fs(Ng,Vg,e),Fs(Ng,Vg,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebasestorage.googleapis.com",Xw="storageBucket",jk=2*60*1e3,$k=10*60*1e3,Bk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends Ks{constructor(e,n,s=0){super(rh(e),`Firebase Storage: ${n} (${rh(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function rh(t){return"storage/"+t}function bp(){const t="An unknown error occurred, please check the error payload for server response.";return new At(Et.UNKNOWN,t)}function qk(t){return new At(Et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Hk(t){return new At(Et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zk(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(Et.UNAUTHENTICATED,t)}function Gk(){return new At(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Wk(t){return new At(Et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Jw(){return new At(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zw(){return new At(Et.CANCELED,"User canceled the upload/download.")}function Kk(t){return new At(Et.INVALID_URL,"Invalid URL '"+t+"'.")}function Qk(t){return new At(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Yk(){return new At(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xw+"' property when initializing the app?")}function eE(){return new At(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xk(){return new At(Et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Jk(){return new At(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Zk(t){return new At(Et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ef(t){return new At(Et.INVALID_ARGUMENT,t)}function tE(){return new At(Et.APP_DELETED,"The Firebase app was deleted.")}function e2(t){return new At(Et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _l(t,e){return new At(Et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ha(t){throw new At(Et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(s.path==="")return s;throw Qk(e)}static makeFromUrl(e,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function r(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(ee){ee.path_=decodeURIComponent(ee.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${f}/b/${i}/o${y}`,"i"),O={bucket:1,path:3},L=n===Yw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",H=new RegExp(`^https?://${L}/${i}/${M}`,"i"),G=[{regex:l,indices:u,postModify:r},{regex:E,indices:O,postModify:d},{regex:H,indices:{bucket:1,path:2},postModify:d}];for(let ee=0;ee<G.length;ee++){const pe=G[ee],Ee=pe.regex.exec(e);if(Ee){const S=Ee[pe.indices.bucket];let T=Ee[pe.indices.path];T||(T=""),s=new Wn(S,T),pe.postModify(s);break}}if(s==null)throw Kk(e);return s}}class t2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e,n){let s=1,i=null,r=null,o=!1,l=0;function u(){return l===2}let d=!1;function f(...M){d||(d=!0,e.apply(null,M))}function g(M){i=setTimeout(()=>{i=null,t(E,u())},M)}function y(){r&&clearTimeout(r)}function E(M,...H){if(d){y();return}if(M){y(),f.call(null,M,...H);return}if(u()||o){y(),f.call(null,M,...H);return}s<64&&(s*=2);let G;l===1?(l=2,G=0):G=(s+Math.random())*1e3,g(G)}let O=!1;function L(M){O||(O=!0,y(),!d&&(i!==null?(M||(l=2),clearTimeout(i),g(0)):M||(l=1)))}return g(0),r=setTimeout(()=>{o=!0,L(!0)},n),L}function s2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){return t!==void 0}function r2(t){return typeof t=="function"}function o2(t){return typeof t=="object"&&!Array.isArray(t)}function md(t){return typeof t=="string"||t instanceof String}function N_(t){return wp()&&t instanceof Blob}function wp(){return typeof Blob<"u"}function V_(t,e,n,s){if(s<e)throw ef(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw ef(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function nE(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zr||(Zr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||i||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,s,i,r,o,l,u,d,f,g,y=!0,E=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,L)=>{this.resolve_=O,this.reject_=L,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new Vc(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const l=r.getErrorCode()===Zr.NO_ERROR,u=r.getStatus();if(!l||sE(u,this.additionalRetryCodes_)&&this.retry){const f=r.getErrorCode()===Zr.ABORT;s(!1,new Vc(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;s(!0,new Vc(d,r))})},n=(s,i)=>{const r=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());i2(u)?r(u):r()}catch(u){o(u)}else if(l!==null){const u=bp();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?tE():Zw();o(u)}else{const u=Jw();o(u)}};this.canceled_?n(!1,new Vc(!1,null,!0)):this.backoffId_=n2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function l2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h2(t,e,n,s,i,r,o=!0,l=!1){const u=nE(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return u2(f,e),l2(f,n),c2(f,r),d2(f,s),new a2(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p2(...t){const e=f2();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(wp())return new Blob(t);throw new At(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){if(typeof atob>"u")throw Zk("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oh{constructor(e,n){this.data=e,this.contentType=n||null}}function _2(t,e){switch(t){case Ms.RAW:return new oh(iE(e));case Ms.BASE64:case Ms.BASE64URL:return new oh(rE(t,e));case Ms.DATA_URL:return new oh(y2(e),b2(e))}throw bp()}function iE(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=s,o=t.charCodeAt(++n);s=65536|(r&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function v2(t){let e;try{e=decodeURIComponent(t)}catch{throw _l(Ms.DATA_URL,"Malformed data URL.")}return iE(e)}function rE(t,e){switch(t){case Ms.BASE64:{const i=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(i||r)throw _l(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ms.BASE64URL:{const i=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(i||r)throw _l(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=g2(e)}catch(i){throw i.message.includes("polyfill")?i:_l(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}class oE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _l(Ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=w2(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function y2(t){const e=new oE(t);return e.base64?rE(Ms.BASE64,e.rest):v2(e.rest)}function b2(t){return new oE(t).contentType}function w2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){let s=0,i="";N_(e)?(this.data_=e,s=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(N_(this.data_)){const s=this.data_,i=m2(s,e,n);return i===null?null:new li(i)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new li(s,!0)}}static getBlob(...e){if(wp()){const n=e.map(s=>s instanceof li?s.data_:s);return new li(p2.apply(null,n))}else{const n=e.map(o=>md(o)?_2(Ms.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const i=new Uint8Array(s);let r=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[r++]=o[l]}),new li(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){let e;try{e=JSON.parse(t)}catch{return null}return o2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T2(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function lE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){return e}class Cn{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||I2}}let Lc=null;function A2(t){return!md(t)||t.length<2?t:lE(t)}function Ep(){if(Lc)return Lc;const t=[];t.push(new Cn("bucket")),t.push(new Cn("generation")),t.push(new Cn("metageneration")),t.push(new Cn("name","fullPath",!0));function e(r,o){return A2(o)}const n=new Cn("name");n.xform=e,t.push(n);function s(r,o){return o!==void 0?Number(o):o}const i=new Cn("size");return i.xform=s,t.push(i),t.push(new Cn("timeCreated")),t.push(new Cn("updated")),t.push(new Cn("md5Hash",null,!0)),t.push(new Cn("cacheControl",null,!0)),t.push(new Cn("contentDisposition",null,!0)),t.push(new Cn("contentEncoding",null,!0)),t.push(new Cn("contentLanguage",null,!0)),t.push(new Cn("contentType",null,!0)),t.push(new Cn("metadata","customMetadata",!0)),Lc=t,Lc}function C2(t,e){function n(){const s=t.bucket,i=t.fullPath,r=new Wn(s,i);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function R2(t,e,n){const s={};s.type="file";const i=n.length;for(let r=0;r<i;r++){const o=n[r];s[o.local]=o.xform(s,e[o.server])}return C2(s,t),s}function cE(t,e,n){const s=aE(e);return s===null?null:R2(t,s,n)}function S2(t,e,n,s){const i=aE(e);if(i===null||!md(i.downloadTokens))return null;const r=i.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(d=>{const f=t.bucket,g=t.fullPath,y="/b/"+o(f)+"/o/"+o(g),E=ec(y,n,s),O=nE({alt:"media",token:d});return E+O})[0]}function uE(t,e){const n={},s=e.length;for(let i=0;i<s;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class pa{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){if(!t)throw bp()}function Tp(t,e){function n(s,i){const r=cE(t,i,e);return fi(r!==null),r}return n}function x2(t,e){function n(s,i){const r=cE(t,i,e);return fi(r!==null),S2(r,i,t.host,t._protocol)}return n}function tc(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Gk():i=zk():n.getStatus()===402?i=Hk(t.bucket):n.getStatus()===403?i=Wk(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function dE(t){const e=tc(t);function n(s,i){let r=e(s,i);return s.getStatus()===404&&(r=qk(t.path)),r.serverResponse=i.serverResponse,r}return n}function P2(t,e,n){const s=e.fullServerUrl(),i=ec(s,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,l=new pa(i,r,Tp(t,n),o);return l.errorHandler=dE(e),l}function k2(t,e,n){const s=e.fullServerUrl(),i=ec(s,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,l=new pa(i,r,x2(t,n),o);return l.errorHandler=dE(e),l}function O2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hE(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=O2(null,e)),s}function fE(t,e,n,s,i){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let G="";for(let ee=0;ee<2;ee++)G=G+Math.random().toString().slice(2);return G}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const d=hE(e,s,i),f=uE(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+u+"--",E=li.getBlob(g,s,y);if(E===null)throw eE();const O={name:d.fullPath},L=ec(r,t.host,t._protocol),M="POST",H=t.maxUploadRetryTime,z=new pa(L,M,Tp(t,n),H);return z.urlParams=O,z.headers=o,z.body=E.uploadData(),z.errorHandler=tc(e),z}class Su{constructor(e,n,s,i){this.current=e,this.total=n,this.finalized=!!s,this.metadata=i||null}}function Ip(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{fi(!1)}return fi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function D2(t,e,n,s,i){const r=e.bucketOnlyServerUrl(),o=hE(e,s,i),l={name:o.fullPath},u=ec(r,t.host,t._protocol),d="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},g=uE(o,n),y=t.maxUploadRetryTime;function E(L){Ip(L);let M;try{M=L.getResponseHeader("X-Goog-Upload-URL")}catch{fi(!1)}return fi(md(M)),M}const O=new pa(u,d,E,y);return O.urlParams=l,O.headers=f,O.body=g,O.errorHandler=tc(e),O}function N2(t,e,n,s){const i={"X-Goog-Upload-Command":"query"};function r(d){const f=Ip(d,["active","final"]);let g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fi(!1)}g||fi(!1);const y=Number(g);return fi(!isNaN(y)),new Su(y,s.size(),f==="final")}const o="POST",l=t.maxUploadRetryTime,u=new pa(n,o,r,l);return u.headers=i,u.errorHandler=tc(e),u}const L_=256*1024;function V2(t,e,n,s,i,r,o,l){const u=new Su(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=s.size()),s.size()!==u.total)throw Xk();const d=u.total-u.current;let f=d;i>0&&(f=Math.min(f,i));const g=u.current,y=g+f;let E="";f===0?E="finalize":d===f?E="upload, finalize":E="upload";const O={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${u.current}`},L=s.slice(g,y);if(L===null)throw eE();function M(ee,pe){const Ee=Ip(ee,["active","final"]),S=u.current+f,T=s.size();let I;return Ee==="final"?I=Tp(e,r)(ee,pe):I=null,new Su(S,T,Ee==="final",I)}const H="POST",z=e.maxUploadRetryTime,G=new pa(n,H,M,z);return G.headers=O,G.body=L.uploadData(),G.progressCallback=l||null,G.errorHandler=tc(t),G}const Vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ah(t){switch(t){case"running":case"pausing":case"canceling":return Vn.RUNNING;case"paused":return Vn.PAUSED;case"success":return Vn.SUCCESS;case"canceled":return Vn.CANCELED;case"error":return Vn.ERROR;default:return Vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,s){if(r2(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class M2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i,r){if(this.sent_)throw Ha("cannot .send() more than once");if(mr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ha("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ha("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ha("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ha("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class F2 extends M2{initXhr(){this.xhr_.responseType="text"}}function Gr(){return new F2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=Ep(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Et.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const r=this.isExponentialBackoffExpired();if(sE(i.status,[]))if(r)i=Jw();else{this.sleepTime=Math.max(this.sleepTime*2,Bk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Et.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,r)=>{this._resolve=i,this._reject=r,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=D2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(s,Gr,e,n);this._request=i,i.getPromise().then(r=>{this._request=void 0,this._uploadUrl=r,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const i=N2(this._ref.storage,this._ref._location,e,this._blob),r=this._ref.storage._makeRequest(i,Gr,n,s);this._request=r,r.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=L_*this._chunkMultiplier,n=new Su(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((i,r)=>{let o;try{o=V2(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Gr,i,r,!1);this._request=l,l.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){L_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=P2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(s,Gr,e,n);this._request=i,i.getPromise().then(r=>{this._request=void 0,this._metadata=r,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=fE(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(s,Gr,e,n);this._request=i,i.getPromise().then(r=>{this._request=void 0,this._metadata=r,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Zw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ah(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,i){const r=new L2(n||void 0,s||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ah(this._state)){case Vn.SUCCESS:ko(this._resolve.bind(null,this.snapshot))();break;case Vn.CANCELED:case Vn.ERROR:const n=this._reject;ko(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ah(this._state)){case Vn.RUNNING:case Vn.PAUSED:e.next&&ko(e.next.bind(e,this.snapshot))();break;case Vn.SUCCESS:e.complete&&ko(e.complete.bind(e))();break;case Vn.CANCELED:case Vn.ERROR:e.error&&ko(e.error.bind(e,this._error))();break;default:e.error&&ko(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ro(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lE(this._location.path)}get storage(){return this._service}get parent(){const e=E2(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new ro(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e2(e)}}function j2(t,e,n){t._throwIfRoot("uploadBytes");const s=fE(t.storage,t._location,Ep(),new li(e,!0),n);return t.storage.makeRequestWithTokens(s,Gr).then(i=>({metadata:i,ref:t}))}function $2(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new U2(t,new li(e),n)}function B2(t){t._throwIfRoot("getDownloadURL");const e=k2(t.storage,t._location,Ep());return t.storage.makeRequestWithTokens(e,Gr).then(n=>{if(n===null)throw Jk();return n})}function q2(t,e){const n=T2(t._location.path,e),s=new Wn(t._location.bucket,n);return new ro(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){return/^[A-Za-z]+:\/\//.test(t)}function z2(t,e){return new ro(t,e)}function pE(t,e){if(t instanceof Ap){const n=t;if(n._bucket==null)throw Yk();const s=new ro(n,n._bucket);return e!=null?pE(s,e):s}else return e!==void 0?q2(t,e):t}function G2(t,e){if(e&&H2(e)){if(t instanceof Ap)return z2(t,e);throw ef("To use ref(service, url), the first argument must be a Storage instance.")}else return pE(t,e)}function M_(t,e){const n=e==null?void 0:e[Xw];return n==null?null:Wn.makeFromBucketSpec(n,t)}function W2(t,e,n,s={}){t.host=`${e}:${n}`;const i=mr(e);i&&(Cf(`https://${t.host}/b`),Rf("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:r}=s;r&&(t._overrideAuthToken=typeof r=="string"?r:Ry(r,t.app.options.projectId))}class Ap{constructor(e,n,s,i,r,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=r,this._isUsingEmulator=o,this._bucket=null,this._host=Yw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jk,this._maxUploadRetryTime=$k,this._requests=new Set,i!=null?this._bucket=Wn.makeFromBucketSpec(i,this._host):this._bucket=M_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=M_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ro(this,e)}_makeRequest(e,n,s,i,r=!0){if(this._deleted)return new t2(tE());{const o=h2(e,this._appId,s,i,n,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()}}const F_="@firebase/storage",U_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="storage";function K2(t,e,n){return t=Tt(t),j2(t,e,n)}function j9(t,e,n){return t=Tt(t),$2(t,e,n)}function Q2(t){return t=Tt(t),B2(t)}function Y2(t,e){return t=Tt(t),G2(t,e)}function X2(t=Pf(),e){t=Tt(t);const s=zu(t,mE).getImmediate({identifier:e}),i=Iy("storage");return i&&J2(s,...i),s}function J2(t,e,n,s={}){W2(t,e,n,s)}function Z2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ap(n,s,i,e,oo)}function e4(){to(new or(mE,Z2,"PUBLIC").setMultipleInstances(!0)),Fs(F_,U_,""),Fs(F_,U_,"esm2020")}e4();const t4={apiKey:"AIzaSyBAgclpXjyfQHrqj45ZTUlOBf0VIz0IYRg",authDomain:"isf-ulaval-web-92b71.firebaseapp.com",projectId:"isf-ulaval-web-92b71",storageBucket:"isf-ulaval-web-92b71.firebasestorage.app",messagingSenderId:"538989234270",appId:"1:538989234270:web:d378feee5ff414cef28ccf"},Cp=Py(t4),Zc=CS(Cp),Za=Tk(Cp),n4=X2(Cp);console.log("API KEY =","AIzaSyBAgclpXjyfQHrqj45ZTUlOBf0VIz0IYRg");console.log("PROJECT =","isf-ulaval-web-92b71");const s4="Tcgiu1FJg6XmXG1PAE8hEj08kg12",gd=kI("admin",{state:()=>({user:null,ready:!1,_unsub:null,_initPromise:null}),getters:{isLoggedIn:t=>!!t.user,isAdmin:t=>!!t.user&&t.user.uid===s4},actions:{init(){return this._initPromise?this._initPromise:(this._initPromise=new Promise(t=>{this._unsub&&this._unsub(),this._unsub=nb(Zc,e=>{this.user=e||null,this.ready=!0,t(!0)})}),this._initPromise)},async login(t,e){await hR(Zc,t,e)},async logout(){await mR(Zc)}}}),i4="/logo.png";const rn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},r4={name:"NavBar",data(){return{isScrolled:!1,mobileOpen:!1,admin:gd(),isDark:!1}},async mounted(){this.onScroll(),window.addEventListener("scroll",this.onScroll,{passive:!0});const t=localStorage.getItem("theme");this.isDark=t==="dark",document.documentElement.classList.toggle("theme-dark",this.isDark),window.dispatchEvent(new CustomEvent("theme-change",{detail:{isDark:this.isDark}})),this.admin.ready||await this.admin.init()},beforeUnmount(){window.removeEventListener("scroll",this.onScroll)},methods:{onScroll(){this.isScrolled=window.scrollY>20},toggleMobile(){this.mobileOpen=!this.mobileOpen},closeMobile(){this.mobileOpen=!1},async logout(){await this.admin.logout(),this.mobileOpen=!1,this.$router.push("/")},toggleTheme(){this.isDark=!this.isDark,document.documentElement.classList.toggle("theme-dark",this.isDark),localStorage.setItem("theme",this.isDark?"dark":"light"),window.dispatchEvent(new CustomEvent("theme-change",{detail:{isDark:this.isDark}}))}}},o4={class:"container-fluid nav-inner"},a4={class:"links","aria-label":"Navigation principale"},l4=["aria-label","title"],c4={key:0,class:"mobile"},u4={class:"d-flex align-items-center gap-2"};function d4(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("header",{class:Fn(["top-nav",{scrolled:i.isScrolled}])},[m("div",o4,[ce(o,{to:"/",class:"brand","aria-label":"Aller  l'accueil"},{default:be(()=>[...e[5]||(e[5]=[m("img",{src:i4,alt:"ISF ULaval",class:"brand-logo"},null,-1),m("span",{class:"brand-text"},"ISF ULaval",-1)])]),_:1}),m("nav",a4,[ce(o,{class:"nav-link",to:"/"},{default:be(()=>[...e[6]||(e[6]=[re("Accueil",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/qui-sommes-nous"},{default:be(()=>[...e[7]||(e[7]=[re("Qui sommes-nous",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/nos-projets"},{default:be(()=>[...e[8]||(e[8]=[re("Projets",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/activites"},{default:be(()=>[...e[9]||(e[9]=[re("Activits",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/comite-executif"},{default:be(()=>[...e[10]||(e[10]=[re("Excutif",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/documents"},{default:be(()=>[...e[11]||(e[11]=[re("Documents",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/articles-promotionnels"},{default:be(()=>[...e[12]||(e[12]=[re("Merch",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/stages"},{default:be(()=>[...e[13]||(e[13]=[re("Stages",-1)])]),_:1}),ce(o,{class:"nav-link",to:"/devenir-membre"},{default:be(()=>[...e[14]||(e[14]=[re("Devenir membre",-1)])]),_:1}),ce(o,{class:"nav-link",to:i.admin.isAdmin?"/admin":"/admin/login"},{default:be(()=>[re(Ae(i.admin.isAdmin?"Admin":"admin"),1)]),_:1},8,["to"]),m("button",{class:"theme-toggle",type:"button",onClick:e[0]||(e[0]=(...l)=>r.toggleTheme&&r.toggleTheme(...l)),"aria-label":i.isDark?"Activer le thme clair":"Activer le thme sombre",title:i.isDark?"Thme clair":"Thme sombre"},[m("i",{class:Fn(i.isDark?"fas fa-sun":"fas fa-moon")},null,2)],8,l4),i.admin.isAdmin?(se(),ie("button",{key:0,class:"nav-link btn-logout",type:"button",onClick:e[1]||(e[1]=(...l)=>r.logout&&r.logout(...l))}," Dconnexion ")):Xe("",!0),ce(o,{class:"nav-cta",to:"/nous-joindre"},{default:be(()=>[...e[15]||(e[15]=[re("Nous joindre",-1)])]),_:1})]),m("button",{class:"burger",type:"button",onClick:e[2]||(e[2]=(...l)=>r.toggleMobile&&r.toggleMobile(...l)),"aria-label":"Menu"},[...e[16]||(e[16]=[m("span",null,null,-1),m("span",null,null,-1),m("span",null,null,-1)])])]),i.mobileOpen?(se(),ie("div",c4,[ce(o,{class:"m-link",to:"/",onClick:r.closeMobile},{default:be(()=>[...e[17]||(e[17]=[re("Accueil",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/qui-sommes-nous",onClick:r.closeMobile},{default:be(()=>[...e[18]||(e[18]=[re("Qui sommes-nous",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/nos-projets",onClick:r.closeMobile},{default:be(()=>[...e[19]||(e[19]=[re("Projets",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/activites",onClick:r.closeMobile},{default:be(()=>[...e[20]||(e[20]=[re("Activits",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/comite-executif",onClick:r.closeMobile},{default:be(()=>[...e[21]||(e[21]=[re("Excutif",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/documents",onClick:r.closeMobile},{default:be(()=>[...e[22]||(e[22]=[re("Documents",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/articles-promotionnels",onClick:r.closeMobile},{default:be(()=>[...e[23]||(e[23]=[re("Merch",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/stages",onClick:r.closeMobile},{default:be(()=>[...e[24]||(e[24]=[re("Stages",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:"/devenir-membre",onClick:r.closeMobile},{default:be(()=>[...e[25]||(e[25]=[re("Devenir membre",-1)])]),_:1},8,["onClick"]),ce(o,{class:"m-link",to:i.admin.isAdmin?"/admin":"/admin/login",onClick:r.closeMobile},{default:be(()=>[re(Ae(i.admin.isAdmin?"Admin":"admin"),1)]),_:1},8,["to","onClick"]),m("button",{class:"m-link theme-toggle-mobile",type:"button",onClick:e[3]||(e[3]=(...l)=>r.toggleTheme&&r.toggleTheme(...l))},[m("span",u4,[m("i",{class:Fn(i.isDark?"fas fa-sun":"fas fa-moon")},null,2),m("span",null,Ae(i.isDark?"Thme clair":"Thme sombre"),1)])]),i.admin.isAdmin?(se(),ie("button",{key:0,class:"m-link btn-logout-mobile",type:"button",onClick:e[4]||(e[4]=(...l)=>r.logout&&r.logout(...l))}," Dconnexion ")):Xe("",!0),ce(o,{class:"m-cta",to:"/nous-joindre",onClick:r.closeMobile},{default:be(()=>[...e[26]||(e[26]=[re("Nous joindre",-1)])]),_:1},8,["onClick"])])):Xe("",!0)],2)}const h4=rn(r4,[["render",d4],["__scopeId","data-v-3361c886"]]);const f4={name:"Footer"},p4={class:"bg-dark text-light py-5"},m4={class:"container"},g4={class:"row"},_4={class:"col-lg-4 mb-4"},v4={class:"list-unstyled"};function y4(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("footer",p4,[m("div",m4,[m("div",g4,[e[4]||(e[4]=m("div",{class:"col-lg-4 mb-4"},[m("h5",{class:"mb-3"},"ISF Universit Laval"),m("p",{class:"mb-3"}," Ingnieurs sans frontires Canada - Section Universit Laval ")],-1)),m("div",_4,[e[3]||(e[3]=m("h5",{class:"mb-3"},"Liens rapides",-1)),m("ul",v4,[m("li",null,[ce(o,{to:"/devenir-membre",class:"text-light text-decoration-none"},{default:be(()=>[...e[0]||(e[0]=[re("Devenir membre",-1)])]),_:1})]),m("li",null,[ce(o,{to:"/nos-projets",class:"text-light text-decoration-none"},{default:be(()=>[...e[1]||(e[1]=[re("Nos projets",-1)])]),_:1})]),m("li",null,[ce(o,{to:"/faire-un-don",class:"text-light text-decoration-none"},{default:be(()=>[...e[2]||(e[2]=[re("Faire un don",-1)])]),_:1})])])]),e[5]||(e[5]=Qt('<div class="col-lg-4 mb-4" data-v-d2b811b8><h5 class="mb-3" data-v-d2b811b8>Contact</h5><p class="mb-2" data-v-d2b811b8><i class="fas fa-envelope me-2" data-v-d2b811b8></i><a href="mailto:ulaval@chapter.ewb.ca" class="text-light text-decoration-none" data-v-d2b811b8> ulaval@chapter.ewb.ca </a></p><p class="mb-2" data-v-d2b811b8><i class="fas fa-map-marker-alt me-2" data-v-d2b811b8></i> Local 00151<br data-v-d2b811b8> 1045 Av de la Mdecine<br data-v-d2b811b8> Pavillon Alexandre-Vachon<br data-v-d2b811b8> Universit Laval, Qubec, Canada </p></div>',1))]),e[6]||(e[6]=Qt('<hr class="my-4" data-v-d2b811b8><div class="row align-items-center" data-v-d2b811b8><div class="col-md-6" data-v-d2b811b8><p class="mb-0" data-v-d2b811b8> 2025 ISF Universit Laval. Tous droits rservs.</p></div><div class="col-md-6 text-md-end" data-v-d2b811b8><p class="mb-0" data-v-d2b811b8> Fait avec <i class="fas fa-heart text-danger" data-v-d2b811b8></i> par Samah Naji </p></div></div>',2))])])}const b4=rn(f4,[["render",y4],["__scopeId","data-v-d2b811b8"]]);const w4={name:"App",components:{NavBar:h4,Footer:b4},data(){return{isDark:!1}},mounted(){const t=localStorage.getItem("theme");this.isDark=t==="dark",document.documentElement.classList.toggle("theme-dark",this.isDark),window.addEventListener("theme-change",this.onThemeChange)},beforeUnmount(){window.removeEventListener("theme-change",this.onThemeChange)},methods:{onThemeChange(t){const e=!!(t&&t.detail&&t.detail.isDark);this.isDark=e,document.documentElement.classList.toggle("theme-dark",this.isDark),localStorage.setItem("theme",this.isDark?"dark":"light")}}},E4={class:"app-main"};function T4(t,e,n,s,i,r){const o=kn("NavBar"),l=kn("router-view"),u=kn("Footer");return se(),ie("div",{id:"app",class:Fn(i.isDark?"is-dark":"is-light")},[ce(o),m("main",E4,[ce(l)]),ce(u)],2)}const I4=rn(w4,[["render",T4]]),A4="modulepreload",C4=function(t){return"/"+t},j_={},Oo=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=C4(r),r in j_)return;j_[r]=!0;const o=r.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let f=i.length-1;f>=0;f--){const g=i[f];if(g.href===r&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":A4,o||(d.as="script",d.crossOrigin=""),d.href=r,document.head.appendChild(d),o)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Fo=typeof document<"u";function gE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function R4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&gE(t.default)}const tt=Object.assign;function lh(t,e){const n={};for(const s in e){const i=e[s];n[s]=Ts(i)?i.map(t):t(i)}return n}const vl=()=>{},Ts=Array.isArray;function $_(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const _E=/#/g,S4=/&/g,x4=/\//g,P4=/=/g,k4=/\?/g,vE=/\+/g,O4=/%5B/g,D4=/%5D/g,yE=/%5E/g,N4=/%60/g,bE=/%7B/g,V4=/%7C/g,wE=/%7D/g,L4=/%20/g;function Rp(t){return t==null?"":encodeURI(""+t).replace(V4,"|").replace(O4,"[").replace(D4,"]")}function M4(t){return Rp(t).replace(bE,"{").replace(wE,"}").replace(yE,"^")}function tf(t){return Rp(t).replace(vE,"%2B").replace(L4,"+").replace(_E,"%23").replace(S4,"%26").replace(N4,"`").replace(bE,"{").replace(wE,"}").replace(yE,"^")}function F4(t){return tf(t).replace(P4,"%3D")}function U4(t){return Rp(t).replace(_E,"%23").replace(k4,"%3F")}function j4(t){return U4(t).replace(x4,"%2F")}function Ll(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const $4=/\/$/,B4=t=>t.replace($4,"");function ch(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return u=l>=0&&u>l?-1:u,u>=0&&(s=e.slice(0,u),r=e.slice(u,l>0?l:e.length),i=t(r.slice(1))),l>=0&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=G4(s??e,n),{fullPath:s+r+o,path:s,query:i,hash:Ll(o)}}function q4(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function B_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function H4(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&ia(e.matched[s],n.matched[i])&&EE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ia(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function EE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!z4(t[n],e[n]))return!1;return!0}function z4(t,e){return Ts(t)?q_(t,e):Ts(e)?q_(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function q_(t,e){return Ts(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function G4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Fi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let nf=function(t){return t.pop="pop",t.push="push",t}({}),uh=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function W4(t){if(!t)if(Fo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),B4(t)}const K4=/^[^#]+#/;function Q4(t,e){return t.replace(K4,"#")+e}function Y4(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const _d=()=>({left:window.scrollX,top:window.scrollY});function X4(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Y4(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function H_(t,e){return(history.state?history.state.position-e:-1)+t}const sf=new Map;function J4(t,e){sf.set(t,e)}function Z4(t){const e=sf.get(t);return sf.delete(t),e}function eO(t){return typeof t=="string"||t&&typeof t=="object"}function TE(t){return typeof t=="string"||typeof t=="symbol"}let xt=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const IE=Symbol("");xt.MATCHER_NOT_FOUND+"",xt.NAVIGATION_GUARD_REDIRECT+"",xt.NAVIGATION_ABORTED+"",xt.NAVIGATION_CANCELLED+"",xt.NAVIGATION_DUPLICATED+"";function ra(t,e){return tt(new Error,{type:t,[IE]:!0},e)}function ii(t,e){return t instanceof Error&&IE in t&&(e==null||!!(t.type&e))}const tO=["params","query","hash"];function nO(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of tO)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function sO(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(vE," "),r=i.indexOf("="),o=Ll(r<0?i:i.slice(0,r)),l=r<0?null:Ll(i.slice(r+1));if(o in e){let u=e[o];Ts(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function z_(t){let e="";for(let n in t){const s=t[n];if(n=F4(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ts(s)?s.map(i=>i&&tf(i)):[s&&tf(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function iO(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ts(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const rO=Symbol(""),G_=Symbol(""),vd=Symbol(""),AE=Symbol(""),rf=Symbol("");function za(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function qi(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,u)=>{const d=y=>{y===!1?u(ra(xt.NAVIGATION_ABORTED,{from:n,to:e})):y instanceof Error?u(y):eO(y)?u(ra(xt.NAVIGATION_GUARD_REDIRECT,{from:e,to:y})):(o&&s.enterCallbacks[i]===o&&typeof y=="function"&&o.push(y),l())},f=r(()=>t.call(s&&s.instances[i],e,n,d));let g=Promise.resolve(f);t.length<3&&(g=g.then(d)),g.catch(y=>u(y))})}function dh(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let u=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(gE(u)){const d=(u.__vccOpts||u)[e];d&&r.push(qi(d,n,s,o,l,i))}else{let d=u();r.push(()=>d.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const g=R4(f)?f.default:f;o.mods[l]=f,o.components[l]=g;const y=(g.__vccOpts||g)[e];return y&&qi(y,n,s,o,l,i)()}))}}return r}function oO(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(d=>ia(d,l))?s.push(l):n.push(l));const u=t.matched[o];u&&(e.matched.find(d=>ia(d,u))||i.push(u))}return[n,s,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let aO=()=>location.protocol+"//"+location.host;function CE(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let o=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),B_(l,"")}return B_(n,t)+s+i}function lO(t,e,n,s){let i=[],r=[],o=null;const l=({state:y})=>{const E=CE(t,location),O=n.value,L=e.value;let M=0;if(y){if(n.value=E,e.value=y,o&&o===O){o=null;return}M=L?y.position-L.position:0}else s(E);i.forEach(H=>{H(n.value,O,{delta:M,type:nf.pop,direction:M?M>0?uh.forward:uh.back:uh.unknown})})};function u(){o=n.value}function d(y){i.push(y);const E=()=>{const O=i.indexOf(y);O>-1&&i.splice(O,1)};return r.push(E),E}function f(){if(document.visibilityState==="hidden"){const{history:y}=window;if(!y.state)return;y.replaceState(tt({},y.state,{scroll:_d()}),"")}}function g(){for(const y of r)y();r=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:u,listen:d,destroy:g}}function W_(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?_d():null}}function cO(t){const{history:e,location:n}=window,s={value:CE(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(u,d,f){const g=t.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+u:aO()+t+u;try{e[f?"replaceState":"pushState"](d,"",y),i.value=d}catch(E){console.error(E),n[f?"replace":"assign"](y)}}function o(u,d){r(u,tt({},e.state,W_(i.value.back,u,i.value.forward,!0),d,{position:i.value.position}),!0),s.value=u}function l(u,d){const f=tt({},i.value,e.state,{forward:u,scroll:_d()});r(f.current,f,!0),r(u,tt({},W_(s.value,u,null),{position:f.position+1},d),!1),s.value=u}return{location:s,state:i,push:l,replace:o}}function uO(t){t=W4(t);const e=cO(t),n=lO(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=tt({location:"",base:t,go:s,createHref:Q4.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let Kr=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var Kt=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(Kt||{});const dO={type:Kr.Static,value:""},hO=/[a-zA-Z0-9_]/;function fO(t){if(!t)return[[]];if(t==="/")return[[dO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${d}": ${E}`)}let n=Kt.Static,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,u,d="",f="";function g(){d&&(n===Kt.Static?r.push({type:Kr.Static,value:d}):n===Kt.Param||n===Kt.ParamRegExp||n===Kt.ParamRegExpEnd?(r.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:Kr.Param,value:d,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),d="")}function y(){d+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&n!==Kt.ParamRegExp){s=n,n=Kt.EscapeNext;continue}switch(n){case Kt.Static:u==="/"?(d&&g(),o()):u===":"?(g(),n=Kt.Param):y();break;case Kt.EscapeNext:y(),n=s;break;case Kt.Param:u==="("?n=Kt.ParamRegExp:hO.test(u)?y():(g(),n=Kt.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case Kt.ParamRegExp:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=Kt.ParamRegExpEnd:f+=u;break;case Kt.ParamRegExpEnd:g(),n=Kt.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:e("Unknown state");break}}return n===Kt.ParamRegExp&&e(`Unfinished custom RegExp for param "${d}"`),g(),o(),i}const K_="[^/]+?",pO={sensitive:!1,strict:!1,start:!0,end:!0};var xn=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(xn||{});const mO=/[.+*?^${}()[\]/\\]/g;function gO(t,e){const n=tt({},pO,e),s=[];let i=n.start?"^":"";const r=[];for(const d of t){const f=d.length?[]:[xn.Root];n.strict&&!d.length&&(i+="/");for(let g=0;g<d.length;g++){const y=d[g];let E=xn.Segment+(n.sensitive?xn.BonusCaseSensitive:0);if(y.type===Kr.Static)g||(i+="/"),i+=y.value.replace(mO,"\\$&"),E+=xn.Static;else if(y.type===Kr.Param){const{value:O,repeatable:L,optional:M,regexp:H}=y;r.push({name:O,repeatable:L,optional:M});const z=H||K_;if(z!==K_){E+=xn.BonusCustomRegExp;try{`${z}`}catch(ee){throw new Error(`Invalid custom RegExp for param "${O}" (${z}): `+ee.message)}}let G=L?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;g||(G=M&&d.length<2?`(?:/${G})`:"/"+G),M&&(G+="?"),i+=G,E+=xn.Dynamic,M&&(E+=xn.BonusOptional),L&&(E+=xn.BonusRepeatable),z===".*"&&(E+=xn.BonusWildcard)}f.push(E)}s.push(f)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=xn.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(d){const f=d.match(o),g={};if(!f)return null;for(let y=1;y<f.length;y++){const E=f[y]||"",O=r[y-1];g[O.name]=E&&O.repeatable?E.split("/"):E}return g}function u(d){let f="",g=!1;for(const y of t){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const E of y)if(E.type===Kr.Static)f+=E.value;else if(E.type===Kr.Param){const{value:O,repeatable:L,optional:M}=E,H=O in d?d[O]:"";if(Ts(H)&&!L)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const z=Ts(H)?H.join("/"):H;if(!z)if(M)y.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${O}"`);f+=z}}return f||"/"}return{re:o,score:s,keys:r,parse:l,stringify:u}}function _O(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===xn.Static+xn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===xn.Static+xn.Segment?1:-1:0}function RE(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=_O(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Q_(s))return 1;if(Q_(i))return-1}return i.length-s.length}function Q_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vO={strict:!1,end:!0,sensitive:!1};function yO(t,e,n){const s=gO(fO(t.path),n),i=tt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function bO(t,e){const n=[],s=new Map;e=$_(vO,e);function i(g){return s.get(g)}function r(g,y,E){const O=!E,L=X_(g);L.aliasOf=E&&E.record;const M=$_(e,g),H=[L];if("alias"in g){const ee=typeof g.alias=="string"?[g.alias]:g.alias;for(const pe of ee)H.push(X_(tt({},L,{components:E?E.record.components:L.components,path:pe,aliasOf:E?E.record:L})))}let z,G;for(const ee of H){const{path:pe}=ee;if(y&&pe[0]!=="/"){const Ee=y.record.path,S=Ee[Ee.length-1]==="/"?"":"/";ee.path=y.record.path+(pe&&S+pe)}if(z=yO(ee,y,M),E?E.alias.push(z):(G=G||z,G!==z&&G.alias.push(z),O&&g.name&&!J_(z)&&o(g.name)),SE(z)&&u(z),L.children){const Ee=L.children;for(let S=0;S<Ee.length;S++)r(Ee[S],z,E&&E.children[S])}E=E||z}return G?()=>{o(G)}:vl}function o(g){if(TE(g)){const y=s.get(g);y&&(s.delete(g),n.splice(n.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=n.indexOf(g);y>-1&&(n.splice(y,1),g.record.name&&s.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function l(){return n}function u(g){const y=TO(g,n);n.splice(y,0,g),g.record.name&&!J_(g)&&s.set(g.record.name,g)}function d(g,y){let E,O={},L,M;if("name"in g&&g.name){if(E=s.get(g.name),!E)throw ra(xt.MATCHER_NOT_FOUND,{location:g});M=E.record.name,O=tt(Y_(y.params,E.keys.filter(G=>!G.optional).concat(E.parent?E.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),g.params&&Y_(g.params,E.keys.map(G=>G.name))),L=E.stringify(O)}else if(g.path!=null)L=g.path,E=n.find(G=>G.re.test(L)),E&&(O=E.parse(L),M=E.record.name);else{if(E=y.name?s.get(y.name):n.find(G=>G.re.test(y.path)),!E)throw ra(xt.MATCHER_NOT_FOUND,{location:g,currentLocation:y});M=E.record.name,O=tt({},y.params,g.params),L=E.stringify(O)}const H=[];let z=E;for(;z;)H.unshift(z.record),z=z.parent;return{name:M,path:L,params:O,matched:H,meta:EO(H)}}t.forEach(g=>r(g));function f(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:o,clearRoutes:f,getRoutes:l,getRecordMatcher:i}}function Y_(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function X_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:wO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function wO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function J_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function EO(t){return t.reduce((e,n)=>tt(e,n.meta),{})}function TO(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;RE(t,e[r])<0?s=r:n=r+1}const i=IO(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function IO(t){let e=t;for(;e=e.parent;)if(SE(e)&&RE(t,e)===0)return e}function SE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Z_(t){const e=ys(vd),n=ys(AE),s=Ln(()=>{const u=Yr(t.to);return e.resolve(u)}),i=Ln(()=>{const{matched:u}=s.value,{length:d}=u,f=u[d-1],g=n.matched;if(!f||!g.length)return-1;const y=g.findIndex(ia.bind(null,f));if(y>-1)return y;const E=ev(u[d-2]);return d>1&&ev(f)===E&&g[g.length-1].path!==E?g.findIndex(ia.bind(null,u[d-2])):y}),r=Ln(()=>i.value>-1&&xO(n.params,s.value.params)),o=Ln(()=>i.value>-1&&i.value===n.matched.length-1&&EE(n.params,s.value.params));function l(u={}){if(SO(u)){const d=e[Yr(t.replace)?"replace":"push"](Yr(t.to)).catch(vl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:Ln(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function AO(t){return t.length===1?t[0]:t}const CO=Bv({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Z_,setup(t,{slots:e}){const n=jl(Z_(t)),{options:s}=ys(vd),i=Ln(()=>({[tv(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[tv(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&AO(e.default(n));return t.custom?r:fy("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),RO=CO;function SO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function xO(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ts(i)||i.length!==s.length||s.some((r,o)=>r.valueOf()!==i[o].valueOf()))return!1}return!0}function ev(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const tv=(t,e,n)=>t??e??n,PO=Bv({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ys(rf),i=Ln(()=>t.route||s.value),r=ys(G_,0),o=Ln(()=>{let d=Yr(r);const{matched:f}=i.value;let g;for(;(g=f[d])&&!g.components;)d++;return d}),l=Ln(()=>i.value.matched[o.value]);Fc(G_,Ln(()=>o.value+1)),Fc(rO,l),Fc(rf,i);const u=_f();return il(()=>[u.value,l.value,t.name],([d,f,g],[y,E,O])=>{f&&(f.instances[g]=d,E&&E!==f&&d&&d===y&&(f.leaveGuards.size||(f.leaveGuards=E.leaveGuards),f.updateGuards.size||(f.updateGuards=E.updateGuards))),d&&f&&(!E||!ia(f,E)||!y)&&(f.enterCallbacks[g]||[]).forEach(L=>L(d))},{flush:"post"}),()=>{const d=i.value,f=t.name,g=l.value,y=g&&g.components[f];if(!y)return nv(n.default,{Component:y,route:d});const E=g.props[f],O=E?E===!0?d.params:typeof E=="function"?E(d):E:null,M=fy(y,tt({},O,e,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(g.instances[f]=null)},ref:u}));return nv(n.default,{Component:M,route:d})||M}}});function nv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const kO=PO;function OO(t){const e=bO(t.routes,t),n=t.parseQuery||sO,s=t.stringifyQuery||z_,i=t.history,r=za(),o=za(),l=za(),u=PT(Fi);let d=Fi;Fo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=lh.bind(null,B=>""+B),g=lh.bind(null,j4),y=lh.bind(null,Ll);function E(B,de){let $,ye;return TE(B)?($=e.getRecordMatcher(B),ye=de):ye=B,e.addRoute(ye,$)}function O(B){const de=e.getRecordMatcher(B);de&&e.removeRoute(de)}function L(){return e.getRoutes().map(B=>B.record)}function M(B){return!!e.getRecordMatcher(B)}function H(B,de){if(de=tt({},de||u.value),typeof B=="string"){const R=ch(n,B,de.path),F=e.resolve({path:R.path},de),Y=i.createHref(R.fullPath);return tt(R,F,{params:y(F.params),hash:Ll(R.hash),redirectedFrom:void 0,href:Y})}let $;if(B.path!=null)$=tt({},B,{path:ch(n,B.path,de.path).path});else{const R=tt({},B.params);for(const F in R)R[F]==null&&delete R[F];$=tt({},B,{params:g(R)}),de.params=g(de.params)}const ye=e.resolve($,de),Me=B.hash||"";ye.params=f(y(ye.params));const rt=q4(s,tt({},B,{hash:M4(Me),path:ye.path})),A=i.createHref(rt);return tt({fullPath:rt,hash:Me,query:s===z_?iO(B.query):B.query||{}},ye,{redirectedFrom:void 0,href:A})}function z(B){return typeof B=="string"?ch(n,B,u.value.path):tt({},B)}function G(B,de){if(d!==B)return ra(xt.NAVIGATION_CANCELLED,{from:de,to:B})}function ee(B){return S(B)}function pe(B){return ee(tt(z(B),{replace:!0}))}function Ee(B,de){const $=B.matched[B.matched.length-1];if($&&$.redirect){const{redirect:ye}=$;let Me=typeof ye=="function"?ye(B,de):ye;return typeof Me=="string"&&(Me=Me.includes("?")||Me.includes("#")?Me=z(Me):{path:Me},Me.params={}),tt({query:B.query,hash:B.hash,params:Me.path!=null?{}:B.params},Me)}}function S(B,de){const $=d=H(B),ye=u.value,Me=B.state,rt=B.force,A=B.replace===!0,R=Ee($,ye);if(R)return S(tt(z(R),{state:typeof R=="object"?tt({},Me,R.state):Me,force:rt,replace:A}),de||$);const F=$;F.redirectedFrom=de;let Y;return!rt&&H4(s,ye,$)&&(Y=ra(xt.NAVIGATION_DUPLICATED,{to:F,from:ye}),K(ye,ye,!0,!1)),(Y?Promise.resolve(Y):x(F,ye)).catch(q=>ii(q)?ii(q,xt.NAVIGATION_GUARD_REDIRECT)?q:Un(q):Be(q,F,ye)).then(q=>{if(q){if(ii(q,xt.NAVIGATION_GUARD_REDIRECT))return S(tt({replace:A},z(q.to),{state:typeof q.to=="object"?tt({},Me,q.to.state):Me,force:rt}),de||F)}else q=N(F,ye,!0,A,Me);return P(F,ye,q),q})}function T(B,de){const $=G(B,de);return $?Promise.reject($):Promise.resolve()}function I(B){const de=vn.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(B):B()}function x(B,de){let $;const[ye,Me,rt]=oO(B,de);$=dh(ye.reverse(),"beforeRouteLeave",B,de);for(const R of ye)R.leaveGuards.forEach(F=>{$.push(qi(F,B,de))});const A=T.bind(null,B,de);return $.push(A),Ct($).then(()=>{$=[];for(const R of r.list())$.push(qi(R,B,de));return $.push(A),Ct($)}).then(()=>{$=dh(Me,"beforeRouteUpdate",B,de);for(const R of Me)R.updateGuards.forEach(F=>{$.push(qi(F,B,de))});return $.push(A),Ct($)}).then(()=>{$=[];for(const R of rt)if(R.beforeEnter)if(Ts(R.beforeEnter))for(const F of R.beforeEnter)$.push(qi(F,B,de));else $.push(qi(R.beforeEnter,B,de));return $.push(A),Ct($)}).then(()=>(B.matched.forEach(R=>R.enterCallbacks={}),$=dh(rt,"beforeRouteEnter",B,de,I),$.push(A),Ct($))).then(()=>{$=[];for(const R of o.list())$.push(qi(R,B,de));return $.push(A),Ct($)}).catch(R=>ii(R,xt.NAVIGATION_CANCELLED)?R:Promise.reject(R))}function P(B,de,$){l.list().forEach(ye=>I(()=>ye(B,de,$)))}function N(B,de,$,ye,Me){const rt=G(B,de);if(rt)return rt;const A=de===Fi,R=Fo?history.state:{};$&&(ye||A?i.replace(B.fullPath,tt({scroll:A&&R&&R.scroll},Me)):i.push(B.fullPath,Me)),u.value=B,K(B,de,$,A),Un()}let C;function yt(){C||(C=i.listen((B,de,$)=>{if(!Dt.listening)return;const ye=H(B),Me=Ee(ye,Dt.currentRoute.value);if(Me){S(tt(Me,{replace:!0,force:!0}),ye).catch(vl);return}d=ye;const rt=u.value;Fo&&J4(H_(rt.fullPath,$.delta),_d()),x(ye,rt).catch(A=>ii(A,xt.NAVIGATION_ABORTED|xt.NAVIGATION_CANCELLED)?A:ii(A,xt.NAVIGATION_GUARD_REDIRECT)?(S(tt(z(A.to),{force:!0}),ye).then(R=>{ii(R,xt.NAVIGATION_ABORTED|xt.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===nf.pop&&i.go(-1,!1)}).catch(vl),Promise.reject()):($.delta&&i.go(-$.delta,!1),Be(A,ye,rt))).then(A=>{A=A||N(ye,rt,!1),A&&($.delta&&!ii(A,xt.NAVIGATION_CANCELLED)?i.go(-$.delta,!1):$.type===nf.pop&&ii(A,xt.NAVIGATION_ABORTED|xt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),P(ye,rt,A)}).catch(vl)}))}let Ut=za(),it=za(),Pe;function Be(B,de,$){Un(B);const ye=it.list();return ye.length?ye.forEach(Me=>Me(B,de,$)):console.error(B),Promise.reject(B)}function cn(){return Pe&&u.value!==Fi?Promise.resolve():new Promise((B,de)=>{Ut.add([B,de])})}function Un(B){return Pe||(Pe=!B,yt(),Ut.list().forEach(([de,$])=>B?$(B):de()),Ut.reset()),B}function K(B,de,$,ye){const{scrollBehavior:Me}=t;if(!Fo||!Me)return Promise.resolve();const rt=!$&&Z4(H_(B.fullPath,0))||(ye||!$)&&history.state&&history.state.scroll||null;return Fu().then(()=>Me(B,de,rt)).then(A=>A&&X4(A)).catch(A=>Be(A,B,de))}const Ot=B=>i.go(B);let Qn;const vn=new Set,Dt={currentRoute:u,listening:!0,addRoute:E,removeRoute:O,clearRoutes:e.clearRoutes,hasRoute:M,getRoutes:L,resolve:H,options:t,push:ee,replace:pe,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:it.add,isReady:cn,install(B){B.component("RouterLink",RO),B.component("RouterView",kO),B.config.globalProperties.$router=Dt,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Yr(u)}),Fo&&!Qn&&u.value===Fi&&(Qn=!0,ee(i.location).catch(ye=>{}));const de={};for(const ye in Fi)Object.defineProperty(de,ye,{get:()=>u.value[ye],enumerable:!0});B.provide(vd,Dt),B.provide(AE,Sv(de)),B.provide(rf,u);const $=B.unmount;vn.add(B),B.unmount=function(){vn.delete(B),vn.size<1&&(d=Fi,C&&C(),C=null,u.value=Fi,Qn=!1,Pe=!1),$()}}};function Ct(B){return B.reduce((de,$)=>de.then(()=>I($)),Promise.resolve())}return Dt}function DO(){return ys(vd)}const NO="/cover1.png";const VO={name:"Home",data(){return{loadingEvents:!0,events:[],currentIndex:0,_unsub:null,autoMs:6e3,_paused:!1,_timer:null}},computed:{visibleUpcoming(){const t=this.todayYYYYMMDD(),n=this.events.filter(s=>s.isVisible===!0||s.isVisible===void 0).filter(s=>(s.date||"")>=t);return n.sort((s,i)=>{const r=s.date||"9999-99-99",o=i.date||"9999-99-99";return r!==o?r.localeCompare(o):(s.order??999)-(i.order??999)}),n},currentEvent(){if(this.visibleUpcoming.length===0)return{};const t=Math.max(0,Math.min(this.currentIndex,this.visibleUpcoming.length-1));return this.visibleUpcoming[t]}},mounted(){const t=Hw(Xh(Za,"events"));this._unsub=Kw(t,e=>{this.events=e.docs.map(n=>({id:n.id,...n.data()})),this.loadingEvents=!1,this.currentIndex>this.visibleUpcoming.length-1&&(this.currentIndex=0)},e=>{console.error("events load error:",e),this.loadingEvents=!1}),window.addEventListener("keydown",this.onKey),this.startAuto()},beforeUnmount(){this._unsub&&this._unsub(),window.removeEventListener("keydown",this.onKey),this.stopAuto()},methods:{todayYYYYMMDD(){const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`},formatDate(t){try{const[e,n,s]=(t||"").split("-").map(Number);return new Date(e,n-1,s).toLocaleDateString("fr-CA",{year:"numeric",month:"long",day:"numeric"})}catch{return t||""}},startAuto(){this.stopAuto(),this._timer=setInterval(()=>{!this._paused&&this.visibleUpcoming.length>1&&this.nextEvent(!1)},this.autoMs)},stopAuto(){this._timer&&clearInterval(this._timer),this._timer=null},pauseAuto(){this._paused=!0},resumeAuto(){this._paused=!1},resetAuto(){this.startAuto()},nextEvent(t=!0){const e=this.visibleUpcoming.length;e<=1||(this.currentIndex=(this.currentIndex+1)%e,t&&this.resetAuto())},prevEvent(t=!0){const e=this.visibleUpcoming.length;e<=1||(this.currentIndex=(this.currentIndex-1+e)%e,t&&this.resetAuto())},goTo(t){this.currentIndex=t,this.resetAuto()},onKey(t){this.visibleUpcoming.length<=1||(t.key==="ArrowRight"&&this.nextEvent(!0),t.key==="ArrowLeft"&&this.prevEvent(!0))}}},LO={class:"home"},MO={class:"hero-content py-5"},FO={class:"container"},UO={class:"row"},jO={class:"col-lg-8 mx-auto text-center"},$O={class:"d-flex gap-3 justify-content-center"},BO={class:"py-5 events-home"},qO={class:"container"},HO={key:0,class:"events-placeholder"},zO={key:1,class:"events-placeholder"},GO=["disabled"],WO={class:"event-card"},KO={class:"event-media"},QO=["src","alt"],YO={key:1,class:"event-img fallback"},XO={class:"event-badges"},JO={key:0,class:"pill"},ZO={key:1,class:"pill muted-pill"},eD={class:"event-body"},tD={class:"event-title"},nD={key:0,class:"event-meta"},sD={key:1,class:"event-desc"},iD={key:2,class:"event-desc text-white-50"},rD={class:"event-actions"},oD=["href"],aD={class:"dots","aria-label":"Position dans la liste"},lD=["onClick","aria-label"],cD=["disabled"],uD={class:"py-5 exec-home"},dD={class:"container"},hD={class:"d-flex justify-content-center mt-4"},fD={id:"deviens-membre",class:"py-5 become-member"},pD={class:"container"},mD={class:"text-center"},gD={class:"d-flex justify-content-center gap-3 flex-wrap"};function _D(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("div",LO,[e[23]||(e[23]=m("section",{class:"hero"},null,-1)),m("section",MO,[m("div",FO,[m("div",UO,[m("div",jO,[e[8]||(e[8]=m("h1",{class:"display-4 fw-bold mb-3"},"ISF  Universit Laval",-1)),e[9]||(e[9]=m("p",{class:"lead mb-3"},"Ingnieurs sans frontires Canada  Section Universit Laval",-1)),e[10]||(e[10]=m("p",{class:"mb-4"}," Une communaut tudiante engage pour une ingnierie humaine, responsable et solidaire. ",-1)),m("div",$O,[ce(o,{to:"/nous-joindre",class:"btn btn-custom-primary btn-lg"},{default:be(()=>[...e[6]||(e[6]=[re(" Rejoins-nous ! ",-1)])]),_:1}),ce(o,{to:"/nos-projets",class:"btn btn-custom-outline btn-lg"},{default:be(()=>[...e[7]||(e[7]=[re(" Nos projets ",-1)])]),_:1})])])])])]),e[24]||(e[24]=m("section",{class:"midiconf-section"},[m("div",{class:"container"},[m("img",{src:NO,alt:"ISF ULaval cover",class:"midiconf-img"})])],-1)),m("section",BO,[m("div",qO,[e[16]||(e[16]=m("div",{class:"text-center mb-5"},[m("h2",{class:"display-5 fw-bold text-white"},"vnements  venir"),m("p",{class:"lead text-white-50"}," Dcouvre nos prochains vnements  navigue avec les flches. ")],-1)),i.loadingEvents?(se(),ie("div",HO,[...e[11]||(e[11]=[m("p",{class:"mb-0 text-white-50"},"Chargement des vnements",-1)])])):r.visibleUpcoming.length===0?(se(),ie("div",zO,[...e[12]||(e[12]=[m("p",{class:"mb-0 text-white-50"}," Aucun vnement  venir pour le moment.",-1)])])):(se(),ie("div",{key:2,class:"event-shell",onMouseenter:e[2]||(e[2]=(...l)=>r.pauseAuto&&r.pauseAuto(...l)),onMouseleave:e[3]||(e[3]=(...l)=>r.resumeAuto&&r.resumeAuto(...l)),onFocusin:e[4]||(e[4]=(...l)=>r.pauseAuto&&r.pauseAuto(...l)),onFocusout:e[5]||(e[5]=(...l)=>r.resumeAuto&&r.resumeAuto(...l))},[m("button",{class:"nav-btn",onClick:e[0]||(e[0]=l=>r.prevEvent(!0)),disabled:r.visibleUpcoming.length<=1,"aria-label":"vnement prcdent"},[...e[13]||(e[13]=[m("i",{class:"fas fa-chevron-left"},null,-1)])],8,GO),m("article",WO,[m("div",KO,[r.currentEvent.imageUrl?(se(),ie("img",{key:0,src:r.currentEvent.imageUrl,class:"event-img",alt:r.currentEvent.title},null,8,QO)):(se(),ie("div",YO,[...e[14]||(e[14]=[m("div",{class:"fallback-inner"},[m("i",{class:"fas fa-calendar-alt"}),m("div",{class:"fw-bold mt-2"},"ISF ULaval"),m("div",{class:"small text-white-50"},"vnement")],-1)])])),m("div",XO,[r.currentEvent.category?(se(),ie("span",JO,Ae(r.currentEvent.category),1)):Xe("",!0),r.currentEvent.date?(se(),ie("span",ZO,Ae(r.formatDate(r.currentEvent.date)),1)):Xe("",!0)])]),m("div",eD,[m("h3",tD,Ae(r.currentEvent.title),1),r.currentEvent.location?(se(),ie("p",nD,"  "+Ae(r.currentEvent.location),1)):Xe("",!0),r.currentEvent.description?(se(),ie("p",sD,Ae(r.currentEvent.description),1)):(se(),ie("p",iD,"Dtails  venir.")),m("div",rD,[r.currentEvent.link?(se(),ie("a",{key:0,class:"btn btn-custom-primary btn-sm",href:r.currentEvent.link,target:"_blank",rel:"noopener"}," En savoir plus ",8,oD)):Xe("",!0),m("span",aD,[(se(!0),ie(nn,null,ir(r.visibleUpcoming,(l,u)=>(se(),ie("button",{key:l.id,class:Fn(["dot",{active:u===i.currentIndex}]),onClick:d=>r.goTo(u),"aria-label":`Aller  l'vnement ${u+1}`},null,10,lD))),128))])])])]),m("button",{class:"nav-btn",onClick:e[1]||(e[1]=l=>r.nextEvent(!0)),disabled:r.visibleUpcoming.length<=1,"aria-label":"vnement suivant"},[...e[15]||(e[15]=[m("i",{class:"fas fa-chevron-right"},null,-1)])],8,cD)],32))])]),m("section",uD,[m("div",dD,[e[18]||(e[18]=m("div",{class:"text-center mb-4"},[m("h2",{class:"display-5 fw-bold text-white"},"Comit excutif"),m("p",{class:"lead text-white-50 mb-0"},"Dcouvre lquipe qui coordonne ISF  Universit Laval.")],-1)),m("div",hD,[ce(o,{to:"/comite-executif",class:"exec-btn-orange btn btn-lg"},{default:be(()=>[...e[17]||(e[17]=[re(" Voir le comit excutif ",-1)])]),_:1})])])]),m("section",fD,[m("div",pD,[m("div",mD,[e[21]||(e[21]=m("h2",{class:"display-5 fw-bold mb-3 text-white"},"Deviens membre !",-1)),e[22]||(e[22]=m("p",{class:"lead mb-4 text-white-50"},"Tous les programmes et tous les cycles sont les bienvenus.",-1)),m("div",gD,[ce(o,{to:"/devenir-membre",class:"btn btn-primary btn-lg"},{default:be(()=>[...e[19]||(e[19]=[re(" Formulaire dadhsion ",-1)])]),_:1}),ce(o,{to:"/articles-promotionnels",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[20]||(e[20]=[re(" Merch ",-1)])]),_:1})])])])])])}const vD=rn(VO,[["render",_D],["__scopeId","data-v-1c4d6caf"]]);const yD={name:"QuiSommesNous",data(){return{values:[{title:"Solidarit",icon:"fas fa-heart",accent:"red",text:"On avance ensemble, avec entraide et coopration, pour avoir plus dimpact."},{title:"Durabilit",icon:"fas fa-leaf",accent:"green",text:"On privilgie des solutions responsables, respectueuses de lenvironnement et utiles  long terme."},{title:"Responsabilit",icon:"fas fa-globe",accent:"blue",text:"On agit avec thique, transparence et sens du devoir, dans chaque projet et dcision."},{title:"Inclusion",icon:"fas fa-users",accent:"cyan",text:"Tous les profils sont bienvenus : diversit, respect et ouverture font partie de notre ADN."},{title:"Innovation",icon:"fas fa-lightbulb",accent:"yellow",text:"On cherche des ides cratives et concrtes pour rpondre aux dfis du monde rel."},{title:"Engagement",icon:"fas fa-graduation-cap",accent:"purple",text:"On simplique pour vrai  chacun  son rythme  et on transforme lnergie en action."}]}}},bD={class:"about-page"},wD={class:"hero"},ED={class:"container hero-inner"},TD={class:"row align-items-center min-vh-60 py-5"},ID={class:"col-lg-7"},AD={class:"d-flex gap-3 flex-wrap"},CD={class:"section-dark py-5"},RD={class:"container"},SD={class:"row g-4"},xD={class:"value-card h-100"},PD={class:"fw-bold text-white mb-2"},kD={class:"text-white-50 mb-0"},OD={class:"cta"},DD={class:"container"},ND={class:"cta-card"},VD={class:"cta-right"};function LD(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("div",bD,[m("section",wD,[e[5]||(e[5]=m("div",{class:"hero-overlay"},null,-1)),m("div",ED,[m("div",TD,[m("div",ID,[e[2]||(e[2]=m("div",{class:"kicker"}," propos",-1)),e[3]||(e[3]=m("h1",{class:"display-4 fw-bold mb-3 text-white"},"Qui sommes-nous ?",-1)),e[4]||(e[4]=m("p",{class:"lead text-white-50 mb-4"}," Dcouvrez lhistoire, la mission et la vision dISF Universit Laval  une communaut tudiante engage pour une ingnierie humaine et responsable. ",-1)),m("div",AD,[ce(o,{to:"/devenir-membre",class:"btn btn-orange btn-lg"},{default:be(()=>[...e[0]||(e[0]=[re(" Rejoindre ISF ",-1)])]),_:1}),ce(o,{to:"/comite-executif",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[1]||(e[1]=[re(" Notre quipe ",-1)])]),_:1})])])])])]),e[10]||(e[10]=Qt('<section class="section-dark py-5" data-v-d5cadaca><div class="container" data-v-d5cadaca><div class="section-head text-center mb-5" data-v-d5cadaca><h2 class="display-5 fw-bold text-white mb-3" data-v-d5cadaca>Notre histoire</h2><p class="lead text-white-50 mb-0" data-v-d5cadaca> ISFUniversit Laval fait partie du rseau Ingnieurs sans frontires Canada. </p></div><div class="row g-4 align-items-stretch" data-v-d5cadaca><div class="col-lg-7" data-v-d5cadaca><div class="card-dark h-100" data-v-d5cadaca><div class="card-body p-4 p-lg-5" data-v-d5cadaca><div class="card-kicker" data-v-d5cadaca><i class="fas fa-book-open me-2" data-v-d5cadaca></i> Depuis nos dbuts </div><p class="lead text-white mb-3" data-v-d5cadaca> La section Ingnieurs sans frontires  Universit Laval a t cre en 2004 et fait partie du rseau de Ingnieurs sans frontires Canada. Elle rassemble aujourdhui une communaut dynamique et engage de plus de 90 membres. </p><p class="text-white-50 mb-0" style="line-height:1.85;" data-v-d5cadaca> Ouverte  toutes les tudiantes et tous les tudiants  de tous les cycles et programmes, incluant les cycles suprieurs  notre section est un espace inclusif o chacun peut simpliquer  sa faon et selon ses intrts. </p></div></div></div><div class="col-lg-5" data-v-d5cadaca><div class="card-dark h-100 card-glow" data-v-d5cadaca><div class="card-body p-4 p-lg-5" data-v-d5cadaca><div class="stats-grid" data-v-d5cadaca><div class="stat-box" data-v-d5cadaca><div class="stat-box-num" data-v-d5cadaca>90+</div><div class="stat-box-label" data-v-d5cadaca>Membres actifs</div></div><div class="stat-box" data-v-d5cadaca><div class="stat-box-num" data-v-d5cadaca>3+</div><div class="stat-box-label" data-v-d5cadaca>Projets / initiatives</div></div><div class="stat-box" data-v-d5cadaca><div class="stat-box-num" data-v-d5cadaca></div><div class="stat-box-label" data-v-d5cadaca>Opportunits dimplication</div></div><div class="stat-box" data-v-d5cadaca><div class="stat-box-num" data-v-d5cadaca>ULaval</div><div class="stat-box-label" data-v-d5cadaca>Ancrage local</div></div></div><div class="tip mt-4" data-v-d5cadaca><i class="fas fa-info-circle me-2" data-v-d5cadaca></i> Tu peux participer ponctuellement ou timpliquer  long terme. </div></div></div></div></div></div></section><section class="section-dark py-5" data-v-d5cadaca><div class="container" data-v-d5cadaca><div class="section-head text-center mb-5" data-v-d5cadaca><h2 class="display-5 fw-bold text-white mb-3" data-v-d5cadaca>Mission &amp; vision</h2><p class="lead text-white-50 mb-0" data-v-d5cadaca> Ce qui nous guide et ce quon veut construire. </p></div><div class="row g-4" data-v-d5cadaca><div class="col-lg-6" data-v-d5cadaca><div class="card-dark h-100" data-v-d5cadaca><div class="card-body p-4 p-lg-5" data-v-d5cadaca><div class="title-row" data-v-d5cadaca><div class="icon-circle orange" data-v-d5cadaca><i class="fas fa-bullseye" data-v-d5cadaca></i></div><h3 class="fw-bold text-white mb-0" data-v-d5cadaca>Notre mission</h3></div><p class="lead text-white mt-4" data-v-d5cadaca> Sensibiliser et mobiliser la communaut tudiante autour des enjeux sociaux, environnementaux et thiques lis  lingnierie et au dveloppement international. </p><p class="text-white-50 mb-0" style="line-height:1.85;" data-v-d5cadaca>  travers des confrences, des activits de sensibilisation, des vnements et des initiatives concrtes, nous cherchons  crer un impact positif et durable, ici comme ailleurs. </p></div></div></div><div class="col-lg-6" data-v-d5cadaca><div class="card-dark h-100 card-glow" data-v-d5cadaca><div class="card-body p-4 p-lg-5" data-v-d5cadaca><div class="title-row" data-v-d5cadaca><div class="icon-circle green" data-v-d5cadaca><i class="fas fa-eye" data-v-d5cadaca></i></div><h3 class="fw-bold text-white mb-0" data-v-d5cadaca>Notre vision</h3></div><p class="lead text-white mt-4" data-v-d5cadaca> Une <strong data-v-d5cadaca>ingnierie humaine, responsable et engage</strong>. </p><p class="text-white-50 mb-0" style="line-height:1.85;" data-v-d5cadaca> Contribuer  former des personnes conscientes des impacts de leurs actions, et dsireuses de mettre leurs comptences au service dun avenir plus juste, solidaire et durable. </p></div></div></div></div></div></section>',2)),m("section",CD,[m("div",RD,[e[6]||(e[6]=m("div",{class:"section-head text-center mb-5"},[m("h2",{class:"display-5 fw-bold text-white mb-3"},"Nos valeurs"),m("p",{class:"lead text-white-50 mb-0"}," Les principes qui guident notre action quotidienne. ")],-1)),m("div",SD,[(se(!0),ie(nn,null,ir(i.values,l=>(se(),ie("div",{key:l.title,class:"col-lg-4 col-md-6"},[m("div",xD,[m("div",{class:Fn(["value-icon",l.accent])},[m("i",{class:Fn(l.icon)},null,2)],2),m("h5",PD,Ae(l.title),1),m("p",kD,Ae(l.text),1)])]))),128))])])]),m("section",OD,[m("div",DD,[m("div",ND,[e[9]||(e[9]=m("div",{class:"cta-left"},[m("h2",{class:"fw-bold mb-2"},"Tu as ta place parmi nous !"),m("p",{class:"mb-0"}," Curieuxse ou prte  timpliquer, on tattend pour construire un avenir plus juste. ")],-1)),m("div",VD,[ce(o,{to:"/devenir-membre",class:"btn btn-orange btn-lg"},{default:be(()=>[...e[7]||(e[7]=[re(" Devenir membre ",-1)])]),_:1}),ce(o,{to:"/activites",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[8]||(e[8]=[re(" Voir nos activits ",-1)])]),_:1})])])])])])}const MD=rn(yD,[["render",LD],["__scopeId","data-v-d5cadaca"]]);const FD={name:"ComiteExecutif",data(){return{isOpen:!1,activeIndex:0,members:[{id:"presidente",name:"Soraya Toutlaye Tifenn Faulet",role:"Prsidente",email:"",linkedin:"",programme:"Baccalaurat Gnie Mcanique",annee:"20252026",funFact:"Adore le chocolat !",bio:"",photo:"/executif/Presidente.jpg",description:"Reprsente officiellement lassociation, coordonne lexcutif et assure le suivi des dcisions et des activits."},{id:"vp-executive",name:"Nelly Njakou Tchaptchet",role:"VP Excutive",email:"",linkedin:"",programme:"Baccalaurat Gnie Industriel",annee:"20252026",funFact:"Toujours partante pour apprendre et pour rire",bio:"",photo:"/executif/Vp_Executive.jpg",description:"Soutient la prsidence, assure le bon fonctionnement du comit et la tenue des procs-verbaux (PV)."},{id:"vp-tresorerie",name:"Marietou Gning",role:"VP Trsorerie",email:"",linkedin:"",programme:"Baccalaurat Gnie Civil",annee:"20252026",funFact:"Jaime le chocolat",bio:"",photo:"/executif/Vp_Tresorerie.jpg",description:"Gre les finances, le budget et les transactions; assure le suivi des dpenses et des remboursements."},{id:"vp-interne",name:"Gaoussou Modibo Keita",role:"VP Interne",email:"",linkedin:"",programme:"Baccalaurat Gnie Industriel",annee:"20252026",funFact:"Je suis un grand aventurier !",bio:"",photo:"/executif/Vp_Interne.jpg",description:"Assure la cohsion du groupe et la communication interne; accueille les nouveaux membres et anime la vie associative."},{id:"vp-communications",name:"Omar Diaw",role:"VP Communications",email:"",linkedin:"",programme:"Baccalaurat Gnie Mcanique",annee:"20252026",funFact:"Trs bon gamer.",bio:"",photo:"/executif/Vp_Communication.jpg",description:"Gre limage et les rseaux sociaux; diffuse les informations importantes et maintient une cohrence visuelle."},{id:"vp-projet-d-ingenierie",name:"Noa Tantely Rajaona",role:"Vp Projet dingnierie",email:"",linkedin:"",programme:"Baccalaurat Gnie Industriel",annee:"20252026",funFact:"j'ai jou du violoncelle pendant toute mon enfance et adolescence / j'ai appris  faire de l'escrime suite  cause des JO",bio:"",photo:"/executif/vp_projet.jpg",description:""},{id:"assistante-projet-dingenierie",name:"Sarah Martin",role:"Assistante Projet dingnierie",email:"",linkedin:"",programme:"Diplme en Gnie Agroenvironnemental",annee:"20252026",funFact:"Jai fais une session dchange puis je suis revenue !",bio:"",photo:"/executif/AssistanteProjetIng.png",description:""},{id:"vp-evenementiel",name:"Manuela Thrse Karelle Ngongo Kengne",role:"VP vnementiel",email:"",linkedin:"",programme:"Baccalaurat Gnie Alimentaire",annee:"20252026",funFact:"Je suis passionne de cheveux afro et de coiffures africaines.J'en fais sur moi mme et sur mes proches",bio:"",photo:"/executif/Vp_Evenementiel.jpg",description:"Planifie et coordonne les vnements et activits de financement; supervise la logistique et les bnvoles."},{id:"vp-externe",name:"Cdric Christ Roi Gangoue Gambou",role:"VP Externe",email:"",linkedin:"",programme:"Baccalaurat Gnie Industriel",annee:"20252026",funFact:"Jai hte davoir mon premier million de dollars ",bio:"",photo:"/executif/Vp_Externe.jpg",description:"Dveloppe les relations externes et partenariats; coordonne les activits dimplication et de sensibilisation."},{id:"assistante-externe",name:"Rougui Diop",role:"Assistante  Affaires externes",email:"",linkedin:"",programme:"Baccalaurat Gnie Alimentaire",annee:"20252026",funFact:"tudiante en ingnierie mais chroniqueuse anonyme  ses heures perdues ",bio:"",photo:"/executif/Assistante_Externe.jpg",description:"Appuie la VP Externe dans lorganisation des initiatives et le suivi des partenaires et activits."},{id:"vp-leadership",name:"Zeinabou Sissoko",role:"VP Leadership",email:"",linkedin:"",programme:"Baccalaurat",annee:"20252026",funFact:"Jaime prendre des photos.",bio:"",photo:"/executif/Vp_Leadership.jpg",description:"Organise des ateliers et activits de formation; dveloppe les comptences et la conscientisation des membres."},{id:"assistant-leadership",name:"David Mathieu Touelli Ndoumbe",role:"Assistant  Leadership",email:"",linkedin:"",programme:"Baccalaurat Gnie Mcanique",annee:"20252026",funFact:"Trs bon cuisinier.",bio:"",photo:"/executif/Assistant_Leadership.jpg",description:"Appuie la VP Leadership dans la prparation et lanimation dactivits de formation et de sensibilisation."},{id:"sage-1",name:"Yeva Ct-Paradis",role:"Sage",email:"",linkedin:"",programme:"Baccalaurat Gnie Industriel",annee:"20252026",funFact:"Aime le rose gold  boss girl ",bio:"",photo:"/executif/Sage1.png",description:"Rle conseil : appuie lexcutif dans la vision, la structure et la prise de dcision."},{id:"sage-2",name:"Benjamin Mthot",role:"Sage",email:"",linkedin:"",programme:"Chercheur en gnie lectrique",annee:"20252026",funFact:"Adore aller en gypte.",bio:"",photo:"/executif/Sage2.png",description:"Rle conseil : partage dexprience, soutien et accompagnement pour la continuit de lassociation."}]}},computed:{active(){return this.members[this.activeIndex]||{}}},mounted(){window.addEventListener("keydown",this.onKeydown)},beforeUnmount(){window.removeEventListener("keydown",this.onKeydown),document.body.style.overflow="auto"},methods:{openMember(t){this.activeIndex=t,this.isOpen=!0,document.body.style.overflow="hidden"},closeMember(){this.isOpen=!1,document.body.style.overflow="auto"},nextMember(){this.activeIndex=(this.activeIndex+1)%this.members.length},prevMember(){this.activeIndex=(this.activeIndex-1+this.members.length)%this.members.length},onKeydown(t){this.isOpen&&(t.key==="Escape"&&this.closeMember(),t.key==="ArrowRight"&&this.nextMember(),t.key==="ArrowLeft"&&this.prevMember())}}},UD={class:"exec-page"},jD={class:"py-5 section-dark"},$D={class:"container exec-container"},BD={class:"row mb-4"},qD={class:"col-lg-10 mx-auto"},HD={class:"intro card-dark"},zD={class:"intro-right"},GD={class:"stat"},WD={class:"stat-value"},KD={class:"exec-grid"},QD=["onClick","onKeydown"],YD={class:"media"},XD=["src","alt"],JD={class:"role-badge"},ZD={class:"content"},eN={class:"name"},tN={class:"desc mb-0"},nN={class:"py-5 cta"},sN={class:"container"},iN={class:"row"},rN={class:"col-lg-9 mx-auto text-center"},oN={class:"d-flex gap-3 justify-content-center flex-wrap"},aN={class:"modal-top"},lN={class:"modal-body"},cN={class:"modal-photo"},uN=["src","alt"],dN={class:"modal-photo-badge"},hN={class:"modal-info"},fN={class:"info-name"},pN={class:"info-desc"},mN={class:"info-grid"},gN={class:"info-card"},_N={class:"info-value"},vN={class:"info-card"},yN={class:"info-value"},bN={class:"info-card wide"},wN={class:"info-value muted",style:{"line-height":"1.7"}},EN={key:0,class:"info-card wide"},TN={class:"info-value muted",style:{"line-height":"1.7"}},IN={class:"actions"},AN=["href"],CN=["href"];function RN(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("main",UD,[e[24]||(e[24]=Qt('<section class="hero" data-v-36d42afd><div class="hero-overlay" data-v-36d42afd></div><div class="container hero-inner" data-v-36d42afd><div class="row align-items-center min-vh-75 py-5" data-v-36d42afd><div class="col-lg-9 mx-auto text-center" data-v-36d42afd><div class="hero-pill" data-v-36d42afd><i class="fas fa-users me-2" data-v-36d42afd></i> Comit excutif </div><h1 class="display-4 fw-bold mb-3 text-white" data-v-36d42afd>Notre quipe</h1><p class="lead text-white-50 mb-0" data-v-36d42afd> Clique sur un membre pour voir sa fiche complte. </p></div></div></div></section>',1)),m("section",jD,[m("div",$D,[m("div",BD,[m("div",qD,[m("div",HD,[e[6]||(e[6]=m("div",{class:"intro-left"},[m("h2",{class:"h4 fw-bold text-white mb-2"},"Comit 20252026"),m("p",{class:"text-white-50 mb-0"}," Cliquez sur une carte : photo en plein cran + infos  droite. ")],-1)),m("div",zD,[m("div",GD,[m("div",WD,Ae(i.members.length),1),e[4]||(e[4]=m("div",{class:"stat-label"},"Membres",-1))]),e[5]||(e[5]=m("div",{class:"stat"},[m("div",{class:"stat-value"},"ISF"),m("div",{class:"stat-label"},"ULaval")],-1))])])])]),m("div",KD,[(se(!0),ie(nn,null,ir(i.members,(l,u)=>(se(),ie("article",{key:l.id,class:"exec-card card-dark",role:"button",tabindex:"0",onClick:d=>r.openMember(u),onKeydown:[eg(Xi(d=>r.openMember(u),["prevent"]),["enter"]),eg(Xi(d=>r.openMember(u),["prevent"]),["space"])]},[m("div",YD,[m("img",{src:l.photo,alt:`Photo de ${l.role}`,class:"photo"},null,8,XD),m("div",JD,[e[7]||(e[7]=m("i",{class:"fas fa-bolt me-2"},null,-1)),re(" "+Ae(l.role),1)])]),m("div",ZD,[m("h3",eN,Ae(l.name),1),m("p",tN,Ae(l.description),1)])],40,QD))),128))])])]),m("section",nN,[m("div",sN,[m("div",iN,[m("div",rN,[e[10]||(e[10]=m("h2",{class:"display-6 fw-bold text-white mb-3"},"Envie de timpliquer ?",-1)),e[11]||(e[11]=m("p",{class:"lead text-white-50 mb-4"}," Rejoins ISF Universit Laval et participe  des projets et activits qui font une vraie diffrence. ",-1)),m("div",oN,[ce(o,{to:"/devenir-membre",class:"btn btn-light btn-lg"},{default:be(()=>[...e[8]||(e[8]=[m("i",{class:"fas fa-users me-2"},null,-1),re(" Deviens membre ",-1)])]),_:1}),ce(o,{to:"/nous-joindre",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[9]||(e[9]=[m("i",{class:"fas fa-envelope me-2"},null,-1),re(" Nous contacter ",-1)])]),_:1})])])])])]),e[25]||(e[25]=m("div",{class:"bottom-glow"},null,-1)),i.isOpen?(se(),ie("div",{key:0,class:"overlay",onClick:e[3]||(e[3]=Xi((...l)=>r.closeMember&&r.closeMember(...l),["self"]))},[m("div",{class:Fn(["modal-shell",{open:i.isOpen}]),role:"dialog","aria-modal":"true"},[m("div",aN,[e[13]||(e[13]=m("div",{class:"modal-title"},[m("span",{class:"pill"},[m("i",{class:"fas fa-id-badge me-2"}),re(" Profil membre ")])],-1)),m("button",{class:"icon-btn",onClick:e[0]||(e[0]=(...l)=>r.closeMember&&r.closeMember(...l)),"aria-label":"Fermer"},[...e[12]||(e[12]=[m("i",{class:"fas fa-times"},null,-1)])])]),m("div",lN,[m("div",cN,[m("img",{src:r.active.photo,alt:`Photo de ${r.active.role}`,class:"modal-photo-img"},null,8,uN),m("button",{class:"nav-btn prev",onClick:e[1]||(e[1]=(...l)=>r.prevMember&&r.prevMember(...l)),"aria-label":"Prcdent"},[...e[14]||(e[14]=[m("i",{class:"fas fa-chevron-left"},null,-1)])]),m("button",{class:"nav-btn next",onClick:e[2]||(e[2]=(...l)=>r.nextMember&&r.nextMember(...l)),"aria-label":"Suivant"},[...e[15]||(e[15]=[m("i",{class:"fas fa-chevron-right"},null,-1)])]),m("div",dN,[e[16]||(e[16]=m("i",{class:"fas fa-bolt me-2"},null,-1)),re(Ae(r.active.role),1)])]),m("aside",hN,[m("h2",fN,Ae(r.active.name),1),m("p",pN,Ae(r.active.description),1),m("div",mN,[m("div",gN,[e[17]||(e[17]=m("div",{class:"info-label"},[m("i",{class:"fas fa-graduation-cap me-2"}),re(" Programme ")],-1)),m("div",_N,Ae(r.active.programme||""),1)]),m("div",vN,[e[18]||(e[18]=m("div",{class:"info-label"},[m("i",{class:"fas fa-calendar-alt me-2"}),re(" Anne ")],-1)),m("div",yN,Ae(r.active.annee||""),1)]),m("div",bN,[e[19]||(e[19]=m("div",{class:"info-label"},[m("i",{class:"fas fa-star me-2"}),re(" Fun fact ")],-1)),m("div",wN,Ae(r.active.funFact||""),1)]),r.active.bio?(se(),ie("div",EN,[e[20]||(e[20]=m("div",{class:"info-label"},[m("i",{class:"fas fa-quote-left me-2"}),re("  propos ")],-1)),m("div",TN,Ae(r.active.bio),1)])):Xe("",!0)]),m("div",IN,[r.active.email?(se(),ie("a",{key:0,class:"btn btn-outline-light",href:`mailto:${r.active.email}`},[...e[21]||(e[21]=[m("i",{class:"fas fa-envelope me-2"},null,-1),re(" Envoyer un courriel ",-1)])],8,AN)):Xe("",!0),r.active.linkedin?(se(),ie("a",{key:1,class:"btn btn-warning",href:r.active.linkedin,target:"_blank",rel:"noopener"},[...e[22]||(e[22]=[m("i",{class:"fab fa-linkedin-in me-2"},null,-1),re(" LinkedIn ",-1)])],8,CN)):Xe("",!0)]),e[23]||(e[23]=m("p",{class:"hint"}," Astuce : flches  , ESC pour fermer. ",-1))])])],2)])):Xe("",!0)])}const SN=rn(FD,[["render",RN],["__scopeId","data-v-36d42afd"]]);const xN={name:"DevenirMembre"},PN={class:"devenir-membre"};function kN(t,e,n,s,i,r){return se(),ie("div",PN,[...e[0]||(e[0]=[Qt('<section class="hero-section" data-v-acf5b8dd><div class="hero-overlay" data-v-acf5b8dd></div><div class="container hero-inner" data-v-acf5b8dd><div class="row align-items-center min-vh-75 py-5" data-v-acf5b8dd><div class="col-lg-8 mx-auto text-center" data-v-acf5b8dd><h1 class="display-4 fw-bold mb-4 text-white" data-v-acf5b8dd>Deviens membre !</h1><p class="lead mb-4 text-white-50" data-v-acf5b8dd> Rejoins notre communaut d&#39;ingnieurs engags </p><div class="alert custom-alert" data-v-acf5b8dd><h5 class="alert-heading mb-2" data-v-acf5b8dd>  Pour devenir membre il te suffit de complter le sondage ci-dessous ! </h5><p class="mb-0" data-v-acf5b8dd> Nous acceptons tous les programmes, tous les cycles et les tudiants gradus ! </p></div><div class="d-flex justify-content-center mt-4" data-v-acf5b8dd><a href="https://forms.office.com/r/mn5m3N3YJz" target="_blank" rel="noopener" class="btn btn-join btn-lg" data-v-acf5b8dd><i class="fas fa-external-link-alt me-2" data-v-acf5b8dd></i> Accder au formulaire dadhsion </a></div></div></div></div></section><section class="py-5 section-dark" data-v-acf5b8dd><div class="container" data-v-acf5b8dd><div class="row g-4" data-v-acf5b8dd><div class="col-lg-6" data-v-acf5b8dd><div class="card border-0 shadow h-100 card-dark" data-v-acf5b8dd><div class="card-header header-orange" data-v-acf5b8dd><h4 class="mb-0" data-v-acf5b8dd><i class="fas fa-user-plus me-2" data-v-acf5b8dd></i> Formulaire d&#39;adhsion </h4></div><div class="card-body p-4" data-v-acf5b8dd><h5 class="card-title text-white" data-v-acf5b8dd>Devenir membre d&#39;ISF ULaval</h5><p class="card-text text-white-50 mb-4" data-v-acf5b8dd> Le formulaire est externe et souvre dans un nouvel onglet. </p><a href="https://forms.office.com/r/mn5m3N3YJz" target="_blank" rel="noopener" class="btn btn-join w-100" data-v-acf5b8dd><i class="fas fa-paper-plane me-2" data-v-acf5b8dd></i> Ouvrir le formulaire dadhsion </a><div class="small text-white-50 mt-3" data-v-acf5b8dd> Si tu as un souci avec le formulaire, cris-nous : <span class="text-white" data-v-acf5b8dd>ulaval@chapter.ewb.ca</span></div></div></div></div><div class="col-lg-6" data-v-acf5b8dd><div class="card border-0 shadow h-100 card-dark" data-v-acf5b8dd><div class="card-header bg-success text-white" data-v-acf5b8dd><h4 class="mb-0" data-v-acf5b8dd><i class="fas fa-tshirt me-2" data-v-acf5b8dd></i> Formulaire Merch </h4></div><div class="card-body p-4" data-v-acf5b8dd><h5 class="card-title text-white" data-v-acf5b8dd>Pull de membre ISF</h5><p class="card-text text-white-50 mb-4" data-v-acf5b8dd><strong class="text-white" data-v-acf5b8dd> N&#39;oublie pas de remplir le formulaire de merch pour toi aussi avoir ton pull de membre ! </strong></p><div class="alert alert-warning" data-v-acf5b8dd><i class="fas fa-exclamation-triangle me-2" data-v-acf5b8dd></i><strong data-v-acf5b8dd>Important :</strong> Le formulaire merch est externe et s&#39;ouvre dans un nouvel onglet. </div><a href="https://forms.gle/AmjDeCcUneTFepcT7" target="_blank" rel="noopener" class="btn btn-success w-100 mb-4" data-v-acf5b8dd><i class="fas fa-external-link-alt me-2" data-v-acf5b8dd></i> Accder au formulaire Merch </a><hr class="hr-dark" data-v-acf5b8dd><h6 class="fw-bold mb-3 text-white" data-v-acf5b8dd>Dtails du pull</h6><ul class="list-unstyled text-white-50 mb-0" data-v-acf5b8dd><li class="mb-2" data-v-acf5b8dd><i class="fas fa-check text-success me-2" data-v-acf5b8dd></i> Design officiel ISF Universit Laval </li><li class="mb-2" data-v-acf5b8dd><i class="fas fa-check text-success me-2" data-v-acf5b8dd></i> Coton premium de haute qualit </li><li class="mb-2" data-v-acf5b8dd><i class="fas fa-check text-success me-2" data-v-acf5b8dd></i> Disponible en plusieurs tailles </li><li class="mb-2" data-v-acf5b8dd><i class="fas fa-check text-success me-2" data-v-acf5b8dd></i> Couleurs : Noir, Blanc, Bleu marine </li></ul></div></div></div></div></div></section><section class="py-5 section-dark" data-v-acf5b8dd><div class="container" data-v-acf5b8dd><div class="row" data-v-acf5b8dd><div class="col-lg-8 mx-auto text-center mb-5" data-v-acf5b8dd><h2 class="display-5 fw-bold mb-3 text-white" data-v-acf5b8dd>Pourquoi devenir membre ?</h2><p class="lead text-white-50" data-v-acf5b8dd> Les avantages d&#39;tre membre d&#39;ISF Universit Laval </p></div></div><div class="row g-4" data-v-acf5b8dd><div class="col-lg-4" data-v-acf5b8dd><div class="card border-0 shadow h-100 card-dark" data-v-acf5b8dd><div class="card-body text-center p-4" data-v-acf5b8dd><div class="mb-3" data-v-acf5b8dd><i class="fas fa-globe-americas fa-3x text-warning" data-v-acf5b8dd></i></div><h5 class="fw-bold mb-3 text-white" data-v-acf5b8dd>Avoir un impact rel</h5><p class="text-white-50 mb-0" data-v-acf5b8dd> Contribuer  des initiatives locales ou internationales qui ont un impact concret. </p></div></div></div><div class="col-lg-4" data-v-acf5b8dd><div class="card border-0 shadow h-100 card-dark" data-v-acf5b8dd><div class="card-body text-center p-4" data-v-acf5b8dd><div class="mb-3" data-v-acf5b8dd><i class="fas fa-graduation-cap fa-3x text-success" data-v-acf5b8dd></i></div><h5 class="fw-bold mb-3 text-white" data-v-acf5b8dd>Valoriser son parcours</h5><p class="text-white-50 mb-0" data-v-acf5b8dd> Dvelopper une exprience associative reconnue et enrichissante. </p></div></div></div><div class="col-lg-4" data-v-acf5b8dd><div class="card border-0 shadow h-100 card-dark" data-v-acf5b8dd><div class="card-body text-center p-4" data-v-acf5b8dd><div class="mb-3" data-v-acf5b8dd><i class="fas fa-hands-helping fa-3x text-info" data-v-acf5b8dd></i></div><h5 class="fw-bold mb-3 text-white" data-v-acf5b8dd>Participer  des projets</h5><p class="text-white-50 mb-0" data-v-acf5b8dd> Simpliquer dans des projets et activits lis  la solidarit et  lengagement. </p></div></div></div></div></div></section><section class="py-5 facebook-section" data-v-acf5b8dd><div class="container" data-v-acf5b8dd><div class="row" data-v-acf5b8dd><div class="col-lg-8 mx-auto text-center" data-v-acf5b8dd><h2 class="display-5 fw-bold mb-4 text-white" data-v-acf5b8dd>Groupe Facebook Priv</h2><p class="lead mb-4 text-white-50" data-v-acf5b8dd> Une fois membre, rejoins notre groupe Facebook priv pour rester connect avec la communaut et ne manquer aucune information ! </p><a href="https://www.facebook.com/groups/534075985970818/" target="_blank" rel="noopener" class="btn btn-light btn-lg" data-v-acf5b8dd><i class="fab fa-facebook me-2" data-v-acf5b8dd></i> Rejoindre le groupe priv </a></div></div></div></section>',4)])])}const ON=rn(xN,[["render",kN],["__scopeId","data-v-acf5b8dd"]]);const DN={name:"NosProjets",data(){return{projects:[{id:"puits-2024",title:"Eau pour tous  Puits (2024)",status:"Mandat 20242025",summary:"Le projet Eau pour tous visait la construction dun puits de 1 270 $  Njindar, au Cameroun, afin doffrir un accs durable  leau potable. La ralisation a t effectue en collaboration avec un ancien tudiant de lUniversit Laval, fondateur de Gather Charity, dj  lorigine de trois projets similaires dans la rgion.",link:"",images:["/projets/isfPuit.png","/projets/puit.jpg","/projets/puits.jpg","/projets/puit7.jpg","/projets/puit8.jpg","/projets/puit_construction.jpg","/projets/puit_construction1.jpg","/projets/puit_construction2.jpg","/projets/puit_construction3.jpg","/projets/puit_construction4.jpg","/projets/puit_construction5.jpg","/projets/puit_construction6.jpg","/projets/puit_construction7.jpg"],cover:"/projets/isfPuit.png",order:1,isVisible:!0},{id:"interviews",title:"Interviews dingnieurs",status:"Srie vido",summary:"Notre VP externe ralise des entrevues avec des ingnieurs et CPI aux parcours inspirants. Dcouvrez leurs tmoignages, leurs conseils et leurs expriences directement sur notre chane YouTube.",link:"https://www.youtube.com/@isf-ulaval",images:[],cover:"",order:2,isVisible:!0},{id:"madagascar-solaire",title:"Panneaux solaires  Madagascar",status:"Mandat 20252026 ( venir)",summary:"Le projet Panneaux solaires  Madagascar vise linstallation dun systme solaire dans une cole accueillant 125 lves. Cette initiative permettra de fournir une source dnergie durable et fiable, essentielle au bon droulement des activits scolaires. Actuellement en prparation, ce projet sinscrit dans notre volont de soutenir des infrastructures ducatives tout en promouvant des solutions nergtiques responsables.",link:"",images:[],cover:"",order:3,isVisible:!0}],lightbox:{open:!1,projectIndex:0,imageIndex:0,pop:!1}}},computed:{projectsToShow(){return[...this.projects].filter(t=>(t==null?void 0:t.isVisible)!==!1).sort((t,e)=>(t.order??999)-(e.order??999))},currentProject(){var t;return((t=this.projectsToShow)==null?void 0:t[this.lightbox.projectIndex])||null},currentImage(){var t,e;return((e=(t=this.currentProject)==null?void 0:t.images)==null?void 0:e[this.lightbox.imageIndex])||""}},mounted(){window.addEventListener("keydown",this.onKeyDown)},beforeUnmount(){window.removeEventListener("keydown",this.onKeyDown),document.body.style.overflow=""},methods:{hasImages(t){return!!(t!=null&&t.images&&t.images.length)},coverOf(t){return(t==null?void 0:t.cover)||Array.isArray(t==null?void 0:t.images)&&t.images[0]||"/ulaval.jpg"},openGallery(t,e=0){this.lightbox.projectIndex=t,this.lightbox.imageIndex=e,this.lightbox.open=!0,this.lightbox.pop=!1,this.$nextTick(()=>{requestAnimationFrame(()=>{this.lightbox.pop=!0,setTimeout(()=>this.lightbox.pop=!1,220)})}),document.body.style.overflow="hidden"},closeGallery(){this.lightbox.open=!1,document.body.style.overflow=""},nextImage(){var e;const t=((e=this.currentProject)==null?void 0:e.images)||[];t.length&&(this.lightbox.imageIndex=(this.lightbox.imageIndex+1)%t.length,this.triggerPop())},prevImage(){var e;const t=((e=this.currentProject)==null?void 0:e.images)||[];t.length&&(this.lightbox.imageIndex=(this.lightbox.imageIndex-1+t.length)%t.length,this.triggerPop())},triggerPop(){this.lightbox.pop=!1,requestAnimationFrame(()=>{this.lightbox.pop=!0,setTimeout(()=>this.lightbox.pop=!1,220)})},onKeyDown(t){this.lightbox.open&&(t.key==="Escape"&&this.closeGallery(),t.key==="ArrowRight"&&this.nextImage(),t.key==="ArrowLeft"&&this.prevImage())}}},NN={class:"projects-page"},VN={class:"section-dark py-5"},LN={class:"container"},MN={key:0,class:"events-placeholder"},FN={key:1},UN={class:"row align-items-center g-4"},jN={class:"col-lg-6"},$N={class:"project-text"},BN={class:"project-title"},qN={key:0,class:"project-tag"},HN={key:1,class:"project-desc"},zN={class:"mt-3 d-flex gap-3 flex-wrap"},GN=["href"],WN=["onClick"],KN={class:"col-lg-6"},QN=["onClick","aria-label"],YN={class:"cover-card"},XN=["src","alt"],JN={class:"cover-caption"},ZN={class:"cover-caption-title"},e5={key:1,class:"cover-empty"},t5={key:0,class:"divider"},n5={class:"lightbox-inner"},s5=["src","alt"],i5={class:"lb-meta"},r5={class:"lb-title"},o5={class:"lb-counter"};function a5(t,e,n,s,i,r){var o,l,u,d;return se(),ie("main",NN,[e[14]||(e[14]=Qt('<section class="hero" data-v-d54d872a><div class="hero-overlay" data-v-d54d872a></div><div class="container hero-inner" data-v-d54d872a><div class="row align-items-center min-vh-60 py-5" data-v-d54d872a><div class="col-lg-9 mx-auto text-center" data-v-d54d872a><h1 class="display-4 fw-bold text-white mb-3" data-v-d54d872a>Nos projets</h1><p class="lead text-white-50 mb-0" data-v-d54d872a> Dcouvrez nos initiatives, nos impacts et les images associes  chaque projet. </p></div></div></div></section>',1)),m("section",VN,[m("div",LN,[r.projectsToShow.length===0?(se(),ie("div",MN,[...e[4]||(e[4]=[m("p",{class:"mb-0 text-white-50"},"Aucun projet pour le moment.",-1)])])):(se(),ie("div",FN,[(se(!0),ie(nn,null,ir(r.projectsToShow,(f,g)=>{var y;return se(),ie("div",{key:f.id,class:"project-block"},[m("div",UN,[m("div",jN,[m("div",$N,[e[7]||(e[7]=m("div",{class:"project-kicker"},"Projet",-1)),m("h2",BN,Ae(f.title),1),f.status?(se(),ie("div",qN,Ae(f.status),1)):Xe("",!0),f.summary?(se(),ie("p",HN,Ae(f.summary),1)):Xe("",!0),m("div",zN,[f.link?(se(),ie("a",{key:0,class:"btn btn-warning btn-lg",href:f.link,target:"_blank",rel:"noopener"},[...e[5]||(e[5]=[m("i",{class:"fas fa-link me-2"},null,-1),re(" Ouvrir le lien ",-1)])],8,GN)):Xe("",!0),r.hasImages(f)?(se(),ie("button",{key:1,class:"btn btn-outline-light btn-lg",type:"button",onClick:E=>r.openGallery(g,0)},[e[6]||(e[6]=m("i",{class:"fas fa-images me-2"},null,-1)),re(" Voir "+Ae((((y=f.images)==null?void 0:y.length)||0)>1?"les photos":"la photo"),1)],8,WN)):Xe("",!0)])])]),m("div",KN,[r.hasImages(f)?(se(),ie("button",{key:0,class:"cover-btn",type:"button",onClick:E=>r.openGallery(g,0),"aria-label":`Ouvrir la photo du projet ${f.title}`},[m("div",YN,[m("img",{class:"cover-img",src:r.coverOf(f),alt:`Photo du projet ${f.title}`,loading:"lazy"},null,8,XN),e[9]||(e[9]=m("div",{class:"cover-gradient"},null,-1)),m("div",JN,[m("div",ZN,Ae(f.title),1),e[8]||(e[8]=m("div",{class:"cover-caption-sub"}," Cliquer pour agrandir ",-1))])])],8,QN)):(se(),ie("div",e5,[...e[10]||(e[10]=[Qt('<div class="cover-empty-inner" data-v-d54d872a><div class="cover-empty-icon" data-v-d54d872a><i class="fas fa-camera-retro" data-v-d54d872a></i></div><div class="cover-empty-title" data-v-d54d872a>Photos  venir</div><div class="cover-empty-sub" data-v-d54d872a> On ajoutera bientt des images pour ce projet. </div></div>',1)])]))])]),g!==r.projectsToShow.length-1?(se(),ie("hr",t5)):Xe("",!0)])}),128))]))])]),i.lightbox.open?(se(),ie("div",{key:0,class:"lightbox",role:"dialog","aria-modal":"true",onClick:e[3]||(e[3]=Xi((...f)=>r.closeGallery&&r.closeGallery(...f),["self"]))},[m("div",n5,[m("button",{class:"lb-close",type:"button",onClick:e[0]||(e[0]=(...f)=>r.closeGallery&&r.closeGallery(...f)),"aria-label":"Fermer"},[...e[11]||(e[11]=[m("i",{class:"fas fa-times"},null,-1)])]),m("button",{class:"lb-nav lb-prev",type:"button",onClick:e[1]||(e[1]=(...f)=>r.prevImage&&r.prevImage(...f)),"aria-label":"Image prcdente"},[...e[12]||(e[12]=[m("i",{class:"fas fa-chevron-left"},null,-1)])]),m("div",{class:Fn(["lb-stage",{"lb-pop":i.lightbox.pop}])},[m("img",{class:"lb-img",src:r.currentImage,alt:`Image ${i.lightbox.imageIndex+1} du projet ${((o=r.currentProject)==null?void 0:o.title)||""}`,draggable:"false"},null,8,s5),m("div",i5,[m("div",r5,Ae((l=r.currentProject)==null?void 0:l.title),1),m("div",o5,Ae(i.lightbox.imageIndex+1)+" / "+Ae(((d=(u=r.currentProject)==null?void 0:u.images)==null?void 0:d.length)||0),1)])],2),m("button",{class:"lb-nav lb-next",type:"button",onClick:e[2]||(e[2]=(...f)=>r.nextImage&&r.nextImage(...f)),"aria-label":"Image suivante"},[...e[13]||(e[13]=[m("i",{class:"fas fa-chevron-right"},null,-1)])])])])):Xe("",!0)])}const l5=rn(DN,[["render",a5],["__scopeId","data-v-d54d872a"]]),c5="/partenaires/cadeul.png",u5="/partenaires/aesgul.png",d5="/partenaires/aegseg.png",h5="/partenaires/departement de genie civil.png",f5="/partenaires/faculte sciences et genie.png";const p5={name:"Partenaires"},m5={class:"partenaires"},g5={class:"py-5 become-partner"},_5={class:"container"},v5={class:"row"},y5={class:"col-lg-8 mx-auto text-center"},b5={class:"d-flex gap-3 justify-content-center flex-wrap"};function w5(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("div",m5,[e[5]||(e[5]=Qt('<section class="hero-section" data-v-e66eba41><div class="hero-overlay" data-v-e66eba41></div><div class="container hero-inner" data-v-e66eba41><div class="row align-items-center min-vh-75 py-5" data-v-e66eba41><div class="col-lg-8 mx-auto text-center" data-v-e66eba41><h1 class="display-4 fw-bold mb-4 text-white" data-v-e66eba41>Nos partenaires</h1><p class="lead mb-4 text-white-50" data-v-e66eba41> Remerciements  nos gnreux commanditaires et partenaires </p></div></div></div></section><section class="py-5 section-dark" data-v-e66eba41><div class="container" data-v-e66eba41><div class="row" data-v-e66eba41><div class="col-lg-8 mx-auto text-center mb-5" data-v-e66eba41><h2 class="display-5 fw-bold mb-3 text-white" data-v-e66eba41>Nos commanditaires</h2><p class="lead text-white-50" data-v-e66eba41> Grce  leur soutien, nous pouvons mener  bien nos missions </p></div></div><div class="partners-stack" data-v-e66eba41><article class="partner-big card-dark" data-v-e66eba41><div class="partner-media" data-v-e66eba41><img src="'+c5+'" alt="Cadeul" class="partner-img" data-v-e66eba41></div><div class="partner-content" data-v-e66eba41><h3 class="partner-title" data-v-e66eba41>CADEUL</h3><p class="partner-text" data-v-e66eba41> Le Comit d&#39;action pour la diversit en ingnierie de l&#39;Universit Laval </p></div></article><article class="partner-big card-dark" data-v-e66eba41><div class="partner-media" data-v-e66eba41><img src="'+u5+'" alt="Aesgul" class="partner-img" data-v-e66eba41></div><div class="partner-content" data-v-e66eba41><h3 class="partner-title" data-v-e66eba41>AESGUL</h3><p class="partner-text" data-v-e66eba41> Association des tudiantes et tudiants en gnie de l&#39;Universit Laval </p></div></article><article class="partner-big card-dark" data-v-e66eba41><div class="partner-media" data-v-e66eba41><img src="'+d5+'" alt="AEGSEG" class="partner-img" data-v-e66eba41></div><div class="partner-content" data-v-e66eba41><h3 class="partner-title" data-v-e66eba41>AEGSEG</h3><p class="partner-text" data-v-e66eba41> Association des tudiants du gnie des systmes d&#39;information gographique </p></div></article><article class="partner-big card-dark" data-v-e66eba41><div class="partner-media" data-v-e66eba41><img src="'+h5+'" alt="Dpartement de gnie civil et gnie des eaux" class="partner-img" data-v-e66eba41></div><div class="partner-content" data-v-e66eba41><h3 class="partner-title" data-v-e66eba41>Dpartement de gnie civil et gnie des eaux</h3><p class="partner-text" data-v-e66eba41>Universit Laval  Partenaire acadmique</p></div></article><article class="partner-big card-dark" data-v-e66eba41><div class="partner-media" data-v-e66eba41><img src="'+f5+'" alt="Facult des sciences et de gnie" class="partner-img" data-v-e66eba41></div><div class="partner-content" data-v-e66eba41><h3 class="partner-title" data-v-e66eba41>Facult des sciences et de gnie</h3><p class="partner-text" data-v-e66eba41>Universit Laval  Soutien institutionnel</p></div></article><article class="partner-big card-dark" data-v-e66eba41><div class="partner-media partner-placeholder" data-v-e66eba41><div class="placeholder-inner" data-v-e66eba41><i class="fas fa-building fa-3x" data-v-e66eba41></i><div class="mt-3 fw-bold" data-v-e66eba41>Desjardins</div><div class="badge bg-warning text-dark mt-2" data-v-e66eba41> confirmer</div></div></div><div class="partner-content" data-v-e66eba41><h3 class="partner-title" data-v-e66eba41>Desjardins</h3><p class="partner-text" data-v-e66eba41>Partenaire financier potentiel</p></div></article></div></div></section><section class="py-5 section-dark" data-v-e66eba41><div class="container" data-v-e66eba41><div class="row" data-v-e66eba41><div class="col-lg-8 mx-auto text-center mb-5" data-v-e66eba41><h2 class="display-5 fw-bold mb-3 text-white" data-v-e66eba41> Rseau Ingnieurs sans frontires Canada </h2><p class="lead text-white-50" data-v-e66eba41> Nous faisons partie du rseau national d&#39;ISF Canada </p></div></div><div class="row g-4" data-v-e66eba41><div class="col-lg-4" data-v-e66eba41><div class="card border-0 shadow h-100 card-dark" data-v-e66eba41><div class="card-body text-center p-4" data-v-e66eba41><div class="mb-3" data-v-e66eba41><i class="fas fa-network-wired fa-3x text-warning" data-v-e66eba41></i></div><h5 class="fw-bold mb-3 text-white" data-v-e66eba41>Rseau national</h5><p class="text-white-50 mb-0" data-v-e66eba41> Nous sommes une section du rseau Ingnieurs sans frontires Canada, prsent dans plusieurs universits  travers le pays. </p></div></div></div><div class="col-lg-4" data-v-e66eba41><div class="card border-0 shadow h-100 card-dark" data-v-e66eba41><div class="card-body text-center p-4" data-v-e66eba41><div class="mb-3" data-v-e66eba41><i class="fas fa-handshake fa-3x text-success" data-v-e66eba41></i></div><h5 class="fw-bold mb-3 text-white" data-v-e66eba41>Collaboration</h5><p class="text-white-50 mb-0" data-v-e66eba41> Nous collaborons avec les autres sections pour partager les meilleures pratiques et coordonner nos actions  l&#39;chelle nationale. </p></div></div></div><div class="col-lg-4" data-v-e66eba41><div class="card border-0 shadow h-100 card-dark" data-v-e66eba41><div class="card-body text-center p-4" data-v-e66eba41><div class="mb-3" data-v-e66eba41><i class="fas fa-globe fa-3x text-info" data-v-e66eba41></i></div><h5 class="fw-bold mb-3 text-white" data-v-e66eba41>Impact international</h5><p class="text-white-50 mb-0" data-v-e66eba41> Ensemble, nous renforons l&#39;impact de l&#39;ingnierie humanitaire et du dveloppement international au Canada et ailleurs. </p></div></div></div></div></div></section><section class="py-5 section-dark" data-v-e66eba41><div class="container" data-v-e66eba41><div class="row" data-v-e66eba41><div class="col-lg-8 mx-auto text-center mb-5" data-v-e66eba41><h2 class="display-5 fw-bold mb-3 text-white" data-v-e66eba41>Nos partenaires oprationnels</h2><p class="lead text-white-50" data-v-e66eba41> Les organisations avec lesquelles nous collaborons directement </p></div></div><div class="row g-4" data-v-e66eba41><div class="col-lg-6" data-v-e66eba41><div class="card border-0 shadow h-100 card-dark" data-v-e66eba41><div class="card-body p-4" data-v-e66eba41><div class="d-flex align-items-start" data-v-e66eba41><div class="me-4" data-v-e66eba41><div class="bg-warning text-dark rounded-circle p-3" data-v-e66eba41><i class="fas fa-heart fa-2x" data-v-e66eba41></i></div></div><div class="flex-grow-1" data-v-e66eba41><h5 class="fw-bold mb-3 text-white" data-v-e66eba41>Gather Charity</h5><p class="text-white-50 mb-3" data-v-e66eba41> Organisation  but non lucratif fonde par un ancien tudiant de l&#39;Universit Laval, spcialise dans les projets d&#39;accs  l&#39;eau potable au Cameroun. </p><p class="text-white-50 mb-0" data-v-e66eba41><strong class="text-white" data-v-e66eba41>Collaboration :</strong> Projet Puits Cameroun 2024<br data-v-e66eba41><strong class="text-white" data-v-e66eba41>Statut :</strong> Partenaire actif </p></div></div></div></div></div><div class="col-lg-6" data-v-e66eba41><div class="card border-0 shadow h-100 card-dark" data-v-e66eba41><div class="card-body p-4" data-v-e66eba41><div class="d-flex align-items-start" data-v-e66eba41><div class="me-4" data-v-e66eba41><div class="bg-success text-white rounded-circle p-3" data-v-e66eba41><i class="fas fa-graduation-cap fa-2x" data-v-e66eba41></i></div></div><div class="flex-grow-1" data-v-e66eba41><h5 class="fw-bold mb-3 text-white" data-v-e66eba41>coles partenaires</h5><p class="text-white-50 mb-3" data-v-e66eba41> coles et institutions ducatives dans les pays o nous menons nos projets, assurant la durabilit et l&#39;impact de nos initiatives. </p><p class="text-white-50 mb-0" data-v-e66eba41><strong class="text-white" data-v-e66eba41>Collaborations :</strong> Projet Madagascar (cole 125 lves)<br data-v-e66eba41><strong class="text-white" data-v-e66eba41>Statut :</strong> En dveloppement </p></div></div></div></div></div></div></div></section>',4)),m("section",g5,[m("div",_5,[m("div",v5,[m("div",y5,[e[2]||(e[2]=m("h2",{class:"display-5 fw-bold mb-4 text-white"},"Devenir partenaire",-1)),e[3]||(e[3]=m("p",{class:"lead mb-4 text-white-50"}," Vous tes une organisation qui partage nos valeurs ? Rejoignez notre rseau de partenaires et contribuez  notre mission ! ",-1)),e[4]||(e[4]=m("p",{class:"mb-4 text-white-50"}," Nous recherchons des partenariats dans divers domaines : financement, expertise technique, logistique, et bien plus encore. ",-1)),m("div",b5,[ce(o,{to:"/nous-joindre",class:"btn btn-light btn-lg"},{default:be(()=>[...e[0]||(e[0]=[m("i",{class:"fas fa-envelope me-2"},null,-1),re(" Nous contacter ",-1)])]),_:1}),ce(o,{to:"/devenir-membre",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[1]||(e[1]=[m("i",{class:"fas fa-users me-2"},null,-1),re(" Rejoindre ISF ",-1)])]),_:1})])])])])])])}const E5=rn(p5,[["render",w5],["__scopeId","data-v-e66eba41"]]);const T5={name:"Charte"},I5={class:"charte"},A5={class:"py-5 bg-primary text-white"},C5={class:"container"},R5={class:"row"},S5={class:"col-lg-8 mx-auto text-center"},x5={class:"d-flex gap-3 justify-content-center"};function P5(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("div",I5,[e[4]||(e[4]=Qt('<section class="hero-section" data-v-12c9a94f><div class="container" data-v-12c9a94f><div class="row align-items-center min-vh-75 py-5" data-v-12c9a94f><div class="col-lg-8 mx-auto text-center" data-v-12c9a94f><h1 class="display-4 fw-bold mb-4" data-v-12c9a94f>Notre charte</h1><p class="lead mb-4" data-v-12c9a94f> Les principes et valeurs qui guident notre action </p></div></div></div></section><section class="py-5" data-v-12c9a94f><div class="container" data-v-12c9a94f><div class="row" data-v-12c9a94f><div class="col-lg-10 mx-auto" data-v-12c9a94f><div class="card border-0 shadow" data-v-12c9a94f><div class="card-header bg-primary text-white text-center py-4" data-v-12c9a94f><h2 class="mb-0" data-v-12c9a94f><i class="fas fa-book me-2" data-v-12c9a94f></i> CHARTE ISF </h2><p class="mb-0 mt-2" data-v-12c9a94f>Version mise  jour 2025</p></div><div class="card-body p-5" data-v-12c9a94f><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-primary" data-v-12c9a94f><i class="fas fa-quote-left me-2" data-v-12c9a94f></i> Prambule </h3><p class="lead" data-v-12c9a94f> La section Ingnieurs sans frontires  Universit Laval, forte de plus de 90 membres actifs, s&#39;engage  promouvoir une ingnierie humanitaire, responsable et engage au service du dveloppement international et de la justice sociale. </p></div><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-success" data-v-12c9a94f><i class="fas fa-bullseye me-2" data-v-12c9a94f></i> Notre Mission </h3><div class="alert alert-success" data-v-12c9a94f><p class="mb-0" data-v-12c9a94f><strong data-v-12c9a94f>Sensibiliser et mobiliser</strong> la communaut tudiante de l&#39;Universit Laval autour des enjeux sociaux, environnementaux et thiques lis  l&#39;ingnierie et au dveloppement international. </p></div><p data-v-12c9a94f> Par le biais de confrences, d&#39;activits de sensibilisation, d&#39;vnements et d&#39;initiatives concrtes, nous cherchons  crer un impact positif et durable, ici comme ailleurs. </p></div><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-info" data-v-12c9a94f><i class="fas fa-eye me-2" data-v-12c9a94f></i> Notre Vision </h3><div class="alert alert-info" data-v-12c9a94f><p class="mb-0" data-v-12c9a94f><strong data-v-12c9a94f>Contribuer  la formation de personnes conscientes</strong> des impacts de leurs actions et dsireuses de mettre leurs comptences au service d&#39;un avenir plus juste, solidaire et durable. </p></div></div><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-warning" data-v-12c9a94f><i class="fas fa-heart me-2" data-v-12c9a94f></i> Nos Valeurs Fondamentales </h3><div class="row g-4" data-v-12c9a94f><div class="col-lg-6" data-v-12c9a94f><div class="d-flex align-items-start" data-v-12c9a94f><div class="bg-danger text-white rounded-circle p-2 me-3 mt-1" data-v-12c9a94f><i class="fas fa-heart" data-v-12c9a94f></i></div><div data-v-12c9a94f><h5 class="fw-bold" data-v-12c9a94f>Solidarit</h5><p class="mb-0" data-v-12c9a94f> Nous croyons en la force de l&#39;entraide et de la coopration pour crer ensemble un impact positif durable. </p></div></div></div><div class="col-lg-6" data-v-12c9a94f><div class="d-flex align-items-start" data-v-12c9a94f><div class="bg-success text-white rounded-circle p-2 me-3 mt-1" data-v-12c9a94f><i class="fas fa-leaf" data-v-12c9a94f></i></div><div data-v-12c9a94f><h5 class="fw-bold" data-v-12c9a94f>Durabilit</h5><p class="mb-0" data-v-12c9a94f> Nous privilgions les solutions qui respectent l&#39;environnement et crent un impact  long terme pour les communauts. </p></div></div></div><div class="col-lg-6" data-v-12c9a94f><div class="d-flex align-items-start" data-v-12c9a94f><div class="bg-primary text-white rounded-circle p-2 me-3 mt-1" data-v-12c9a94f><i class="fas fa-balance-scale" data-v-12c9a94f></i></div><div data-v-12c9a94f><h5 class="fw-bold" data-v-12c9a94f>thique</h5><p class="mb-0" data-v-12c9a94f> Nous nous engageons  agir de manire thique et transparente dans tous nos projets et interactions. </p></div></div></div><div class="col-lg-6" data-v-12c9a94f><div class="d-flex align-items-start" data-v-12c9a94f><div class="bg-info text-white rounded-circle p-2 me-3 mt-1" data-v-12c9a94f><i class="fas fa-users" data-v-12c9a94f></i></div><div data-v-12c9a94f><h5 class="fw-bold" data-v-12c9a94f>Inclusion</h5><p class="mb-0" data-v-12c9a94f> Nous accueillons tous les profils et encourageons la diversit au sein de notre communaut universitaire. </p></div></div></div><div class="col-lg-6" data-v-12c9a94f><div class="d-flex align-items-start" data-v-12c9a94f><div class="bg-warning text-white rounded-circle p-2 me-3 mt-1" data-v-12c9a94f><i class="fas fa-lightbulb" data-v-12c9a94f></i></div><div data-v-12c9a94f><h5 class="fw-bold" data-v-12c9a94f>Innovation</h5><p class="mb-0" data-v-12c9a94f> Nous cherchons des solutions cratives et innovantes aux dfis du dveloppement international. </p></div></div></div><div class="col-lg-6" data-v-12c9a94f><div class="d-flex align-items-start" data-v-12c9a94f><div class="bg-secondary text-white rounded-circle p-2 me-3 mt-1" data-v-12c9a94f><i class="fas fa-graduation-cap" data-v-12c9a94f></i></div><div data-v-12c9a94f><h5 class="fw-bold" data-v-12c9a94f>Engagement</h5><p class="mb-0" data-v-12c9a94f> Nous nous engageons pleinement dans nos projets et encourageons l&#39;implication active de tous les membres. </p></div></div></div></div></div><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-dark" data-v-12c9a94f><i class="fas fa-cogs me-2" data-v-12c9a94f></i> Nos Principes d&#39;Action </h3><div class="accordion" id="principesAccordion" data-v-12c9a94f><div class="accordion-item" data-v-12c9a94f><h2 class="accordion-header" id="principe1" data-v-12c9a94f><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" data-v-12c9a94f> 1. Approche Participative </button></h2><div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#principesAccordion" data-v-12c9a94f><div class="accordion-body" data-v-12c9a94f> Nous impliquons activement les communauts bnficiaires dans la conception, la mise en uvre et l&#39;valuation de nos projets. Leurs besoins et leurs connaissances guident nos actions. </div></div></div><div class="accordion-item" data-v-12c9a94f><h2 class="accordion-header" id="principe2" data-v-12c9a94f><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" data-v-12c9a94f> 2. Transparence et Redevabilit </button></h2><div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#principesAccordion" data-v-12c9a94f><div class="accordion-body" data-v-12c9a94f> Nous nous engageons  maintenir une transparence totale dans l&#39;utilisation des fonds et  rendre des comptes  nos membres, partenaires et communauts bnficiaires. </div></div></div><div class="accordion-item" data-v-12c9a94f><h2 class="accordion-header" id="principe3" data-v-12c9a94f><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" data-v-12c9a94f> 3. Durabilit Environnementale </button></h2><div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#principesAccordion" data-v-12c9a94f><div class="accordion-body" data-v-12c9a94f> Nous intgrons systmatiquement les considrations environnementales dans tous nos projets et privilgions les solutions cologiques. </div></div></div><div class="accordion-item" data-v-12c9a94f><h2 class="accordion-header" id="principe4" data-v-12c9a94f><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" data-v-12c9a94f> 4. Renforcement des Capacits </button></h2><div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#principesAccordion" data-v-12c9a94f><div class="accordion-body" data-v-12c9a94f> Nous privilgions le transfert de connaissances et le renforcement des capacits locales plutt que l&#39;assistance technique directe. </div></div></div><div class="accordion-item" data-v-12c9a94f><h2 class="accordion-header" id="principe5" data-v-12c9a94f><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" data-v-12c9a94f> 5. Formation Continue </button></h2><div id="collapse5" class="accordion-collapse collapse" data-bs-parent="#principesAccordion" data-v-12c9a94f><div class="accordion-body" data-v-12c9a94f> Nous nous engageons  fournir des opportunits de formation et de dveloppement professionnel  nos membres et aux communauts avec lesquelles nous travaillons. </div></div></div></div></div><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-primary" data-v-12c9a94f><i class="fas fa-handshake me-2" data-v-12c9a94f></i> Engagements des Membres </h3><div class="row g-4" data-v-12c9a94f><div class="col-lg-6" data-v-12c9a94f><div class="card border-0 bg-light h-100" data-v-12c9a94f><div class="card-body" data-v-12c9a94f><h5 class="fw-bold mb-3" data-v-12c9a94f><i class="fas fa-user-check text-success me-2" data-v-12c9a94f></i> Participation Active </h5><ul class="list-unstyled" data-v-12c9a94f><li class="mb-2" data-v-12c9a94f><i class="fas fa-check text-success me-2" data-v-12c9a94f></i> Assister aux runions et vnements </li><li class="mb-2" data-v-12c9a94f><i class="fas fa-check text-success me-2" data-v-12c9a94f></i> Contribuer aux projets en cours </li><li class="mb-2" data-v-12c9a94f><i class="fas fa-check text-success me-2" data-v-12c9a94f></i> Partager ses comptences et expriences </li></ul></div></div></div><div class="col-lg-6" data-v-12c9a94f><div class="card border-0 bg-light h-100" data-v-12c9a94f><div class="card-body" data-v-12c9a94f><h5 class="fw-bold mb-3" data-v-12c9a94f><i class="fas fa-heart text-danger me-2" data-v-12c9a94f></i> Respect et Inclusivit </h5><ul class="list-unstyled" data-v-12c9a94f><li class="mb-2" data-v-12c9a94f><i class="fas fa-check text-success me-2" data-v-12c9a94f></i> Respecter la diversit des opinions </li><li class="mb-2" data-v-12c9a94f><i class="fas fa-check text-success me-2" data-v-12c9a94f></i> Maintenir un environnement respectueux </li><li class="mb-2" data-v-12c9a94f><i class="fas fa-check text-success me-2" data-v-12c9a94f></i> Favoriser l&#39;inclusion de tous </li></ul></div></div></div></div></div><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-info" data-v-12c9a94f><i class="fas fa-sitemap me-2" data-v-12c9a94f></i> Structure Organisationnelle </h3><div class="row g-4" data-v-12c9a94f><div class="col-lg-4" data-v-12c9a94f><div class="text-center" data-v-12c9a94f><div class="bg-primary text-white rounded-circle p-3 d-inline-block mb-3" data-v-12c9a94f><i class="fas fa-users fa-2x" data-v-12c9a94f></i></div><h5 class="fw-bold" data-v-12c9a94f>Assemble Gnrale</h5><p class="text-muted" data-v-12c9a94f> Instance suprme compose de tous les membres, elle dfinit les orientations stratgiques et lit le comit excutif. </p></div></div><div class="col-lg-4" data-v-12c9a94f><div class="text-center" data-v-12c9a94f><div class="bg-success text-white rounded-circle p-3 d-inline-block mb-3" data-v-12c9a94f><i class="fas fa-cog fa-2x" data-v-12c9a94f></i></div><h5 class="fw-bold" data-v-12c9a94f>Comit Excutif</h5><p class="text-muted" data-v-12c9a94f> Organe de direction compuesto de 9 postes et leurs assistants, responsable de la mise en uvre des dcisions. </p></div></div><div class="col-lg-4" data-v-12c9a94f><div class="text-center" data-v-12c9a94f><div class="bg-info text-white rounded-circle p-3 d-inline-block mb-3" data-v-12c9a94f><i class="fas fa-tasks fa-2x" data-v-12c9a94f></i></div><h5 class="fw-bold" data-v-12c9a94f>Comits de Travail</h5><p class="text-muted" data-v-12c9a94f> Groupes spcialiss pour chaque projet et activit, ouverts  la participation de tous les membres intresss. </p></div></div></div></div><div class="mb-5" data-v-12c9a94f><h3 class="fw-bold mb-4 text-warning" data-v-12c9a94f><i class="fas fa-sync-alt me-2" data-v-12c9a94f></i> Rvision et Mise  Jour </h3><div class="alert alert-warning" data-v-12c9a94f><h6 class="alert-heading" data-v-12c9a94f><i class="fas fa-info-circle me-2" data-v-12c9a94f></i> Processus de Rvision </h6><p class="mb-2" data-v-12c9a94f> Cette charte est rvise annuellement lors de l&#39;Assemble Gnrale ou  la demande d&#39;au moins 20% des membres actifs. </p><p class="mb-0" data-v-12c9a94f><strong data-v-12c9a94f>Dernire mise  jour :</strong> Novembre 2025<br data-v-12c9a94f><strong data-v-12c9a94f>Prochaine rvision prvue :</strong> Novembre 2026 </p></div></div><div class="text-center" data-v-12c9a94f><div class="border-top pt-4" data-v-12c9a94f><p class="text-muted mb-3" data-v-12c9a94f> Cette charte a t adopte par l&#39;Assemble Gnrale d&#39;ISF Universit Laval </p><div class="row g-4" data-v-12c9a94f><div class="col-md-6" data-v-12c9a94f><div class="signature-box" data-v-12c9a94f><p class="mb-1" data-v-12c9a94f><strong data-v-12c9a94f>Soraya Faulet</strong></p><p class="mb-0" data-v-12c9a94f><small data-v-12c9a94f>Prsidente</small></p></div></div><div class="col-md-6" data-v-12c9a94f><div class="signature-box" data-v-12c9a94f><p class="mb-1" data-v-12c9a94f><strong data-v-12c9a94f>Nelly Njakou</strong></p><p class="mb-0" data-v-12c9a94f><small data-v-12c9a94f>VP Excutive</small></p></div></div></div></div></div></div></div></div></div></div></section>',2)),m("section",A5,[m("div",C5,[m("div",R5,[m("div",S5,[e[2]||(e[2]=m("h2",{class:"display-5 fw-bold mb-4"},"Adhrez  nos valeurs !",-1)),e[3]||(e[3]=m("p",{class:"lead mb-4"}," Cette charte reflte notre engagement envers une ingnierie plus humaine, responsable et solidaire. Rejoignez-nous pour mettre ces principes en action ! ",-1)),m("div",x5,[ce(o,{to:"/devenir-membre",class:"btn btn-light btn-lg"},{default:be(()=>[...e[0]||(e[0]=[m("i",{class:"fas fa-user-plus me-2"},null,-1),re(" Adhrer  ISF ",-1)])]),_:1}),ce(o,{to:"/nos-projets",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[1]||(e[1]=[m("i",{class:"fas fa-project-diagram me-2"},null,-1),re(" Nos projets ",-1)])]),_:1})])])])])])])}const k5=rn(T5,[["render",P5],["__scopeId","data-v-12c9a94f"]]);const O5={name:"Stages"},D5={class:"stages"},N5={class:"py-5 cta-section"},V5={class:"container"},L5={class:"row"},M5={class:"col-lg-9 mx-auto text-center"},F5={class:"d-flex gap-3 justify-content-center flex-wrap"};function U5(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("div",D5,[e[4]||(e[4]=Qt('<section class="hero-section" data-v-6e336e95><div class="hero-overlay" data-v-6e336e95></div><div class="container hero-inner" data-v-6e336e95><div class="row align-items-center min-vh-75 py-5" data-v-6e336e95><div class="col-lg-8 mx-auto text-center" data-v-6e336e95><h1 class="display-4 fw-bold mb-3 text-white" data-v-6e336e95>Stages  l&#39;international</h1><p class="lead mb-4 text-white-50" data-v-6e336e95> Opportunits de stages et d&#39;expriences internationales </p><div class="hero-chips" data-v-6e336e95><span class="chip" data-v-6e336e95><i class="fas fa-globe-americas me-2" data-v-6e336e95></i>Ressources partenaires </span><span class="chip" data-v-6e336e95><i class="fas fa-passport me-2" data-v-6e336e95></i>Conseils &amp; prparation </span><span class="chip" data-v-6e336e95><i class="fas fa-shield-alt me-2" data-v-6e336e95></i>Scurit </span></div></div></div></div></section><section class="py-5 section-dark" data-v-6e336e95><div class="container" data-v-6e336e95><div class="row" data-v-6e336e95><div class="col-lg-9 mx-auto" data-v-6e336e95><div class="card card-dark shadow-soft" data-v-6e336e95><div class="card-body p-5 text-center" data-v-6e336e95><div class="icon-bubble mb-4" data-v-6e336e95><i class="fas fa-info-circle" data-v-6e336e95></i></div><h2 class="display-6 fw-bold mb-3 text-white" data-v-6e336e95>Stages internationaux</h2><p class="lead mb-4 text-white-50" data-v-6e336e95> ISF Universit Laval n&#39;offre pas directement de stages  l&#39;international pour le moment. Cependant, nous pouvons vous orienter vers des organisations qui proposent ces opportunits. </p><div class="alert alert-dark alert-dark-custom" data-v-6e336e95><h5 class="alert-heading text-white" data-v-6e336e95><i class="fas fa-lightbulb me-2 text-warning" data-v-6e336e95></i> Conseil </h5><p class="mb-0 text-white-50" data-v-6e336e95> Explorez les opportunits proposes par nos organisations partenaires et le rseau plus large d&#39;Ingnieurs sans frontires. </p></div><div class="d-flex gap-3 justify-content-center flex-wrap mt-4" data-v-6e336e95><a href="https://www.ulaval.ca" target="_blank" rel="noopener" class="btn btn-accent btn-lg" aria-label="Site officiel de lUniversit Laval" data-v-6e336e95><i class="fas fa-external-link-alt me-2" data-v-6e336e95></i> Universit Laval </a></div></div></div></div></div></div></section><section class="py-5 section-dark" data-v-6e336e95><div class="container" data-v-6e336e95><div class="row" data-v-6e336e95><div class="col-lg-8 mx-auto text-center mb-5" data-v-6e336e95><h2 class="display-6 fw-bold mb-2 text-white" data-v-6e336e95>Prpare ton exprience</h2><p class="lead text-white-50 mb-0" data-v-6e336e95> Conseils pour maximiser tes chances et bien te prparer </p></div></div><div class="row g-4" data-v-6e336e95><div class="col-lg-4" data-v-6e336e95><div class="card card-dark card-hover h-100" data-v-6e336e95><div class="card-body text-center p-4" data-v-6e336e95><div class="tip-icon text-accent" data-v-6e336e95><i class="fas fa-passport" data-v-6e336e95></i></div><h5 class="fw-bold mb-2 text-white" data-v-6e336e95>Documentation</h5><p class="text-white-50 mb-0" data-v-6e336e95> Vrifie passeport, visas et dlais de traitement avant de rserver quoi que ce soit. </p></div></div></div><div class="col-lg-4" data-v-6e336e95><div class="card card-dark card-hover h-100" data-v-6e336e95><div class="card-body text-center p-4" data-v-6e336e95><div class="tip-icon text-success" data-v-6e336e95><i class="fas fa-syringe" data-v-6e336e95></i></div><h5 class="fw-bold mb-2 text-white" data-v-6e336e95>Vaccinations</h5><p class="text-white-50 mb-0" data-v-6e336e95> Consulte un centre de vaccination et prpare ton kit sant selon la destination. </p></div></div></div><div class="col-lg-4" data-v-6e336e95><div class="card card-dark card-hover h-100" data-v-6e336e95><div class="card-body text-center p-4" data-v-6e336e95><div class="tip-icon text-info" data-v-6e336e95><i class="fas fa-language" data-v-6e336e95></i></div><h5 class="fw-bold mb-2 text-white" data-v-6e336e95>Langues</h5><p class="text-white-50 mb-0" data-v-6e336e95> Renforce ton anglais et apprends les bases utiles de la langue locale. </p></div></div></div><div class="col-lg-4" data-v-6e336e95><div class="card card-dark card-hover h-100" data-v-6e336e95><div class="card-body text-center p-4" data-v-6e336e95><div class="tip-icon text-warning" data-v-6e336e95><i class="fas fa-briefcase" data-v-6e336e95></i></div><h5 class="fw-bold mb-2 text-white" data-v-6e336e95>Comptences</h5><p class="text-white-50 mb-0" data-v-6e336e95> Mets  jour ton CV, ton portfolio, et rvise les bases techniques lies au mandat. </p></div></div></div><div class="col-lg-4" data-v-6e336e95><div class="card card-dark card-hover h-100" data-v-6e336e95><div class="card-body text-center p-4" data-v-6e336e95><div class="tip-icon text-danger" data-v-6e336e95><i class="fas fa-heart" data-v-6e336e95></i></div><h5 class="fw-bold mb-2 text-white" data-v-6e336e95>Culture</h5><p class="text-white-50 mb-0" data-v-6e336e95> Informe-toi sur la culture et les coutumes : cest la cl dune bonne intgration. </p></div></div></div><div class="col-lg-4" data-v-6e336e95><div class="card card-dark card-hover h-100" data-v-6e336e95><div class="card-body text-center p-4" data-v-6e336e95><div class="tip-icon text-secondary" data-v-6e336e95><i class="fas fa-shield-alt" data-v-6e336e95></i></div><h5 class="fw-bold mb-2 text-white" data-v-6e336e95>Scurit</h5><p class="text-white-50 mb-0" data-v-6e336e95> Suis les recommandations officielles et garde des contacts rguliers avec tes proches. </p></div></div></div></div></div></section>',3)),m("section",N5,[m("div",V5,[m("div",L5,[m("div",M5,[e[2]||(e[2]=m("h2",{class:"display-6 fw-bold mb-3 text-white"}," Besoin d'aide pour ton projet international ? ",-1)),e[3]||(e[3]=m("p",{class:"lead mb-4 text-white-50"}," Notre VP Externe peut t'accompagner dans ta recherche de stages et t'orienter vers les bonnes ressources. ",-1)),m("div",F5,[ce(o,{to:"/comite-executif",class:"btn btn-light btn-lg"},{default:be(()=>[...e[0]||(e[0]=[m("i",{class:"fas fa-users me-2"},null,-1),re(" Contacter notre VP Externe ",-1)])]),_:1}),ce(o,{to:"/nous-joindre",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[1]||(e[1]=[m("i",{class:"fas fa-envelope me-2"},null,-1),re(" Nous contacter ",-1)])]),_:1})])])])])])])}const j5=rn(O5,[["render",U5],["__scopeId","data-v-6e336e95"]]);const $5={name:"FaireUnDon",data(){return{showDonationModal:!1}},watch:{showDonationModal(t){document.body.classList.toggle("modal-open",t)}},beforeUnmount(){document.body.classList.remove("modal-open")}},B5={class:"faire-un-don"},q5={class:"py-5 section-dark"},H5={class:"container"},z5={class:"row"},G5={class:"col-lg-8 mx-auto"},W5={class:"card border-0 shadow card-dark"},K5={class:"card-body p-5 text-center"},Q5={class:"d-flex gap-3 justify-content-center flex-wrap mt-4"},Y5={class:"py-5 section-dark"},X5={class:"container"},J5={class:"row g-4"},Z5={class:"col-lg-6"},eV={class:"card border-0 shadow h-100 card-dark card-hover"},tV={class:"card-body p-4"},nV={class:"d-flex align-items-start"},sV={class:"flex-grow-1"},iV={class:"d-flex gap-2 flex-wrap"},rV={class:"col-lg-6"},oV={class:"card border-0 shadow h-100 card-dark card-hover"},aV={class:"card-body p-4"},lV={class:"d-flex align-items-start"},cV={class:"flex-grow-1"},uV={class:"d-flex gap-2 flex-wrap"},dV={class:"py-5 section-dark"},hV={class:"container"},fV={class:"row g-4"},pV={class:"col-lg-4"},mV={class:"card border-0 shadow h-100 card-dark card-hover"},gV={class:"card-body text-center p-4"},_V={class:"col-lg-4"},vV={class:"card border-0 shadow h-100 card-dark card-hover"},yV={class:"card-body text-center p-4"},bV={class:"col-lg-4"},wV={class:"card border-0 shadow h-100 card-dark card-hover"},EV={class:"card-body text-center p-4"},TV={class:"py-5 cta-section"},IV={class:"container"},AV={class:"row"},CV={class:"col-lg-8 mx-auto text-center"},RV={class:"d-flex gap-3 justify-content-center flex-wrap"},SV={class:"modal-dialog modal-dialog-centered"},xV={class:"modal-content modal-dark"},PV={class:"modal-header"},kV={class:"modal-footer"},OV={key:1,class:"modal-backdrop fade show"};function DV(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("div",B5,[e[43]||(e[43]=Qt('<section class="hero-section" data-v-5d752d22><div class="hero-overlay" data-v-5d752d22></div><div class="container hero-inner" data-v-5d752d22><div class="row align-items-center min-vh-75 py-5" data-v-5d752d22><div class="col-lg-8 mx-auto text-center" data-v-5d752d22><h1 class="display-4 fw-bold mb-4 text-white" data-v-5d752d22>Faire un don</h1><p class="lead mb-4 text-white-50" data-v-5d752d22> Soutenez nos projets et crez un impact durable </p></div></div></div></section>',1)),m("section",q5,[m("div",H5,[m("div",z5,[m("div",G5,[m("div",W5,[m("div",K5,[e[9]||(e[9]=Qt('<div class="mb-4" data-v-5d752d22><i class="fas fa-heart fa-4x icon-heart" data-v-5d752d22></i></div><h2 class="display-5 fw-bold mb-4 text-white" data-v-5d752d22>Chaque geste compte</h2><p class="lead mb-4 text-white-50" data-v-5d752d22><strong data-v-5d752d22> Chaque contribution, mme modeste, nous permet de mener  bien des projets solidaires et responsables au sein d&#39;ISF-Ulaval. </strong></p><p class="mb-4 text-white-50" data-v-5d752d22> En faisant un don, vous aidez des tudiants engags  dvelopper des actions concrtes autour de la coopration internationale et de l&#39;impact social. Votre soutien fait rellement la diffrence et nous permet d&#39;aller plus loin. </p><div class="alert alert-dark custom-alert" data-v-5d752d22><h5 class="alert-heading mb-2" data-v-5d752d22><i class="fas fa-hands-helping me-2 text-warning" data-v-5d752d22></i> Construisons ensemble un monde plus juste et plus durable </h5><p class="mb-0 text-white-50" data-v-5d752d22> Merci de contribuer  construire un monde plus juste et plus durable. </p></div>',5)),m("div",Q5,[m("button",{class:"btn btn-donate btn-lg",onClick:e[0]||(e[0]=l=>i.showDonationModal=!0)},[...e[7]||(e[7]=[m("i",{class:"fas fa-heart me-2"},null,-1),re(" Faire un don ",-1)])]),ce(o,{to:"/nos-projets",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[8]||(e[8]=[m("i",{class:"fas fa-arrow-right me-2"},null,-1),re(" Voir nos projets ",-1)])]),_:1})])])])])])])]),m("section",Y5,[m("div",X5,[e[22]||(e[22]=m("div",{class:"row"},[m("div",{class:"col-lg-8 mx-auto text-center mb-5"},[m("h2",{class:"display-5 fw-bold mb-3 text-white"},"Nos projets en cours"),m("p",{class:"lead text-white-50"}," Dcouvrez comment votre don peut avoir un impact direct ")])],-1)),m("div",J5,[m("div",Z5,[m("div",eV,[m("div",tV,[m("div",nV,[e[15]||(e[15]=m("div",{class:"me-4"},[m("div",{class:"icon-bubble bubble-warning"},[m("i",{class:"fas fa-solar-panel fa-2x"})])],-1)),m("div",sV,[e[12]||(e[12]=m("h5",{class:"fw-bold mb-3 text-white"},"Projet Panneaux solaires  Madagascar",-1)),e[13]||(e[13]=m("p",{class:"text-white-50 mb-3"}," Installation d'un systme solaire pour une cole de 125 lves. Votre don contribuera directement  fournir une source d'nergie durable et fiable. ",-1)),e[14]||(e[14]=m("div",{class:"mb-3"},[m("div",{class:"progress progress-dark mb-2"},[m("div",{class:"progress-bar progress-bar-warning",role:"progressbar",style:{width:"30%"},"aria-valuenow":"30","aria-valuemin":"0","aria-valuemax":"100"}," 30% ")]),m("small",{class:"text-white-50"}," Objectif : 5 000 $ CAD | Atteint : 1 500 $ CAD ")],-1)),m("div",iV,[e[11]||(e[11]=m("a",{href:"https://www.gofundme.com/f/panneaux-solaires-madagascar",target:"_blank",class:"btn btn-donate-sm"},[m("i",{class:"fas fa-external-link-alt me-1"}),re(" GoFundMe ")],-1)),ce(o,{to:"/nos-projets",class:"btn btn-outline-warning btn-sm"},{default:be(()=>[...e[10]||(e[10]=[re(" En savoir plus ",-1)])]),_:1})])])])])])]),m("div",rV,[m("div",oV,[m("div",aV,[m("div",lV,[e[21]||(e[21]=m("div",{class:"me-4"},[m("div",{class:"icon-bubble bubble-primary"},[m("i",{class:"fas fa-seedling fa-2x"})])],-1)),m("div",cV,[e[18]||(e[18]=m("h5",{class:"fw-bold mb-3 text-white"},"Fonds de dveloppement futur",-1)),e[19]||(e[19]=m("p",{class:"text-white-50 mb-3"}," Soutenez nos futurs projets d'ingnierie humanitaire. Votre don nous permettra de saisir rapidement les opportunits qui se prsenteront. ",-1)),e[20]||(e[20]=m("div",{class:"mb-3"},[m("div",{class:"progress progress-dark mb-2"},[m("div",{class:"progress-bar progress-bar-primary",role:"progressbar",style:{width:"60%"},"aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}," 60% ")]),m("small",{class:"text-white-50"}," Objectif : 10 000 $ CAD | Atteint : 6 000 $ CAD ")],-1)),m("div",uV,[m("button",{class:"btn btn-primary btn-sm",onClick:e[1]||(e[1]=l=>i.showDonationModal=!0)},[...e[16]||(e[16]=[m("i",{class:"fas fa-heart me-1"},null,-1),re(" Faire un don ",-1)])]),ce(o,{to:"/nos-projets",class:"btn btn-outline-primary btn-sm"},{default:be(()=>[...e[17]||(e[17]=[re(" Nos projets ",-1)])]),_:1})])])])])])])])])]),m("section",dV,[m("div",hV,[e[35]||(e[35]=m("div",{class:"row"},[m("div",{class:"col-lg-8 mx-auto text-center mb-5"},[m("h2",{class:"display-5 fw-bold mb-3 text-white"},"Comment faire un don ?"),m("p",{class:"lead text-white-50"}," Plusieurs faons de nous soutenir selon vos prfrences ")])],-1)),m("div",fV,[m("div",pV,[m("div",mV,[m("div",gV,[e[24]||(e[24]=m("div",{class:"mb-3"},[m("i",{class:"fas fa-globe fa-3x text-success"})],-1)),e[25]||(e[25]=m("h5",{class:"fw-bold mb-3 text-white"},"Don en ligne scuris",-1)),e[26]||(e[26]=m("p",{class:"text-white-50"}," Utilisez notre plateforme scurise pour faire un don par carte de crdit. Transaction rapide et scurise. ",-1)),m("button",{class:"btn btn-success",onClick:e[2]||(e[2]=l=>i.showDonationModal=!0)},[...e[23]||(e[23]=[m("i",{class:"fas fa-credit-card me-2"},null,-1),re(" Don en ligne ",-1)])])])])]),m("div",_V,[m("div",vV,[m("div",yV,[e[28]||(e[28]=m("div",{class:"mb-3"},[m("i",{class:"fas fa-university fa-3x text-primary"})],-1)),e[29]||(e[29]=m("h5",{class:"fw-bold mb-3 text-white"},"Virement bancaire",-1)),e[30]||(e[30]=m("p",{class:"text-white-50"}," Contactez-nous pour obtenir nos informations bancaires et effectuer un virement. ",-1)),ce(o,{to:"/nous-joindre",class:"btn btn-primary"},{default:be(()=>[...e[27]||(e[27]=[m("i",{class:"fas fa-envelope me-2"},null,-1),re(" Demander les dtails ",-1)])]),_:1})])])]),m("div",bV,[m("div",wV,[m("div",EV,[e[32]||(e[32]=m("div",{class:"mb-3"},[m("i",{class:"fas fa-hand-holding-heart fa-3x text-danger"})],-1)),e[33]||(e[33]=m("h5",{class:"fw-bold mb-3 text-white"},"Rencontre en personne",-1)),e[34]||(e[34]=m("p",{class:"text-white-50"}," Rencontrez-nous sur le campus de l'Universit Laval pour discuter de votre contribution. ",-1)),ce(o,{to:"/nous-joindre",class:"btn btn-danger"},{default:be(()=>[...e[31]||(e[31]=[m("i",{class:"fas fa-map-marker-alt me-2"},null,-1),re(" Nous rejoindre ",-1)])]),_:1})])])])])])]),e[44]||(e[44]=Qt('<section class="py-5 section-dark" data-v-5d752d22><div class="container" data-v-5d752d22><div class="row" data-v-5d752d22><div class="col-lg-8 mx-auto text-center mb-5" data-v-5d752d22><h2 class="display-5 fw-bold mb-3 text-white" data-v-5d752d22>L&#39;impact de votre don</h2><p class="lead text-white-50" data-v-5d752d22> Comment chaque dollar fait la diffrence </p></div></div><div class="row g-4" data-v-5d752d22><div class="col-lg-3 col-md-6" data-v-5d752d22><div class="card border-0 shadow h-100 card-dark card-hover" data-v-5d752d22><div class="card-body text-center p-4" data-v-5d752d22><div class="mb-3" data-v-5d752d22><i class="fas fa-water fa-3x text-info" data-v-5d752d22></i></div><h4 class="fw-bold text-info" data-v-5d752d22>25$</h4><p class="small text-white-50 mb-0" data-v-5d752d22> Fournit des outils de construction pour un projet d&#39;eau potable </p></div></div></div><div class="col-lg-3 col-md-6" data-v-5d752d22><div class="card border-0 shadow h-100 card-dark card-hover" data-v-5d752d22><div class="card-body text-center p-4" data-v-5d752d22><div class="mb-3" data-v-5d752d22><i class="fas fa-solar-panel fa-3x text-warning" data-v-5d752d22></i></div><h4 class="fw-bold text-warning" data-v-5d752d22>100$</h4><p class="small text-white-50 mb-0" data-v-5d752d22> Contribue  l&#39;achat de panneaux solaires pour notre projet Madagascar </p></div></div></div><div class="col-lg-3 col-md-6" data-v-5d752d22><div class="card border-0 shadow h-100 card-dark card-hover" data-v-5d752d22><div class="card-body text-center p-4" data-v-5d752d22><div class="mb-3" data-v-5d752d22><i class="fas fa-graduation-cap fa-3x text-success" data-v-5d752d22></i></div><h4 class="fw-bold text-success" data-v-5d752d22>250$</h4><p class="small text-white-50 mb-0" data-v-5d752d22> Permet d&#39;organiser une confrence de sensibilisation </p></div></div></div><div class="col-lg-3 col-md-6" data-v-5d752d22><div class="card border-0 shadow h-100 card-dark card-hover" data-v-5d752d22><div class="card-body text-center p-4" data-v-5d752d22><div class="mb-3" data-v-5d752d22><i class="fas fa-school fa-3x text-primary" data-v-5d752d22></i></div><h4 class="fw-bold text-primary" data-v-5d752d22>500$</h4><p class="small text-white-50 mb-0" data-v-5d752d22> Soutient compltement l&#39;quipement d&#39;une salle de classe </p></div></div></div></div></div></section><section class="py-5 section-dark" data-v-5d752d22><div class="container" data-v-5d752d22><div class="row" data-v-5d752d22><div class="col-lg-8 mx-auto text-center mb-5" data-v-5d752d22><h2 class="display-5 fw-bold mb-3 text-white" data-v-5d752d22>Transparence totale</h2><p class="lead text-white-50" data-v-5d752d22> Nous croyons en la transparence dans l&#39;utilisation des fonds </p></div></div><div class="row g-4" data-v-5d752d22><div class="col-lg-4" data-v-5d752d22><div class="card border-0 shadow h-100 card-dark card-hover" data-v-5d752d22><div class="card-body text-center p-4" data-v-5d752d22><div class="mb-3" data-v-5d752d22><i class="fas fa-chart-pie fa-3x text-success" data-v-5d752d22></i></div><h5 class="fw-bold mb-3 text-white" data-v-5d752d22>Utilisation des fonds</h5><p class="text-white-50 mb-0" data-v-5d752d22> 85% des dons vont directement aux projets, 10%  l&#39;administration, 5% aux frais de transaction. </p></div></div></div><div class="col-lg-4" data-v-5d752d22><div class="card border-0 shadow h-100 card-dark card-hover" data-v-5d752d22><div class="card-body text-center p-4" data-v-5d752d22><div class="mb-3" data-v-5d752d22><i class="fas fa-file-alt fa-3x text-info" data-v-5d752d22></i></div><h5 class="fw-bold mb-3 text-white" data-v-5d752d22>Rapports rguliers</h5><p class="text-white-50 mb-0" data-v-5d752d22> Recevez des mises  jour rgulires sur l&#39;avancement des projets que vous soutenez. </p></div></div></div><div class="col-lg-4" data-v-5d752d22><div class="card border-0 shadow h-100 card-dark card-hover" data-v-5d752d22><div class="card-body text-center p-4" data-v-5d752d22><div class="mb-3" data-v-5d752d22><i class="fas fa-users fa-3x text-primary" data-v-5d752d22></i></div><h5 class="fw-bold mb-3 text-white" data-v-5d752d22>Comit de surveillance</h5><p class="text-white-50 mb-0" data-v-5d752d22> Notre comit excutif supervise l&#39;utilisation des fonds et veille  leur bon usage. </p></div></div></div></div></div></section>',2)),m("section",TV,[m("div",IV,[m("div",AV,[m("div",CV,[e[38]||(e[38]=m("h2",{class:"display-5 fw-bold mb-4 text-white"},"Agissez maintenant !",-1)),e[39]||(e[39]=m("p",{class:"lead mb-4 text-white-50"}," Chaque don compte et nous rapproche de notre objectif : crer un impact durable et positif dans le monde. ",-1)),m("div",RV,[m("button",{class:"btn btn-donate btn-lg",onClick:e[3]||(e[3]=l=>i.showDonationModal=!0)},[...e[36]||(e[36]=[m("i",{class:"fas fa-heart me-2"},null,-1),re(" Faire un don maintenant ",-1)])]),ce(o,{to:"/devenir-membre",class:"btn btn-outline-light btn-lg"},{default:be(()=>[...e[37]||(e[37]=[m("i",{class:"fas fa-users me-2"},null,-1),re(" Devenir membre ",-1)])]),_:1})])])])])]),i.showDonationModal?(se(),ie("div",{key:0,class:Fn(["modal fade custom-modal",{show:i.showDonationModal}]),tabindex:"-1",style:Fl({display:i.showDonationModal?"block":"none"}),onClick:e[6]||(e[6]=Xi(l=>i.showDonationModal=!1,["self"]))},[m("div",SV,[m("div",xV,[m("div",PV,[e[40]||(e[40]=m("h5",{class:"modal-title text-white"},[m("i",{class:"fas fa-heart text-danger me-2"}),re(" Faire un don ")],-1)),m("button",{type:"button",class:"btn-close btn-close-white",onClick:e[4]||(e[4]=l=>i.showDonationModal=!1)})]),e[42]||(e[42]=Qt('<div class="modal-body" data-v-5d752d22><p class="mb-4 text-white-50" data-v-5d752d22> Merci pour votre intrt  soutenir ISF Universit Laval ! Cette fonctionnalit sera bientt disponible. </p><div class="alert alert-dark custom-alert" data-v-5d752d22><h6 class="alert-heading mb-2" data-v-5d752d22><i class="fas fa-info-circle me-2 text-info" data-v-5d752d22></i> En attendant </h6><p class="mb-0 text-white-50" data-v-5d752d22> Vous pouvez nous contacter directement  <strong class="text-white" data-v-5d752d22>ulaval@chapter.ewb.ca</strong> ou utiliser nos plateformes de financement participatif. </p></div></div>',1)),m("div",kV,[m("button",{type:"button",class:"btn btn-outline-light",onClick:e[5]||(e[5]=l=>i.showDonationModal=!1)}," Fermer "),e[41]||(e[41]=m("a",{href:"https://www.gofundme.com/f/operation-eau-pour-tous",target:"_blank",class:"btn btn-donate"},[m("i",{class:"fas fa-external-link-alt me-2"}),re(" GoFundMe ")],-1))])])])],6)):Xe("",!0),i.showDonationModal?(se(),ie("div",OV)):Xe("",!0)])}const NV=rn($5,[["render",DV],["__scopeId","data-v-5d752d22"]]);const VV={name:"NousJoindre",data(){return{email:"ulaval@chapter.ewb.ca",copyState:"idle",addressLine:"1045 Av de la Mdecine, Pavillon Alexandre-Vachon, Universit Laval, Qubec, QC, Canada"}},computed:{googleMapsLink(){return`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(this.addressLine)}`},googleMapsEmbed(){return`https://www.google.com/maps?q=${encodeURIComponent(this.addressLine)}&output=embed`}},methods:{async copyEmail(){try{await navigator.clipboard.writeText(this.email),this.copyState="copied",window.setTimeout(()=>this.copyState="idle",2500)}catch{const e=document.createElement("textarea");e.value=this.email,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.copyState="copied",window.setTimeout(()=>this.copyState="idle",2500)}}}},LV={class:"nous-joindre page-dark"},MV={class:"py-5 section-dark"},FV={class:"container"},UV={class:"row g-4"},jV={class:"col-lg-4 col-md-6"},$V={class:"card card-dark h-100"},BV={class:"card-body text-center p-4"},qV={class:"email-pill"},HV=["disabled"],zV={key:0},GV={key:1},WV={key:0,class:"small text-white-50 mt-2"},KV={class:"py-5 section-dark"},QV={class:"container"},YV={class:"row g-4 justify-content-center"},XV={class:"col-lg-10"},JV=["href"],ZV={class:"map-topbar-dark"},eL={class:"map-meta-dark"},tL={class:"map-subtitle-dark"},nL={class:"map-frame-dark"},sL=["src"],iL={class:"py-5 section-dark"},rL={class:"container"},oL={class:"row g-4"},aL={class:"col-lg-4"},lL={class:"card card-dark h-100"},cL={class:"card-body p-4 text-center"},uL={class:"col-lg-4"},dL={class:"card card-dark h-100"},hL={class:"card-body p-4 text-center"},fL={class:"col-lg-4"},pL={class:"card card-dark h-100"},mL={class:"card-body p-4 text-center"},gL={class:"text-center mt-5"};function _L(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("div",LV,[e[25]||(e[25]=Qt('<section class="hero-section hero-dark" data-v-8c0fec44><div class="hero-overlay" data-v-8c0fec44></div><div class="container hero-inner" data-v-8c0fec44><div class="row align-items-center min-vh-75 py-5" data-v-8c0fec44><div class="col-lg-9 mx-auto text-center" data-v-8c0fec44><h1 class="display-4 fw-bold mb-3 text-white" data-v-8c0fec44>Nous joindre</h1><p class="lead mb-0 text-white-50" data-v-8c0fec44> Restons connects  cris-nous ou viens nous voir au Pavillon Alexandre-Vachon. </p></div></div></div></section>',1)),m("section",MV,[m("div",FV,[e[6]||(e[6]=m("div",{class:"row"},[m("div",{class:"col-lg-9 mx-auto text-center mb-5"},[m("h2",{class:"display-6 fw-bold mb-3 text-white"},"Suivez-nous"),m("p",{class:"lead text-white-50 mb-0"}," Rejoignez notre communaut et restez inform de nos activits. ")])],-1)),m("div",UV,[e[5]||(e[5]=Qt('<div class="col-lg-4 col-md-6" data-v-8c0fec44><div class="card card-dark h-100" data-v-8c0fec44><div class="card-body text-center p-4" data-v-8c0fec44><div class="social-icon facebook mb-3" data-v-8c0fec44><i class="fab fa-facebook-f" data-v-8c0fec44></i></div><h5 class="fw-bold mb-2 text-white" data-v-8c0fec44>Facebook</h5><p class="text-white-50 mb-4" data-v-8c0fec44> Page officielle + groupe priv pour les membres. </p><div class="d-flex flex-column gap-2" data-v-8c0fec44><a href="https://www.facebook.com/isfulaval" target="_blank" class="btn btn-primary" rel="noopener" data-v-8c0fec44><i class="fab fa-facebook-f me-2" data-v-8c0fec44></i> Page ISF </a><a href="https://www.facebook.com/groups/534075985970818/" target="_blank" class="btn btn-outline-light" rel="noopener" data-v-8c0fec44><i class="fas fa-users me-2" data-v-8c0fec44></i> Groupe priv </a></div></div></div></div><div class="col-lg-4 col-md-6" data-v-8c0fec44><div class="card card-dark h-100" data-v-8c0fec44><div class="card-body text-center p-4" data-v-8c0fec44><div class="social-icon instagram mb-3" data-v-8c0fec44><i class="fab fa-instagram" data-v-8c0fec44></i></div><h5 class="fw-bold mb-2 text-white" data-v-8c0fec44>Instagram</h5><p class="text-white-50 mb-4" data-v-8c0fec44>Photos, stories, behind-the-scenes.</p><a href="https://www.instagram.com/isfulaval/" target="_blank" class="btn btn-instagram w-100" rel="noopener" data-v-8c0fec44><i class="fab fa-instagram me-2" data-v-8c0fec44></i> Suivre </a></div></div></div><div class="col-lg-4 col-md-6" data-v-8c0fec44><div class="card card-dark h-100" data-v-8c0fec44><div class="card-body text-center p-4" data-v-8c0fec44><div class="social-icon linkedin mb-3" data-v-8c0fec44><i class="fab fa-linkedin-in" data-v-8c0fec44></i></div><h5 class="fw-bold mb-2 text-white" data-v-8c0fec44>LinkedIn</h5><p class="text-white-50 mb-4" data-v-8c0fec44>Infos, projets, partenariats.</p><a href="https://www.linkedin.com/company/isfulaval/posts/?feedView=all" target="_blank" class="btn btn-linkedin w-100" rel="noopener" data-v-8c0fec44><i class="fab fa-linkedin-in me-2" data-v-8c0fec44></i> LinkedIn </a></div></div></div><div class="col-lg-4 col-md-6" data-v-8c0fec44><div class="card card-dark h-100" data-v-8c0fec44><div class="card-body text-center p-4" data-v-8c0fec44><div class="social-icon youtube mb-3" data-v-8c0fec44><i class="fab fa-youtube" data-v-8c0fec44></i></div><h5 class="fw-bold mb-2 text-white" data-v-8c0fec44>YouTube</h5><p class="text-white-50 mb-4" data-v-8c0fec44>Interviews dingnieurs &amp; projets.</p><a href="https://www.youtube.com/@ISF-Ulaval" target="_blank" class="btn btn-youtube w-100" rel="noopener" data-v-8c0fec44><i class="fab fa-youtube me-2" data-v-8c0fec44></i> Chane YouTube </a></div></div></div>',4)),m("div",jV,[m("div",$V,[m("div",BV,[e[2]||(e[2]=m("div",{class:"social-icon email mb-3"},[m("i",{class:"fas fa-envelope"})],-1)),e[3]||(e[3]=m("h5",{class:"fw-bold mb-2 text-white"},"Courriel",-1)),e[4]||(e[4]=m("p",{class:"text-white-50 mb-3"},"Pour toute question / collaboration.",-1)),m("div",qV,Ae(i.email),1),m("button",{type:"button",class:"btn btn-email w-100 mt-3",onClick:e[0]||(e[0]=(...l)=>r.copyEmail&&r.copyEmail(...l)),disabled:i.copyState==="copied"},[e[1]||(e[1]=m("i",{class:"fas fa-copy me-2"},null,-1)),i.copyState==="idle"?(se(),ie("span",zV,"Copier ladresse")):(se(),ie("span",GV,"Copi !"))],8,HV),i.copyState==="copied"?(se(),ie("div",WV," Adresse copi ")):Xe("",!0)])])])])])]),e[26]||(e[26]=Qt('<section class="py-5 section-dark" data-v-8c0fec44><div class="container" data-v-8c0fec44><div class="row" data-v-8c0fec44><div class="col-lg-9 mx-auto text-center mb-5" data-v-8c0fec44><h2 class="display-6 fw-bold mb-3 text-white" data-v-8c0fec44>Nos coordonnes</h2><p class="lead text-white-50 mb-0" data-v-8c0fec44> Pavillon Alexandre-Vachon, Universit Laval. </p></div></div><div class="row g-4 justify-content-center" data-v-8c0fec44><div class="col-lg-8" data-v-8c0fec44><div class="card card-dark h-100" data-v-8c0fec44><div class="card-body p-4" data-v-8c0fec44><h5 class="fw-bold mb-3 text-white" data-v-8c0fec44><i class="fas fa-map-marker-alt text-warning me-2" data-v-8c0fec44></i> Adresse </h5><div class="info-line" data-v-8c0fec44><span class="info-k" data-v-8c0fec44>Local</span><span class="info-v" data-v-8c0fec44>00151</span></div><div class="mt-3 text-white-50" data-v-8c0fec44> 1045 Av de la Mdecine<br data-v-8c0fec44> Pavillon Alexandre-Vachon<br data-v-8c0fec44> Universit Laval<br data-v-8c0fec44> Qubec, QC, Canada </div><div class="mini-note mt-4" data-v-8c0fec44><i class="fas fa-info-circle me-2" data-v-8c0fec44></i> Le local peut parfois tre ferm. </div></div></div></div></div></div></section>',1)),m("section",KV,[m("div",QV,[e[12]||(e[12]=m("div",{class:"row"},[m("div",{class:"col-lg-9 mx-auto text-center mb-5"},[m("h2",{class:"display-6 fw-bold mb-3 text-white"},"Comment nous retrouver"),m("p",{class:"lead text-white-50 mb-0"}," Cliquez sur la carte pour ouvrir Google Maps avec ladresse dj prte. ")])],-1)),m("div",YV,[m("div",XV,[m("a",{class:"map-card-dark",href:r.googleMapsLink,target:"_blank",rel:"noopener","aria-label":"Ouvrir Google Maps",title:"Ouvrir dans Google Maps"},[m("div",ZV,[e[8]||(e[8]=m("div",{class:"map-pin-dark"},[m("i",{class:"fas fa-map-marker-alt"})],-1)),m("div",eL,[e[7]||(e[7]=m("div",{class:"map-title-dark"},"Pavillon Alexandre-Vachon",-1)),m("div",tL,Ae(i.addressLine),1)]),e[9]||(e[9]=m("div",{class:"map-cta-dark"},[m("span",{class:"pill-dark"},[m("i",{class:"fas fa-external-link-alt me-2"}),re("Ouvrir ")])],-1))]),m("div",nL,[m("iframe",{class:"map-iframe-dark",src:r.googleMapsEmbed,loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",allowfullscreen:""},null,8,sL),e[10]||(e[10]=m("div",{class:"map-glow"},null,-1))]),e[11]||(e[11]=m("div",{class:"map-footer-dark"},[m("div",{class:"hint-dark"},[m("i",{class:"fas fa-mouse-pointer me-2"}),re(" Clique pour itinraire + recherche automatique ")])],-1))],8,JV)])])])]),m("section",iL,[m("div",rL,[e[24]||(e[24]=m("div",{class:"row"},[m("div",{class:"col-lg-9 mx-auto text-center mb-5"},[m("h2",{class:"display-6 fw-bold mb-3 text-white"},"Questions frquentes"),m("p",{class:"lead text-white-50 mb-0"},"Quelques rponses rapides.")])],-1)),m("div",oL,[m("div",aL,[m("div",lL,[m("div",cL,[e[14]||(e[14]=m("div",{class:"mb-3"},[m("i",{class:"fas fa-question-circle fa-3x text-warning"})],-1)),e[15]||(e[15]=m("h5",{class:"fw-bold mb-3 text-white"},"Qui peut devenir membre ?",-1)),e[16]||(e[16]=m("p",{class:"text-white-50"}," Tous les tudiants de l'Universit Laval, tous programmes et cycles confondus, ainsi que les diplms rcents. ",-1)),ce(o,{to:"/devenir-membre",class:"btn btn-outline-light"},{default:be(()=>[...e[13]||(e[13]=[re(" En savoir plus ",-1)])]),_:1})])])]),m("div",uL,[m("div",dL,[m("div",hL,[e[18]||(e[18]=Qt('<div class="mb-3" data-v-8c0fec44><i class="fas fa-dollar-sign fa-3x text-success" data-v-8c0fec44></i></div><h5 class="fw-bold mb-3 text-white" data-v-8c0fec44>Cot de l&#39;adhsion ?</h5><p class="text-white-50" data-v-8c0fec44> L&#39;adhsion  ISF est <strong class="text-white" data-v-8c0fec44>entirement gratuite</strong>. </p>',3)),ce(o,{to:"/devenir-membre",class:"btn btn-outline-light"},{default:be(()=>[...e[17]||(e[17]=[re(" Rejoindre maintenant ",-1)])]),_:1})])])]),m("div",fL,[m("div",pL,[m("div",mL,[e[20]||(e[20]=m("div",{class:"mb-3"},[m("i",{class:"fas fa-clock fa-3x text-info"})],-1)),e[21]||(e[21]=m("h5",{class:"fw-bold mb-3 text-white"},"Engagement requis ?",-1)),e[22]||(e[22]=m("p",{class:"text-white-50"}," Aucun engagement minimum ! Participez selon vos disponibilits. ",-1)),ce(o,{to:"/comite-executif",class:"btn btn-outline-light"},{default:be(()=>[...e[19]||(e[19]=[re(" Contacter le comit ",-1)])]),_:1})])])])]),m("div",gL,[ce(o,{to:"/comite-executif",class:"btn btn-accent btn-lg"},{default:be(()=>[...e[23]||(e[23]=[m("i",{class:"fas fa-users me-2"},null,-1),re(" Contacter le comit ",-1)])]),_:1})])])])])}const vL=rn(VV,[["render",_L],["__scopeId","data-v-8c0fec44"]]);const yL={name:"ArticlesPromotionnels",data(){return{orderLink:"https://forms.gle/AmjDeCcUneTFepcT7",announceImage:"/membres/AnnonceDesArticlesEtQRCode.png",items:[{id:"patch",title:"Patch ISF",price:"",imageUrl:"/membres/patch.png"},{id:"patch1",title:"Patch ISF (variante)",price:"",imageUrl:"/membres/patch1.png"},{id:"pull",title:"Pull ISF",price:"",imageUrl:"/membres/pull.png"},{id:"pull1",title:"Pull ISF (variante)",price:"",imageUrl:"/membres/pull1.png"},{id:"totte",title:"Totebag ISF",price:"",imageUrl:"/membres/totte.png"},{id:"totte1",title:"Totebag ISF (variante)",price:"",imageUrl:"/membres/totte1.png"}],lightboxOpen:!1,currentIndex:0}},computed:{currentLightbox(){const t=this.items;if(!t.length)return{title:"",price:"",imageUrl:""};const e=Math.max(0,Math.min(this.currentIndex,t.length-1));return t[e]}},mounted(){window.addEventListener("keydown",this.onKeydown)},beforeUnmount(){window.removeEventListener("keydown",this.onKeydown),document.body.classList.remove("modal-open")},methods:{openLightbox(t){this.currentIndex=t,this.lightboxOpen=!0,document.body.classList.add("modal-open")},closeLightbox(){this.lightboxOpen=!1,document.body.classList.remove("modal-open")},nextImage(){const t=this.items.length;t<=1||(this.currentIndex=(this.currentIndex+1)%t)},prevImage(){const t=this.items.length;t<=1||(this.currentIndex=(this.currentIndex-1+t)%t)},onKeydown(t){this.lightboxOpen&&(t.key==="Escape"&&this.closeLightbox(),t.key==="ArrowRight"&&this.nextImage(),t.key==="ArrowLeft"&&this.prevImage())}}},bL={class:"articles-promotionnels"},wL={class:"hero-section"},EL={class:"container hero-inner"},TL={class:"row align-items-center min-vh-75 py-5"},IL={class:"col-lg-8 mx-auto text-center"},AL=["href"],CL={class:"py-5 section-dark"},RL={class:"container"},SL={class:"announce-card"},xL=["src"],PL={key:1,class:"announce-fallback"},kL={class:"py-5 section-dark"},OL={class:"container"},DL={key:0,class:"events-placeholder"},NL={key:1,class:"row g-4"},VL=["onClick"],LL={class:"product-media"},ML=["src","alt"],FL={key:1,class:"product-img fallback"},UL={class:"card-body p-4"},jL={class:"fw-bold text-white mb-2"},$L={class:"text-white-50 mb-0"},BL={key:0},qL={key:1},HL={class:"text-center mt-5"},zL=["href"],GL={key:0},WL={class:"lb-modal",role:"dialog","aria-modal":"true"},KL=["disabled"],QL={class:"lb-content"},YL=["src","alt"],XL={class:"lb-caption"},JL={class:"lb-title"},ZL={class:"lb-sub"},eM={key:0},tM={key:1},nM=["disabled"],sM={class:"lb-actions"},iM=["href"];function rM(t,e,n,s,i,r){return se(),ie("main",bL,[m("section",wL,[e[7]||(e[7]=m("div",{class:"hero-overlay"},null,-1)),m("div",EL,[m("div",TL,[m("div",IL,[e[5]||(e[5]=m("h1",{class:"display-4 fw-bold mb-3 text-white"},"Merch",-1)),e[6]||(e[6]=m("p",{class:"lead mb-4 text-white-50"}," Dcouvre nos articles officiels ISF Universit Laval ",-1)),m("a",{href:i.orderLink,target:"_blank",class:"btn btn-donate btn-lg",rel:"noreferrer"},[...e[4]||(e[4]=[m("i",{class:"fas fa-external-link-alt me-2"},null,-1),re(" Commander via le formulaire ",-1)])],8,AL)])])])]),m("section",CL,[m("div",RL,[m("div",SL,[i.announceImage?(se(),ie("img",{key:0,src:i.announceImage,alt:"Annonce des articles",class:"announce-img"},null,8,xL)):(se(),ie("div",PL,[...e[8]||(e[8]=[m("div",{class:"fallback-inner"},[m("div",{class:"fw-bold"},"Merch ISF"),m("div",{class:"text-white-50"},"Ajoute une image dannonce dans /public/membres/")],-1)])]))])])]),m("section",kL,[m("div",OL,[e[12]||(e[12]=m("div",{class:"row"},[m("div",{class:"col-lg-8 mx-auto text-center mb-5"},[m("h2",{class:"display-6 fw-bold mb-2 text-white"},"Nos articles"),m("p",{class:"lead text-white-50 mb-0"},"Clique sur un article pour voir la photo en grand.")])],-1)),i.items.length===0?(se(),ie("div",DL,[...e[9]||(e[9]=[m("p",{class:"mb-0 text-white-50"},"Aucun article pour le moment.",-1)])])):(se(),ie("div",NL,[(se(!0),ie(nn,null,ir(i.items,(o,l)=>(se(),ie("div",{key:o.id,class:"col-lg-4 col-md-6"},[m("article",{class:"card card-dark card-hover h-100 product-card",onClick:u=>r.openLightbox(l)},[m("div",LL,[o.imageUrl?(se(),ie("img",{key:0,src:o.imageUrl,alt:o.title,class:"product-img"},null,8,ML)):(se(),ie("div",FL,[...e[10]||(e[10]=[m("div",{class:"fallback-inner"},[m("i",{class:"fas fa-image"}),m("div",{class:"fw-bold mt-2"},"Image manquante")],-1)])]))]),m("div",UL,[m("h5",jL,Ae(o.title),1),m("p",$L,[o.price?(se(),ie("span",BL,"Prix : "+Ae(o.price),1)):(se(),ie("span",qL,""))])])],8,VL)]))),128))])),m("div",HL,[m("a",{href:i.orderLink,target:"_blank",class:"btn btn-donate btn-lg",rel:"noreferrer"},[...e[11]||(e[11]=[m("i",{class:"fas fa-shopping-cart me-2"},null,-1),re(" Commander maintenant ",-1)])],8,zL)])])]),(se(),If(jv,{to:"body"},[i.lightboxOpen?(se(),ie("div",GL,[m("div",{class:"lb-backdrop",onClick:e[0]||(e[0]=(...o)=>r.closeLightbox&&r.closeLightbox(...o))}),m("div",WL,[m("button",{class:"lb-close",onClick:e[1]||(e[1]=(...o)=>r.closeLightbox&&r.closeLightbox(...o)),"aria-label":"Fermer"},[...e[13]||(e[13]=[m("i",{class:"fas fa-times"},null,-1)])]),m("button",{class:"lb-nav lb-prev",onClick:e[2]||(e[2]=(...o)=>r.prevImage&&r.prevImage(...o)),"aria-label":"Prcdent",disabled:i.items.length<=1},[...e[14]||(e[14]=[m("i",{class:"fas fa-chevron-left"},null,-1)])],8,KL),m("div",QL,[m("img",{src:r.currentLightbox.imageUrl,alt:r.currentLightbox.title,class:"lb-img"},null,8,YL),m("div",XL,[m("div",JL,Ae(r.currentLightbox.title),1),m("div",ZL,[r.currentLightbox.price?(se(),ie("span",eM,"Prix : "+Ae(r.currentLightbox.price),1)):(se(),ie("span",tM,""))])])]),m("button",{class:"lb-nav lb-next",onClick:e[3]||(e[3]=(...o)=>r.nextImage&&r.nextImage(...o)),"aria-label":"Suivant",disabled:i.items.length<=1},[...e[15]||(e[15]=[m("i",{class:"fas fa-chevron-right"},null,-1)])],8,nM),m("div",sM,[m("a",{href:i.orderLink,target:"_blank",class:"btn btn-donate",rel:"noreferrer"},[...e[16]||(e[16]=[m("i",{class:"fas fa-external-link-alt me-2"},null,-1),re(" Commander ",-1)])],8,iM)])])])):Xe("",!0)]))])}const oM=rn(yL,[["render",rM],["__scopeId","data-v-1ed4449d"]]);const aM={name:"Documents",data(){return{docs:[{id:"charte",title:"Charte ISF  Universit Laval",category:"Document officiel",description:"La charte officielle de la section ISF Universit Laval.",url:"/documents/charte-isf.pdf",order:1,isVisible:!0}],selected:null,fsOpen:!1}},mounted(){const t=(this.docs||[]).filter(e=>e.isVisible!==!1).sort((e,n)=>(e.order??999)-(n.order??999))[0];this.selected=t||null,window.addEventListener("keydown",this.onKey)},beforeUnmount(){window.removeEventListener("keydown",this.onKey),document.body.style.overflow=""},methods:{select(t){this.selected=t},pdfSrc(t){return`${t}#toolbar=1&navpanes=0&scrollbar=1`},openFullscreen(){var t;(t=this.selected)!=null&&t.url&&(this.fsOpen=!0,document.body.style.overflow="hidden")},closeFullscreen(){this.fsOpen=!1,document.body.style.overflow=""},onKey(t){this.fsOpen&&t.key==="Escape"&&this.closeFullscreen()}}},lM={class:"docs-page"},cM={class:"section-dark py-5"},uM={class:"container"},dM={class:"layout"},hM={class:"list"},fM=["onClick"],pM={class:"doc-title"},mM={class:"doc-meta"},gM={key:0,class:"pill"},_M={class:"pill muted-pill"},vM={key:0,class:"doc-desc"},yM={class:"viewer"},bM={key:0,class:"viewer-empty"},wM={key:1,class:"viewer-card"},EM={class:"viewer-top"},TM={class:"viewer-title"},IM={class:"big"},AM={key:0,class:"small"},CM={class:"viewer-actions"},RM=["href"],SM={class:"viewer-frame"},xM=["src"],PM={key:1,class:"viewer-empty"},kM={class:"fs-modal"},OM={class:"fs-top"},DM={class:"fs-left"},NM={class:"fs-title"},VM={key:0,class:"fs-sub"},LM={class:"fs-actions"},MM=["href"],FM={class:"fs-frame"},UM=["src"];function jM(t,e,n,s,i,r){var o,l,u,d;return se(),ie("main",lM,[e[6]||(e[6]=Qt('<section class="hero" data-v-47e8dfef><div class="hero-overlay" data-v-47e8dfef></div><div class="container hero-inner text-center" data-v-47e8dfef><h1 class="display-4 fw-bold text-white mb-2" data-v-47e8dfef>Documents</h1><p class="lead text-white-50 mb-0" data-v-47e8dfef> Consulte nos documents officiels, rapports et ressources (PDF). </p></div></section>',1)),m("section",cM,[m("div",uM,[e[5]||(e[5]=m("div",{class:"intro"},[m("h2",{class:"intro-title"},"Bibliothque de documents"),m("p",{class:"intro-sub"}," Clique sur un document pour louvrir. Tu peux lafficher en plein cran ou dans un nouvel onglet. ")],-1)),m("div",dM,[m("aside",hM,[(se(!0),ie(nn,null,ir(i.docs,f=>{var g;return se(),ie("button",{key:f.id,class:Fn(["doc-item",{active:((g=i.selected)==null?void 0:g.id)===f.id}]),type:"button",onClick:y=>r.select(f)},[m("div",pM,Ae(f.title),1),m("div",mM,[f.category?(se(),ie("span",gM,Ae(f.category),1)):Xe("",!0),m("span",_M,"Ordre: "+Ae(f.order??999),1)]),f.description?(se(),ie("p",vM,Ae(f.description),1)):Xe("",!0)],10,fM)}),128))]),m("section",yM,[i.selected?(se(),ie("div",wM,[m("div",EM,[m("div",TM,[m("div",IM,Ae(i.selected.title),1),i.selected.category?(se(),ie("div",AM,Ae(i.selected.category),1)):Xe("",!0)]),m("div",CM,[m("button",{class:"btn-ghost",type:"button",onClick:e[0]||(e[0]=(...f)=>r.openFullscreen&&r.openFullscreen(...f))}," Plein cran "),m("a",{class:"btn-open",href:i.selected.url,target:"_blank",rel:"noreferrer"}," Onglet  ",8,RM)])]),m("div",SM,[i.selected.url?(se(),ie("iframe",{key:0,src:r.pdfSrc(i.selected.url),title:"PDF viewer",frameborder:"0"},null,8,xM)):(se(),ie("div",PM,[...e[4]||(e[4]=[m("p",{class:"mb-0 text-white-50"}," Aucun lien PDF fourni pour ce document.",-1)])]))])])):(se(),ie("div",bM,[...e[3]||(e[3]=[m("p",{class:"mb-0 text-white-50"},"Slectionne un document  gauche ",-1)])]))])])])]),(se(),If(jv,{to:"body"},[i.fsOpen?(se(),ie("div",{key:0,class:"fs-backdrop",onClick:e[2]||(e[2]=Xi((...f)=>r.closeFullscreen&&r.closeFullscreen(...f),["self"])),role:"dialog","aria-modal":"true"},[m("div",kM,[m("div",OM,[m("div",DM,[m("div",NM,Ae((o=i.selected)==null?void 0:o.title),1),(l=i.selected)!=null&&l.category?(se(),ie("div",VM,Ae(i.selected.category),1)):Xe("",!0)]),m("div",LM,[(u=i.selected)!=null&&u.url?(se(),ie("a",{key:0,class:"btn-open",href:i.selected.url,target:"_blank",rel:"noreferrer"}," Onglet  ",8,MM)):Xe("",!0),m("button",{class:"btn-ghost",type:"button",onClick:e[1]||(e[1]=(...f)=>r.closeFullscreen&&r.closeFullscreen(...f))}," Fermer ")])]),m("div",FM,[(d=i.selected)!=null&&d.url?(se(),ie("iframe",{key:0,src:r.pdfSrc(i.selected.url),title:"PDF fullscreen viewer",frameborder:"0"},null,8,UM)):Xe("",!0)])])])):Xe("",!0)]))])}const $M=rn(aM,[["render",jM],["__scopeId","data-v-47e8dfef"]]);const BM={name:"AdminLogin",data(){return{email:"",password:"",loading:!1,error:""}},methods:{async login(){this.error="",this.loading=!0;try{await gd().login(this.email,this.password),await this.$router.replace("/admin")}catch(t){this.error=(t==null?void 0:t.message)||"Email ou mot de passe incorrect."}finally{this.loading=!1}}}},qM={class:"admin-login"},HM={class:"card"},zM=["disabled"],GM={key:0,class:"error"};function WM(t,e,n,s,i,r){return se(),ie("main",qM,[m("div",HM,[e[5]||(e[5]=m("h1",null,"Admin  Connexion",-1)),e[6]||(e[6]=m("p",{class:"muted"},"Accs rserv au responsable du site.",-1)),m("form",{onSubmit:e[2]||(e[2]=Xi((...o)=>r.login&&r.login(...o),["prevent"]))},[e[3]||(e[3]=m("label",null,"Email",-1)),sl(m("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.email=o),type:"email",required:""},null,512),[[cu,i.email]]),e[4]||(e[4]=m("label",null,"Mot de passe",-1)),sl(m("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>i.password=o),type:"password",required:""},null,512),[[cu,i.password]]),m("button",{class:"btn",disabled:i.loading},Ae(i.loading?"Connexion...":"Se connecter"),9,zM),i.error?(se(),ie("p",GM,Ae(i.error),1)):Xe("",!0)],32)])])}const KM=rn(BM,[["render",WM],["__scopeId","data-v-6d5351dd"]]);const QM={class:"admin"},YM={class:"container py-5"},XM={class:"card"},JM={class:"muted"},ZM={class:"muted"},e9={class:"grid"},t9={__name:"AdminDashboard",setup(t){const e=DO(),n=gd(),s=Ln(()=>{var o;return((o=n.user)==null?void 0:o.uid)||""}),i=Ln(()=>n.isAdmin);async function r(){await n.logout(),e.replace("/admin/login")}return(o,l)=>{const u=kn("router-link");return se(),ie("main",QM,[m("div",YM,[m("div",{class:"d-flex align-items-center justify-content-between flex-wrap gap-2 mb-4"},[l[0]||(l[0]=m("div",null,[m("h1",{class:"title"},"Dashboard Admin"),m("p",{class:"subtitle"},"Gre le contenu du site.")],-1)),m("button",{class:"btn-ghost",onClick:r},"Se dconnecter")]),m("div",XM,[m("p",JM,[l[1]||(l[1]=re("UID: ",-1)),m("code",null,Ae(s.value),1)]),m("p",ZM,[l[2]||(l[2]=re("Admin: ",-1)),m("strong",null,Ae(i.value?"Oui":"Non"),1)]),m("div",e9,[ce(u,{class:"tile",to:"/admin/projects"},{default:be(()=>[...l[3]||(l[3]=[re("Projets",-1)])]),_:1}),ce(u,{class:"tile",to:"/admin/events"},{default:be(()=>[...l[4]||(l[4]=[re("vnements",-1)])]),_:1}),ce(u,{class:"tile",to:"/admin/activities"},{default:be(()=>[...l[5]||(l[5]=[re("Activits",-1)])]),_:1}),ce(u,{class:"tile",to:"/admin/executif"},{default:be(()=>[...l[6]||(l[6]=[re("Comit",-1)])]),_:1}),ce(u,{class:"tile",to:"/admin/documents"},{default:be(()=>[...l[7]||(l[7]=[re("Documents",-1)])]),_:1}),ce(u,{class:"tile",to:"/admin/merch"},{default:be(()=>[...l[8]||(l[8]=[re("Merch",-1)])]),_:1})])])])])}}},n9=rn(t9,[["__scopeId","data-v-23c59638"]]);const s9={name:"AdminActivities",data(){return{activities:[],modal:{open:!1,mode:"create",id:null},form:{title:"",order:10,isVisible:!0,images:[],cover:""},uploading:!1,saving:!1,_unsub:null}},mounted(){const t=Hw(Xh(Za,"activities"),Nk("order","asc"));this._unsub=Kw(t,e=>{this.activities=e.docs.map(n=>{const s=n.data()||{},i=Array.isArray(s.images)&&s.images||Array.isArray(s.imageUrls)&&s.imageUrls||[],r=s.cover||s.coverUrl||i[0]||"",o=s.isVisible!==void 0?!!s.isVisible:s.published!==!1;return{id:n.id,title:s.title||"",order:Number.isFinite(s.order)?s.order:999,images:i,cover:r,isVisible:o}})})},beforeUnmount(){this._unsub&&this._unsub()},methods:{openCreate(){this.modal={open:!0,mode:"create",id:null},this.form={title:"",order:10,isVisible:!0,images:[],cover:""}},openEdit(t){var e;this.modal={open:!0,mode:"edit",id:t.id},this.form={title:t.title||"",order:Number.isFinite(t.order)?t.order:10,isVisible:t.isVisible!==!1,images:Array.isArray(t.images)?[...t.images]:[],cover:t.cover||((e=t.images)==null?void 0:e[0])||""}},closeModal(){this.modal.open=!1},async onFiles(t){const e=Array.from(t.target.files||[]);if(e.length){this.uploading=!0;try{const n=[];for(const s of e){const i=`activities/${Date.now()}_${s.name}`,r=Y2(n4,i);await K2(r,s);const o=await Q2(r);n.push(o)}this.form.images=[...this.form.images,...n],this.form.cover||(this.form.cover=this.form.images[0]||"")}finally{this.uploading=!1,t.target.value=""}}},removeImg(t){const e=this.form.images[t];this.form.images.splice(t,1),this.form.cover&&this.form.cover===e&&(this.form.cover=this.form.images[0]||""),this.form.cover||(this.form.cover=this.form.images[0]||"")},async save(){this.saving=!0;try{const t=Array.isArray(this.form.images)?this.form.images:[],e=this.form.cover||t[0]||"",n=!!this.form.isVisible,s={title:(this.form.title||"").trim(),order:Number.isFinite(this.form.order)?this.form.order:999,images:t,cover:e,isVisible:n,imageUrls:t,coverUrl:e,published:n,updatedAt:D_()};this.modal.mode==="create"?(s.createdAt=D_(),await Uk(Xh(Za,"activities"),s)):await Mk(Jh(Za,"activities",this.modal.id),s),this.closeModal()}finally{this.saving=!1}},async remove(t){confirm(`Supprimer "${t.title}" ?`)&&await Fk(Jh(Za,"activities",t.id))}}},i9={class:"admin-page"},r9={class:"container"},o9={class:"head"},a9={class:"actions"},l9={class:"list"},c9={class:"left"},u9={key:0,class:"cover"},d9=["src","alt"],h9={class:"meta"},f9={class:"name"},p9={class:"small"},m9={class:"right"},g9=["onClick"],_9=["onClick"],v9={class:"modal-card"},y9={class:"modal-head"},b9={class:"m-title"},w9={class:"modal-body"},E9={key:0,class:"info"},T9={key:1,class:"preview"},I9=["src"],A9=["onClick"],C9={class:"row"},R9={class:"checkbox"},S9={class:"modal-foot"},x9=["disabled"];function P9(t,e,n,s,i,r){const o=kn("router-link");return se(),ie("main",i9,[m("div",r9,[m("header",o9,[e[10]||(e[10]=m("div",null,[m("h1",{class:"title"},"Activits"),m("p",{class:"sub"},"Grer les galeries dactivits.")],-1)),m("div",a9,[ce(o,{class:"btn ghost",to:"/admin"},{default:be(()=>[...e[9]||(e[9]=[re(" Dashboard",-1)])]),_:1}),m("button",{class:"btn",onClick:e[0]||(e[0]=(...l)=>r.openCreate&&r.openCreate(...l))},"+ Ajouter")])]),m("div",l9,[(se(!0),ie(nn,null,ir(i.activities,l=>{var u;return se(),ie("div",{key:l.id,class:"item"},[m("div",c9,[l.cover?(se(),ie("div",u9,[m("img",{src:l.cover,alt:l.title},null,8,d9)])):Xe("",!0),m("div",h9,[m("div",f9,Ae(l.title),1),m("div",p9,[re(Ae(((u=l.images)==null?void 0:u.length)||0)+" image(s)  order: "+Ae(l.order??"-")+"  ",1),m("span",{style:Fl({color:l.isVisible?"#22c55e":"#ef4444"})},Ae(l.isVisible?"Visible":"Masqu"),5)])])]),m("div",m9,[m("button",{class:"btn ghost",onClick:d=>r.openEdit(l)},"Modifier",8,g9),m("button",{class:"btn danger",onClick:d=>r.remove(l)},"Supprimer",8,_9)])])}),128))]),i.modal.open?(se(),ie("div",{key:0,class:"modal",onClick:e[8]||(e[8]=Xi((...l)=>r.closeModal&&r.closeModal(...l),["self"]))},[m("div",v9,[m("div",y9,[m("h2",b9,Ae(i.modal.mode==="create"?"Nouvelle activit":"Modifier lactivit"),1),m("button",{class:"x",onClick:e[1]||(e[1]=(...l)=>r.closeModal&&r.closeModal(...l)),"aria-label":"Fermer"},"")]),m("div",w9,[e[12]||(e[12]=m("label",{class:"label"},"Titre",-1)),sl(m("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=l=>i.form.title=l),placeholder:"Ex: Gala"},null,512),[[cu,i.form.title,void 0,{trim:!0}]]),e[13]||(e[13]=m("label",{class:"label"},"Order (tri daffichage)",-1)),sl(m("input",{class:"input",type:"number","onUpdate:modelValue":e[3]||(e[3]=l=>i.form.order=l)},null,512),[[cu,i.form.order,void 0,{number:!0}]]),e[14]||(e[14]=m("label",{class:"label"},"Images (upload)",-1)),m("input",{class:"input",type:"file",multiple:"",accept:"image/*",onChange:e[4]||(e[4]=(...l)=>r.onFiles&&r.onFiles(...l))},null,32),i.uploading?(se(),ie("div",E9,"Upload en cours")):Xe("",!0),i.form.images.length?(se(),ie("div",T9,[(se(!0),ie(nn,null,ir(i.form.images,(l,u)=>(se(),ie("div",{key:l+u,class:"pimg"},[m("img",{src:l,alt:""},null,8,I9),m("button",{class:"del",onClick:d=>r.removeImg(u),type:"button"},"Retirer",8,A9)]))),128))])):Xe("",!0),m("div",C9,[m("label",R9,[sl(m("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=l=>i.form.isVisible=l)},null,512),[[gI,i.form.isVisible]]),e[11]||(e[11]=re(" Visible sur le site ",-1))])])]),m("div",S9,[m("button",{class:"btn ghost",onClick:e[6]||(e[6]=(...l)=>r.closeModal&&r.closeModal(...l))},"Annuler"),m("button",{class:"btn",onClick:e[7]||(e[7]=(...l)=>r.save&&r.save(...l)),disabled:i.saving||!i.form.title},Ae(i.saving?"Sauvegarde":"Enregistrer"),9,x9)])])])):Xe("",!0)])])}const k9=rn(s9,[["render",P9],["__scopeId","data-v-997ce511"]]),O9=[{path:"/",name:"Home",component:vD},{path:"/qui-sommes-nous",name:"QuiSommesNous",component:MD},{path:"/comite-executif",name:"ComiteExecutif",component:SN},{path:"/devenir-membre",name:"DevenirMembre",component:ON},{path:"/nos-projets",name:"NosProjets",component:l5},{path:"/partenaires",name:"Partenaires",component:E5},{path:"/charte",name:"Charte",component:k5},{path:"/stages",name:"Stages",component:j5},{path:"/faire-un-don",name:"FaireUnDon",component:NV},{path:"/nous-joindre",name:"NousJoindre",component:vL},{path:"/articles-promotionnels",name:"ArticlesPromotionnels",component:oM},{path:"/documents",name:"Documents",component:$M},{path:"/activites",name:"Activites",component:()=>Oo(()=>import("./Activites-3eb2ff67.js"),["assets/Activites-3eb2ff67.js","assets/Activites-e1bd4d2e.css"])},{path:"/admin/login",name:"AdminLogin",component:KM,meta:{publicAdmin:!0}},{path:"/admin",name:"AdminDashboard",component:n9,meta:{requiresAdmin:!0}},{path:"/admin/merch",name:"AdminMerch",component:()=>Oo(()=>import("./AdminMerch-02e03756.js"),["assets/AdminMerch-02e03756.js","assets/AdminMerch-537caddf.css"]),meta:{requiresAdmin:!0}},{path:"/admin/activities",name:"AdminActivities",component:k9,meta:{requiresAdmin:!0}},{path:"/admin/events",name:"AdminEvents",component:()=>Oo(()=>import("./AdminEvents-d1c79325.js"),["assets/AdminEvents-d1c79325.js","assets/AdminEvents-4934714e.css"]),meta:{requiresAdmin:!0}},{path:"/admin/projects",name:"AdminProjects",component:()=>Oo(()=>import("./AdminProjects-05e6eeaa.js"),["assets/AdminProjects-05e6eeaa.js","assets/AdminProjects-26ec12c7.css"]),meta:{requiresAdmin:!0}},{path:"/admin/executif",name:"AdminExecutif",component:()=>Oo(()=>import("./AdminExecutif-fd8509ff.js"),["assets/AdminExecutif-fd8509ff.js","assets/AdminExecutif-16a7bd11.css"]),meta:{requiresAdmin:!0}},{path:"/admin/documents",name:"AdminDocuments",component:()=>Oo(()=>import("./AdminDocuments-9125ba5d.js"),["assets/AdminDocuments-9125ba5d.js","assets/AdminDocuments-93929fa4.css"]),meta:{requiresAdmin:!0}},{path:"/admin/activites",redirect:"/admin/activities"},{path:"/admin/evenements",redirect:"/admin/events"},{path:"/admin/projets",redirect:"/admin/projects"},{path:"/:pathMatch(.*)*",redirect:"/"}],xE=OO({history:uO(),routes:O9});xE.beforeEach(async t=>{const e=gd();if(await e.init(),t.meta.publicAdmin)return!0;if(t.meta.requiresAdmin){if(!e.user)return{path:"/admin/login"};if(!e.isAdmin)return{path:"/"}}return!0});var D9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N9={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,s){t.exports=s()})(D9,function(){const n=new Map,s={set(v,c,p){n.has(v)||n.set(v,new Map);const b=n.get(v);b.has(c)||b.size===0?b.set(c,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(b.keys())[0]}.`)},get:(v,c)=>n.has(v)&&n.get(v).get(c)||null,remove(v,c){if(!n.has(v))return;const p=n.get(v);p.delete(c),p.size===0&&n.delete(v)}},i="transitionend",r=v=>(v&&window.CSS&&window.CSS.escape&&(v=v.replace(/#([^\s"#']+)/g,(c,p)=>`#${CSS.escape(p)}`)),v),o=v=>v==null?`${v}`:Object.prototype.toString.call(v).match(/\s([a-z]+)/i)[1].toLowerCase(),l=v=>{v.dispatchEvent(new Event(i))},u=v=>!(!v||typeof v!="object")&&(v.jquery!==void 0&&(v=v[0]),v.nodeType!==void 0),d=v=>u(v)?v.jquery?v[0]:v:typeof v=="string"&&v.length>0?document.querySelector(r(v)):null,f=v=>{if(!u(v)||v.getClientRects().length===0)return!1;const c=getComputedStyle(v).getPropertyValue("visibility")==="visible",p=v.closest("details:not([open])");if(!p)return c;if(p!==v){const b=v.closest("summary");if(b&&b.parentNode!==p||b===null)return!1}return c},g=v=>!v||v.nodeType!==Node.ELEMENT_NODE||!!v.classList.contains("disabled")||(v.disabled!==void 0?v.disabled:v.hasAttribute("disabled")&&v.getAttribute("disabled")!=="false"),y=v=>{if(!document.documentElement.attachShadow)return null;if(typeof v.getRootNode=="function"){const c=v.getRootNode();return c instanceof ShadowRoot?c:null}return v instanceof ShadowRoot?v:v.parentNode?y(v.parentNode):null},E=()=>{},O=v=>{v.offsetHeight},L=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],H=()=>document.documentElement.dir==="rtl",z=v=>{var c;c=()=>{const p=L();if(p){const b=v.NAME,k=p.fn[b];p.fn[b]=v.jQueryInterface,p.fn[b].Constructor=v,p.fn[b].noConflict=()=>(p.fn[b]=k,v.jQueryInterface)}},document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of M)p()}),M.push(c)):c()},G=(v,c=[],p=v)=>typeof v=="function"?v.call(...c):p,ee=(v,c,p=!0)=>{if(!p)return void G(v);const b=(j=>{if(!j)return 0;let{transitionDuration:X,transitionDelay:ae}=window.getComputedStyle(j);const ge=Number.parseFloat(X),_e=Number.parseFloat(ae);return ge||_e?(X=X.split(",")[0],ae=ae.split(",")[0],1e3*(Number.parseFloat(X)+Number.parseFloat(ae))):0})(c)+5;let k=!1;const D=({target:j})=>{j===c&&(k=!0,c.removeEventListener(i,D),G(v))};c.addEventListener(i,D),setTimeout(()=>{k||l(c)},b)},pe=(v,c,p,b)=>{const k=v.length;let D=v.indexOf(c);return D===-1?!p&&b?v[k-1]:v[0]:(D+=p?1:-1,b&&(D=(D+k)%k),v[Math.max(0,Math.min(D,k-1))])},Ee=/[^.]*(?=\..*)\.|.*/,S=/\..*/,T=/::\d+$/,I={};let x=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},N=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function C(v,c){return c&&`${c}::${x++}`||v.uidEvent||x++}function yt(v){const c=C(v);return v.uidEvent=c,I[c]=I[c]||{},I[c]}function Ut(v,c,p=null){return Object.values(v).find(b=>b.callable===c&&b.delegationSelector===p)}function it(v,c,p){const b=typeof c=="string",k=b?p:c||p;let D=Un(v);return N.has(D)||(D=v),[b,k,D]}function Pe(v,c,p,b,k){if(typeof c!="string"||!v)return;let[D,j,X]=it(c,p,b);c in P&&(j=(De=>function(ke){if(!ke.relatedTarget||ke.relatedTarget!==ke.delegateTarget&&!ke.delegateTarget.contains(ke.relatedTarget))return De.call(this,ke)})(j));const ae=yt(v),ge=ae[X]||(ae[X]={}),_e=Ut(ge,j,D?p:null);if(_e)return void(_e.oneOff=_e.oneOff&&k);const he=C(j,c.replace(Ee,"")),Ue=D?function(Re,De,ke){return function Ne(ct){const gt=Re.querySelectorAll(De);for(let{target:qe}=ct;qe&&qe!==this;qe=qe.parentNode)for(const et of gt)if(et===qe)return Ot(ct,{delegateTarget:qe}),Ne.oneOff&&K.off(Re,ct.type,De,ke),ke.apply(qe,[ct])}}(v,p,j):function(Re,De){return function ke(Ne){return Ot(Ne,{delegateTarget:Re}),ke.oneOff&&K.off(Re,Ne.type,De),De.apply(Re,[Ne])}}(v,j);Ue.delegationSelector=D?p:null,Ue.callable=j,Ue.oneOff=k,Ue.uidEvent=he,ge[he]=Ue,v.addEventListener(X,Ue,D)}function Be(v,c,p,b,k){const D=Ut(c[p],b,k);D&&(v.removeEventListener(p,D,!!k),delete c[p][D.uidEvent])}function cn(v,c,p,b){const k=c[p]||{};for(const[D,j]of Object.entries(k))D.includes(b)&&Be(v,c,p,j.callable,j.delegationSelector)}function Un(v){return v=v.replace(S,""),P[v]||v}const K={on(v,c,p,b){Pe(v,c,p,b,!1)},one(v,c,p,b){Pe(v,c,p,b,!0)},off(v,c,p,b){if(typeof c!="string"||!v)return;const[k,D,j]=it(c,p,b),X=j!==c,ae=yt(v),ge=ae[j]||{},_e=c.startsWith(".");if(D===void 0){if(_e)for(const he of Object.keys(ae))cn(v,ae,he,c.slice(1));for(const[he,Ue]of Object.entries(ge)){const Re=he.replace(T,"");X&&!c.includes(Re)||Be(v,ae,j,Ue.callable,Ue.delegationSelector)}}else{if(!Object.keys(ge).length)return;Be(v,ae,j,D,k?p:null)}},trigger(v,c,p){if(typeof c!="string"||!v)return null;const b=L();let k=null,D=!0,j=!0,X=!1;c!==Un(c)&&b&&(k=b.Event(c,p),b(v).trigger(k),D=!k.isPropagationStopped(),j=!k.isImmediatePropagationStopped(),X=k.isDefaultPrevented());const ae=Ot(new Event(c,{bubbles:D,cancelable:!0}),p);return X&&ae.preventDefault(),j&&v.dispatchEvent(ae),ae.defaultPrevented&&k&&k.preventDefault(),ae}};function Ot(v,c={}){for(const[p,b]of Object.entries(c))try{v[p]=b}catch{Object.defineProperty(v,p,{configurable:!0,get:()=>b})}return v}function Qn(v){if(v==="true")return!0;if(v==="false")return!1;if(v===Number(v).toString())return Number(v);if(v===""||v==="null")return null;if(typeof v!="string")return v;try{return JSON.parse(decodeURIComponent(v))}catch{return v}}function vn(v){return v.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Dt={setDataAttribute(v,c,p){v.setAttribute(`data-bs-${vn(c)}`,p)},removeDataAttribute(v,c){v.removeAttribute(`data-bs-${vn(c)}`)},getDataAttributes(v){if(!v)return{};const c={},p=Object.keys(v.dataset).filter(b=>b.startsWith("bs")&&!b.startsWith("bsConfig"));for(const b of p){let k=b.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1),c[k]=Qn(v.dataset[b])}return c},getDataAttribute:(v,c)=>Qn(v.getAttribute(`data-bs-${vn(c)}`))};class Ct{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,p){const b=u(p)?Dt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof b=="object"?b:{},...u(p)?Dt.getDataAttributes(p):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,p=this.constructor.DefaultType){for(const[b,k]of Object.entries(p)){const D=c[b],j=u(D)?"element":o(D);if(!new RegExp(k).test(j))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${b}" provided type "${j}" but expected type "${k}".`)}}}class B extends Ct{constructor(c,p){super(),(c=d(c))&&(this._element=c,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),K.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,p,b=!0){ee(c,p,b)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return s.get(d(c),this.DATA_KEY)}static getOrCreateInstance(c,p={}){return this.getInstance(c)||new this(c,typeof p=="object"?p:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const de=v=>{let c=v.getAttribute("data-bs-target");if(!c||c==="#"){let p=v.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),c=p&&p!=="#"?p.trim():null}return c?c.split(",").map(p=>r(p)).join(","):null},$={find:(v,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,v)),findOne:(v,c=document.documentElement)=>Element.prototype.querySelector.call(c,v),children:(v,c)=>[].concat(...v.children).filter(p=>p.matches(c)),parents(v,c){const p=[];let b=v.parentNode.closest(c);for(;b;)p.push(b),b=b.parentNode.closest(c);return p},prev(v,c){let p=v.previousElementSibling;for(;p;){if(p.matches(c))return[p];p=p.previousElementSibling}return[]},next(v,c){let p=v.nextElementSibling;for(;p;){if(p.matches(c))return[p];p=p.nextElementSibling}return[]},focusableChildren(v){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(c,v).filter(p=>!g(p)&&f(p))},getSelectorFromElement(v){const c=de(v);return c&&$.findOne(c)?c:null},getElementFromSelector(v){const c=de(v);return c?$.findOne(c):null},getMultipleElementsFromSelector(v){const c=de(v);return c?$.find(c):[]}},ye=(v,c="hide")=>{const p=`click.dismiss${v.EVENT_KEY}`,b=v.NAME;K.on(document,p,`[data-bs-dismiss="${b}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),g(this))return;const D=$.getElementFromSelector(this)||this.closest(`.${b}`);v.getOrCreateInstance(D)[c]()})},Me=".bs.alert",rt=`close${Me}`,A=`closed${Me}`;class R extends B{static get NAME(){return"alert"}close(){if(K.trigger(this._element,rt).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),K.trigger(this._element,A),this.dispose()}static jQueryInterface(c){return this.each(function(){const p=R.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}ye(R,"close"),z(R);const F='[data-bs-toggle="button"]';class Y extends B{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const p=Y.getOrCreateInstance(this);c==="toggle"&&p[c]()})}}K.on(document,"click.bs.button.data-api",F,v=>{v.preventDefault();const c=v.target.closest(F);Y.getOrCreateInstance(c).toggle()}),z(Y);const q=".bs.swipe",J=`touchstart${q}`,le=`touchmove${q}`,ne=`touchend${q}`,te=`pointerdown${q}`,Z=`pointerup${q}`,Ie={endCallback:null,leftCallback:null,rightCallback:null},ue={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ve extends Ct{constructor(c,p){super(),this._element=c,c&&ve.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ie}static get DefaultType(){return ue}static get NAME(){return"swipe"}dispose(){K.off(this._element,q)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const p=c/this._deltaX;this._deltaX=0,p&&G(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(K.on(this._element,te,c=>this._start(c)),K.on(this._element,Z,c=>this._end(c)),this._element.classList.add("pointer-event")):(K.on(this._element,J,c=>this._start(c)),K.on(this._element,le,c=>this._move(c)),K.on(this._element,ne,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const we=".bs.carousel",je=".data-api",Ze="ArrowLeft",We="ArrowRight",Rt="next",bt="prev",Nt="left",Vt="right",jn=`slide${we}`,Is=`slid${we}`,Gt=`keydown${we}`,jt=`mouseenter${we}`,yr=`mouseleave${we}`,Qs=`dragstart${we}`,nc=`load${we}${je}`,br=`click${we}${je}`,ma="carousel",$t="active",ga=".active",Ei=".carousel-item",wr=ga+Ei,yd={[Ze]:Vt,[We]:Nt},bd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ti={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ii extends B{constructor(c,p){super(c,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=$.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ma&&this.cycle()}static get Default(){return bd}static get DefaultType(){return Ti}static get NAME(){return"carousel"}next(){this._slide(Rt)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(bt)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?K.one(this._element,Is,()=>this.cycle()):this.cycle())}to(c){const p=this._getItems();if(c>p.length-1||c<0)return;if(this._isSliding)return void K.one(this._element,Is,()=>this.to(c));const b=this._getItemIndex(this._getActive());if(b===c)return;const k=c>b?Rt:bt;this._slide(k,p[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&K.on(this._element,Gt,c=>this._keydown(c)),this._config.pause==="hover"&&(K.on(this._element,jt,()=>this.pause()),K.on(this._element,yr,()=>this._maybeEnableCycle())),this._config.touch&&ve.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of $.find(".carousel-item img",this._element))K.on(p,Qs,b=>b.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder(Nt)),rightCallback:()=>this._slide(this._directionToOrder(Vt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ve(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const p=yd[c.key];p&&(c.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const p=$.findOne(ga,this._indicatorsElement);p.classList.remove($t),p.removeAttribute("aria-current");const b=$.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);b&&(b.classList.add($t),b.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const p=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(c,p=null){if(this._isSliding)return;const b=this._getActive(),k=c===Rt,D=p||pe(this._getItems(),b,k,this._config.wrap);if(D===b)return;const j=this._getItemIndex(D),X=he=>K.trigger(this._element,he,{relatedTarget:D,direction:this._orderToDirection(c),from:this._getItemIndex(b),to:j});if(X(jn).defaultPrevented||!b||!D)return;const ae=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(j),this._activeElement=D;const ge=k?"carousel-item-start":"carousel-item-end",_e=k?"carousel-item-next":"carousel-item-prev";D.classList.add(_e),O(D),b.classList.add(ge),D.classList.add(ge),this._queueCallback(()=>{D.classList.remove(ge,_e),D.classList.add($t),b.classList.remove($t,_e,ge),this._isSliding=!1,X(Is)},b,this._isAnimated()),ae&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return $.findOne(wr,this._element)}_getItems(){return $.find(Ei,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return H()?c===Nt?bt:Rt:c===Nt?Rt:bt}_orderToDirection(c){return H()?c===bt?Nt:Vt:c===bt?Vt:Nt}static jQueryInterface(c){return this.each(function(){const p=Ii.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}}else p.to(c)})}}K.on(document,br,"[data-bs-slide], [data-bs-slide-to]",function(v){const c=$.getElementFromSelector(this);if(!c||!c.classList.contains(ma))return;v.preventDefault();const p=Ii.getOrCreateInstance(c),b=this.getAttribute("data-bs-slide-to");return b?(p.to(b),void p._maybeEnableCycle()):Dt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),K.on(window,nc,()=>{const v=$.find('[data-bs-ride="carousel"]');for(const c of v)Ii.getOrCreateInstance(c)}),z(Ii);const Er=".bs.collapse",ho=`show${Er}`,sc=`shown${Er}`,ic=`hide${Er}`,_a=`hidden${Er}`,Tr=`click${Er}.data-api`,va="show",yn="collapse",Ir="collapsing",rc=`:scope .${yn} .${yn}`,Ar='[data-bs-toggle="collapse"]',ya={parent:null,toggle:!0},oc={parent:"(null|element)",toggle:"boolean"};class Ai extends B{constructor(c,p){super(c,p),this._isTransitioning=!1,this._triggerArray=[];const b=$.find(Ar);for(const k of b){const D=$.getSelectorFromElement(k),j=$.find(D).filter(X=>X===this._element);D!==null&&j.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ya}static get DefaultType(){return oc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>Ai.getOrCreateInstance(k,{toggle:!1}))),c.length&&c[0]._isTransitioning||K.trigger(this._element,ho).defaultPrevented)return;for(const k of c)k.hide();const p=this._getDimension();this._element.classList.remove(yn),this._element.classList.add(Ir),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const b=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ir),this._element.classList.add(yn,va),this._element.style[p]="",K.trigger(this._element,sc)},this._element,!0),this._element.style[p]=`${this._element[b]}px`}hide(){if(this._isTransitioning||!this._isShown()||K.trigger(this._element,ic).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,O(this._element),this._element.classList.add(Ir),this._element.classList.remove(yn,va);for(const p of this._triggerArray){const b=$.getElementFromSelector(p);b&&!this._isShown(b)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ir),this._element.classList.add(yn),K.trigger(this._element,_a)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(va)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=d(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(Ar);for(const p of c){const b=$.getElementFromSelector(p);b&&this._addAriaAndCollapsedClass([p],this._isShown(b))}}_getFirstLevelChildren(c){const p=$.find(rc,this._config.parent);return $.find(c,this._config.parent).filter(b=>!p.includes(b))}_addAriaAndCollapsedClass(c,p){if(c.length)for(const b of c)b.classList.toggle("collapsed",!p),b.setAttribute("aria-expanded",p)}static jQueryInterface(c){const p={};return typeof c=="string"&&/show|hide/.test(c)&&(p.toggle=!1),this.each(function(){const b=Ai.getOrCreateInstance(this,p);if(typeof c=="string"){if(b[c]===void 0)throw new TypeError(`No method named "${c}"`);b[c]()}})}}K.on(document,Tr,Ar,function(v){(v.target.tagName==="A"||v.delegateTarget&&v.delegateTarget.tagName==="A")&&v.preventDefault();for(const c of $.getMultipleElementsFromSelector(this))Ai.getOrCreateInstance(c,{toggle:!1}).toggle()}),z(Ai);var Xt="top",bn="bottom",Jt="right",Zt="left",Ci="auto",Yn=[Xt,bn,Jt,Zt],wn="start",As="end",ac="clippingParents",fo="viewport",Ys="popper",ba="reference",Cr=Yn.reduce(function(v,c){return v.concat([c+"-"+wn,c+"-"+As])},[]),Rr=[].concat(Yn,[Ci]).reduce(function(v,c){return v.concat([c,c+"-"+wn,c+"-"+As])},[]),wa="beforeRead",Ea="read",Ta="afterRead",lc="beforeMain",ds="main",$n="afterMain",Ri="beforeWrite",Si="write",po="afterWrite",lt=[wa,Ea,Ta,lc,ds,$n,Ri,Si,po];function En(v){return v?(v.nodeName||"").toLowerCase():null}function Wt(v){if(v==null)return window;if(v.toString()!=="[object Window]"){var c=v.ownerDocument;return c&&c.defaultView||window}return v}function Bn(v){return v instanceof Wt(v).Element||v instanceof Element}function On(v){return v instanceof Wt(v).HTMLElement||v instanceof HTMLElement}function mo(v){return typeof ShadowRoot<"u"&&(v instanceof Wt(v).ShadowRoot||v instanceof ShadowRoot)}const Ia={name:"applyStyles",enabled:!0,phase:"write",fn:function(v){var c=v.state;Object.keys(c.elements).forEach(function(p){var b=c.styles[p]||{},k=c.attributes[p]||{},D=c.elements[p];On(D)&&En(D)&&(Object.assign(D.style,b),Object.keys(k).forEach(function(j){var X=k[j];X===!1?D.removeAttribute(j):D.setAttribute(j,X===!0?"":X)}))})},effect:function(v){var c=v.state,p={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,p.popper),c.styles=p,c.elements.arrow&&Object.assign(c.elements.arrow.style,p.arrow),function(){Object.keys(c.elements).forEach(function(b){var k=c.elements[b],D=c.attributes[b]||{},j=Object.keys(c.styles.hasOwnProperty(b)?c.styles[b]:p[b]).reduce(function(X,ae){return X[ae]="",X},{});On(k)&&En(k)&&(Object.assign(k.style,j),Object.keys(D).forEach(function(X){k.removeAttribute(X)}))})}},requires:["computeStyles"]};function Xn(v){return v.split("-")[0]}var Xs=Math.max,go=Math.min,Jn=Math.round;function hs(){var v=navigator.userAgentData;return v!=null&&v.brands&&Array.isArray(v.brands)?v.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Aa(){return!/^((?!chrome|android).)*safari/i.test(hs())}function Js(v,c,p){c===void 0&&(c=!1),p===void 0&&(p=!1);var b=v.getBoundingClientRect(),k=1,D=1;c&&On(v)&&(k=v.offsetWidth>0&&Jn(b.width)/v.offsetWidth||1,D=v.offsetHeight>0&&Jn(b.height)/v.offsetHeight||1);var j=(Bn(v)?Wt(v):window).visualViewport,X=!Aa()&&p,ae=(b.left+(X&&j?j.offsetLeft:0))/k,ge=(b.top+(X&&j?j.offsetTop:0))/D,_e=b.width/k,he=b.height/D;return{width:_e,height:he,top:ge,right:ae+_e,bottom:ge+he,left:ae,x:ae,y:ge}}function _o(v){var c=Js(v),p=v.offsetWidth,b=v.offsetHeight;return Math.abs(c.width-p)<=1&&(p=c.width),Math.abs(c.height-b)<=1&&(b=c.height),{x:v.offsetLeft,y:v.offsetTop,width:p,height:b}}function Ca(v,c){var p=c.getRootNode&&c.getRootNode();if(v.contains(c))return!0;if(p&&mo(p)){var b=c;do{if(b&&v.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}function Zn(v){return Wt(v).getComputedStyle(v)}function xi(v){return["table","td","th"].indexOf(En(v))>=0}function Cs(v){return((Bn(v)?v.ownerDocument:v.document)||window.document).documentElement}function vo(v){return En(v)==="html"?v:v.assignedSlot||v.parentNode||(mo(v)?v.host:null)||Cs(v)}function cc(v){return On(v)&&Zn(v).position!=="fixed"?v.offsetParent:null}function Dn(v){for(var c=Wt(v),p=cc(v);p&&xi(p)&&Zn(p).position==="static";)p=cc(p);return p&&(En(p)==="html"||En(p)==="body"&&Zn(p).position==="static")?c:p||function(b){var k=/firefox/i.test(hs());if(/Trident/i.test(hs())&&On(b)&&Zn(b).position==="fixed")return null;var D=vo(b);for(mo(D)&&(D=D.host);On(D)&&["html","body"].indexOf(En(D))<0;){var j=Zn(D);if(j.transform!=="none"||j.perspective!=="none"||j.contain==="paint"||["transform","perspective"].indexOf(j.willChange)!==-1||k&&j.willChange==="filter"||k&&j.filter&&j.filter!=="none")return D;D=D.parentNode}return null}(v)||c}function Ra(v){return["top","bottom"].indexOf(v)>=0?"x":"y"}function Zs(v,c,p){return Xs(v,go(c,p))}function Sr(v){return Object.assign({},{top:0,right:0,bottom:0,left:0},v)}function Sa(v,c){return c.reduce(function(p,b){return p[b]=v,p},{})}const Pi={name:"arrow",enabled:!0,phase:"main",fn:function(v){var c,p=v.state,b=v.name,k=v.options,D=p.elements.arrow,j=p.modifiersData.popperOffsets,X=Xn(p.placement),ae=Ra(X),ge=[Zt,Jt].indexOf(X)>=0?"height":"width";if(D&&j){var _e=function(ut,at){return Sr(typeof(ut=typeof ut=="function"?ut(Object.assign({},at.rects,{placement:at.placement})):ut)!="number"?ut:Sa(ut,Yn))}(k.padding,p),he=_o(D),Ue=ae==="y"?Xt:Zt,Re=ae==="y"?bn:Jt,De=p.rects.reference[ge]+p.rects.reference[ae]-j[ae]-p.rects.popper[ge],ke=j[ae]-p.rects.reference[ae],Ne=Dn(D),ct=Ne?ae==="y"?Ne.clientHeight||0:Ne.clientWidth||0:0,gt=De/2-ke/2,qe=_e[Ue],et=ct-he[ge]-_e[Re],$e=ct/2-he[ge]/2+gt,Qe=Zs(qe,$e,et),ot=ae;p.modifiersData[b]=((c={})[ot]=Qe,c.centerOffset=Qe-$e,c)}},effect:function(v){var c=v.state,p=v.options.element,b=p===void 0?"[data-popper-arrow]":p;b!=null&&(typeof b!="string"||(b=c.elements.popper.querySelector(b)))&&Ca(c.elements.popper,b)&&(c.elements.arrow=b)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function es(v){return v.split("-")[1]}var uc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yo(v){var c,p=v.popper,b=v.popperRect,k=v.placement,D=v.variation,j=v.offsets,X=v.position,ae=v.gpuAcceleration,ge=v.adaptive,_e=v.roundOffsets,he=v.isFixed,Ue=j.x,Re=Ue===void 0?0:Ue,De=j.y,ke=De===void 0?0:De,Ne=typeof _e=="function"?_e({x:Re,y:ke}):{x:Re,y:ke};Re=Ne.x,ke=Ne.y;var ct=j.hasOwnProperty("x"),gt=j.hasOwnProperty("y"),qe=Zt,et=Xt,$e=window;if(ge){var Qe=Dn(p),ot="clientHeight",ut="clientWidth";Qe===Wt(p)&&Zn(Qe=Cs(p)).position!=="static"&&X==="absolute"&&(ot="scrollHeight",ut="scrollWidth"),(k===Xt||(k===Zt||k===Jt)&&D===As)&&(et=bn,ke-=(he&&Qe===$e&&$e.visualViewport?$e.visualViewport.height:Qe[ot])-b.height,ke*=ae?1:-1),k!==Zt&&(k!==Xt&&k!==bn||D!==As)||(qe=Jt,Re-=(he&&Qe===$e&&$e.visualViewport?$e.visualViewport.width:Qe[ut])-b.width,Re*=ae?1:-1)}var at,Lt=Object.assign({position:X},ge&&uc),qn=_e===!0?function(ms,In){var ss=ms.x,is=ms.y,St=In.devicePixelRatio||1;return{x:Jn(ss*St)/St||0,y:Jn(is*St)/St||0}}({x:Re,y:ke},Wt(p)):{x:Re,y:ke};return Re=qn.x,ke=qn.y,ae?Object.assign({},Lt,((at={})[et]=gt?"0":"",at[qe]=ct?"0":"",at.transform=($e.devicePixelRatio||1)<=1?"translate("+Re+"px, "+ke+"px)":"translate3d("+Re+"px, "+ke+"px, 0)",at)):Object.assign({},Lt,((c={})[et]=gt?ke+"px":"",c[qe]=ct?Re+"px":"",c.transform="",c))}const pt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(v){var c=v.state,p=v.options,b=p.gpuAcceleration,k=b===void 0||b,D=p.adaptive,j=D===void 0||D,X=p.roundOffsets,ae=X===void 0||X,ge={placement:Xn(c.placement),variation:es(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:k,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,yo(Object.assign({},ge,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:j,roundOffsets:ae})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,yo(Object.assign({},ge,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ae})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var bo={passive:!0};const xa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(v){var c=v.state,p=v.instance,b=v.options,k=b.scroll,D=k===void 0||k,j=b.resize,X=j===void 0||j,ae=Wt(c.elements.popper),ge=[].concat(c.scrollParents.reference,c.scrollParents.popper);return D&&ge.forEach(function(_e){_e.addEventListener("scroll",p.update,bo)}),X&&ae.addEventListener("resize",p.update,bo),function(){D&&ge.forEach(function(_e){_e.removeEventListener("scroll",p.update,bo)}),X&&ae.removeEventListener("resize",p.update,bo)}},data:{}};var dc={left:"right",right:"left",bottom:"top",top:"bottom"};function xr(v){return v.replace(/left|right|bottom|top/g,function(c){return dc[c]})}var hc={start:"end",end:"start"};function Pr(v){return v.replace(/start|end/g,function(c){return hc[c]})}function ts(v){var c=Wt(v);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function wo(v){return Js(Cs(v)).left+ts(v).scrollLeft}function Pa(v){var c=Zn(v),p=c.overflow,b=c.overflowX,k=c.overflowY;return/auto|scroll|overlay|hidden/.test(p+k+b)}function ki(v){return["html","body","#document"].indexOf(En(v))>=0?v.ownerDocument.body:On(v)&&Pa(v)?v:ki(vo(v))}function Oi(v,c){var p;c===void 0&&(c=[]);var b=ki(v),k=b===((p=v.ownerDocument)==null?void 0:p.body),D=Wt(b),j=k?[D].concat(D.visualViewport||[],Pa(b)?b:[]):b,X=c.concat(j);return k?X:X.concat(Oi(vo(j)))}function kr(v){return Object.assign({},v,{left:v.x,top:v.y,right:v.x+v.width,bottom:v.y+v.height})}function Or(v,c,p){return c===fo?kr(function(b,k){var D=Wt(b),j=Cs(b),X=D.visualViewport,ae=j.clientWidth,ge=j.clientHeight,_e=0,he=0;if(X){ae=X.width,ge=X.height;var Ue=Aa();(Ue||!Ue&&k==="fixed")&&(_e=X.offsetLeft,he=X.offsetTop)}return{width:ae,height:ge,x:_e+wo(b),y:he}}(v,p)):Bn(c)?function(b,k){var D=Js(b,!1,k==="fixed");return D.top=D.top+b.clientTop,D.left=D.left+b.clientLeft,D.bottom=D.top+b.clientHeight,D.right=D.left+b.clientWidth,D.width=b.clientWidth,D.height=b.clientHeight,D.x=D.left,D.y=D.top,D}(c,p):kr(function(b){var k,D=Cs(b),j=ts(b),X=(k=b.ownerDocument)==null?void 0:k.body,ae=Xs(D.scrollWidth,D.clientWidth,X?X.scrollWidth:0,X?X.clientWidth:0),ge=Xs(D.scrollHeight,D.clientHeight,X?X.scrollHeight:0,X?X.clientHeight:0),_e=-j.scrollLeft+wo(b),he=-j.scrollTop;return Zn(X||D).direction==="rtl"&&(_e+=Xs(D.clientWidth,X?X.clientWidth:0)-ae),{width:ae,height:ge,x:_e,y:he}}(Cs(v)))}function ka(v){var c,p=v.reference,b=v.element,k=v.placement,D=k?Xn(k):null,j=k?es(k):null,X=p.x+p.width/2-b.width/2,ae=p.y+p.height/2-b.height/2;switch(D){case Xt:c={x:X,y:p.y-b.height};break;case bn:c={x:X,y:p.y+p.height};break;case Jt:c={x:p.x+p.width,y:ae};break;case Zt:c={x:p.x-b.width,y:ae};break;default:c={x:p.x,y:p.y}}var ge=D?Ra(D):null;if(ge!=null){var _e=ge==="y"?"height":"width";switch(j){case wn:c[ge]=c[ge]-(p[_e]/2-b[_e]/2);break;case As:c[ge]=c[ge]+(p[_e]/2-b[_e]/2)}}return c}function fs(v,c){c===void 0&&(c={});var p=c,b=p.placement,k=b===void 0?v.placement:b,D=p.strategy,j=D===void 0?v.strategy:D,X=p.boundary,ae=X===void 0?ac:X,ge=p.rootBoundary,_e=ge===void 0?fo:ge,he=p.elementContext,Ue=he===void 0?Ys:he,Re=p.altBoundary,De=Re!==void 0&&Re,ke=p.padding,Ne=ke===void 0?0:ke,ct=Sr(typeof Ne!="number"?Ne:Sa(Ne,Yn)),gt=Ue===Ys?ba:Ys,qe=v.rects.popper,et=v.elements[De?gt:Ue],$e=function(In,ss,is,St){var ks=ss==="clippingParents"?function(dt){var An=Oi(vo(dt)),rs=["absolute","fixed"].indexOf(Zn(dt).position)>=0&&On(dt)?Dn(dt):dt;return Bn(rs)?An.filter(function(Li){return Bn(Li)&&Ca(Li,rs)&&En(Li)!=="body"}):[]}(In):[].concat(ss),Os=[].concat(ks,[is]),So=Os[0],en=Os.reduce(function(dt,An){var rs=Or(In,An,St);return dt.top=Xs(rs.top,dt.top),dt.right=go(rs.right,dt.right),dt.bottom=go(rs.bottom,dt.bottom),dt.left=Xs(rs.left,dt.left),dt},Or(In,So,St));return en.width=en.right-en.left,en.height=en.bottom-en.top,en.x=en.left,en.y=en.top,en}(Bn(et)?et:et.contextElement||Cs(v.elements.popper),ae,_e,j),Qe=Js(v.elements.reference),ot=ka({reference:Qe,element:qe,placement:k}),ut=kr(Object.assign({},qe,ot)),at=Ue===Ys?ut:Qe,Lt={top:$e.top-at.top+ct.top,bottom:at.bottom-$e.bottom+ct.bottom,left:$e.left-at.left+ct.left,right:at.right-$e.right+ct.right},qn=v.modifiersData.offset;if(Ue===Ys&&qn){var ms=qn[k];Object.keys(Lt).forEach(function(In){var ss=[Jt,bn].indexOf(In)>=0?1:-1,is=[Xt,bn].indexOf(In)>=0?"y":"x";Lt[In]+=ms[is]*ss})}return Lt}function wd(v,c){c===void 0&&(c={});var p=c,b=p.placement,k=p.boundary,D=p.rootBoundary,j=p.padding,X=p.flipVariations,ae=p.allowedAutoPlacements,ge=ae===void 0?Rr:ae,_e=es(b),he=_e?X?Cr:Cr.filter(function(De){return es(De)===_e}):Yn,Ue=he.filter(function(De){return ge.indexOf(De)>=0});Ue.length===0&&(Ue=he);var Re=Ue.reduce(function(De,ke){return De[ke]=fs(v,{placement:ke,boundary:k,rootBoundary:D,padding:j})[Xn(ke)],De},{});return Object.keys(Re).sort(function(De,ke){return Re[De]-Re[ke]})}const Oa={name:"flip",enabled:!0,phase:"main",fn:function(v){var c=v.state,p=v.options,b=v.name;if(!c.modifiersData[b]._skip){for(var k=p.mainAxis,D=k===void 0||k,j=p.altAxis,X=j===void 0||j,ae=p.fallbackPlacements,ge=p.padding,_e=p.boundary,he=p.rootBoundary,Ue=p.altBoundary,Re=p.flipVariations,De=Re===void 0||Re,ke=p.allowedAutoPlacements,Ne=c.options.placement,ct=Xn(Ne),gt=ae||(ct!==Ne&&De?function(dt){if(Xn(dt)===Ci)return[];var An=xr(dt);return[Pr(dt),An,Pr(An)]}(Ne):[xr(Ne)]),qe=[Ne].concat(gt).reduce(function(dt,An){return dt.concat(Xn(An)===Ci?wd(c,{placement:An,boundary:_e,rootBoundary:he,padding:ge,flipVariations:De,allowedAutoPlacements:ke}):An)},[]),et=c.rects.reference,$e=c.rects.popper,Qe=new Map,ot=!0,ut=qe[0],at=0;at<qe.length;at++){var Lt=qe[at],qn=Xn(Lt),ms=es(Lt)===wn,In=[Xt,bn].indexOf(qn)>=0,ss=In?"width":"height",is=fs(c,{placement:Lt,boundary:_e,rootBoundary:he,altBoundary:Ue,padding:ge}),St=In?ms?Jt:Zt:ms?bn:Xt;et[ss]>$e[ss]&&(St=xr(St));var ks=xr(St),Os=[];if(D&&Os.push(is[qn]<=0),X&&Os.push(is[St]<=0,is[ks]<=0),Os.every(function(dt){return dt})){ut=Lt,ot=!1;break}Qe.set(Lt,Os)}if(ot)for(var So=function(dt){var An=qe.find(function(rs){var Li=Qe.get(rs);if(Li)return Li.slice(0,dt).every(function(Ec){return Ec})});if(An)return ut=An,"break"},en=De?3:1;en>0&&So(en)!=="break";en--);c.placement!==ut&&(c.modifiersData[b]._skip=!0,c.placement=ut,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Di(v,c,p){return p===void 0&&(p={x:0,y:0}),{top:v.top-c.height-p.y,right:v.right-c.width+p.x,bottom:v.bottom-c.height+p.y,left:v.left-c.width-p.x}}function Da(v){return[Xt,Jt,bn,Zt].some(function(c){return v[c]>=0})}const Na={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(v){var c=v.state,p=v.name,b=c.rects.reference,k=c.rects.popper,D=c.modifiersData.preventOverflow,j=fs(c,{elementContext:"reference"}),X=fs(c,{altBoundary:!0}),ae=Di(j,b),ge=Di(X,k,D),_e=Da(ae),he=Da(ge);c.modifiersData[p]={referenceClippingOffsets:ae,popperEscapeOffsets:ge,isReferenceHidden:_e,hasPopperEscaped:he},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":_e,"data-popper-escaped":he})}},Eo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(v){var c=v.state,p=v.options,b=v.name,k=p.offset,D=k===void 0?[0,0]:k,j=Rr.reduce(function(_e,he){return _e[he]=function(Ue,Re,De){var ke=Xn(Ue),Ne=[Zt,Xt].indexOf(ke)>=0?-1:1,ct=typeof De=="function"?De(Object.assign({},Re,{placement:Ue})):De,gt=ct[0],qe=ct[1];return gt=gt||0,qe=(qe||0)*Ne,[Zt,Jt].indexOf(ke)>=0?{x:qe,y:gt}:{x:gt,y:qe}}(he,c.rects,D),_e},{}),X=j[c.placement],ae=X.x,ge=X.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=ae,c.modifiersData.popperOffsets.y+=ge),c.modifiersData[b]=j}},Dr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(v){var c=v.state,p=v.name;c.modifiersData[p]=ka({reference:c.rects.reference,element:c.rects.popper,placement:c.placement})},data:{}},Va={name:"preventOverflow",enabled:!0,phase:"main",fn:function(v){var c=v.state,p=v.options,b=v.name,k=p.mainAxis,D=k===void 0||k,j=p.altAxis,X=j!==void 0&&j,ae=p.boundary,ge=p.rootBoundary,_e=p.altBoundary,he=p.padding,Ue=p.tether,Re=Ue===void 0||Ue,De=p.tetherOffset,ke=De===void 0?0:De,Ne=fs(c,{boundary:ae,rootBoundary:ge,padding:he,altBoundary:_e}),ct=Xn(c.placement),gt=es(c.placement),qe=!gt,et=Ra(ct),$e=et==="x"?"y":"x",Qe=c.modifiersData.popperOffsets,ot=c.rects.reference,ut=c.rects.popper,at=typeof ke=="function"?ke(Object.assign({},c.rects,{placement:c.placement})):ke,Lt=typeof at=="number"?{mainAxis:at,altAxis:at}:Object.assign({mainAxis:0,altAxis:0},at),qn=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,ms={x:0,y:0};if(Qe){if(D){var In,ss=et==="y"?Xt:Zt,is=et==="y"?bn:Jt,St=et==="y"?"height":"width",ks=Qe[et],Os=ks+Ne[ss],So=ks-Ne[is],en=Re?-ut[St]/2:0,dt=gt===wn?ot[St]:ut[St],An=gt===wn?-ut[St]:-ot[St],rs=c.elements.arrow,Li=Re&&rs?_o(rs):{width:0,height:0},Ec=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},am=Ec[ss],lm=Ec[is],Tc=Zs(0,ot[St],Li[St]),z1=qe?ot[St]/2-en-Tc-am-Lt.mainAxis:dt-Tc-am-Lt.mainAxis,G1=qe?-ot[St]/2+en+Tc+lm+Lt.mainAxis:An+Tc+lm+Lt.mainAxis,Dd=c.elements.arrow&&Dn(c.elements.arrow),W1=Dd?et==="y"?Dd.clientTop||0:Dd.clientLeft||0:0,cm=(In=qn==null?void 0:qn[et])!=null?In:0,K1=ks+G1-cm,um=Zs(Re?go(Os,ks+z1-cm-W1):Os,ks,Re?Xs(So,K1):So);Qe[et]=um,ms[et]=um-ks}if(X){var dm,Q1=et==="x"?Xt:Zt,Y1=et==="x"?bn:Jt,$r=Qe[$e],Ic=$e==="y"?"height":"width",hm=$r+Ne[Q1],fm=$r-Ne[Y1],Nd=[Xt,Zt].indexOf(ct)!==-1,pm=(dm=qn==null?void 0:qn[$e])!=null?dm:0,mm=Nd?hm:$r-ot[Ic]-ut[Ic]-pm+Lt.altAxis,gm=Nd?$r+ot[Ic]+ut[Ic]-pm-Lt.altAxis:fm,_m=Re&&Nd?function(X1,J1,Vd){var vm=Zs(X1,J1,Vd);return vm>Vd?Vd:vm}(mm,$r,gm):Zs(Re?mm:hm,$r,Re?gm:fm);Qe[$e]=_m,ms[$e]=_m-$r}c.modifiersData[b]=ms}},requiresIfExists:["offset"]};function To(v,c,p){p===void 0&&(p=!1);var b,k,D=On(c),j=On(c)&&function(he){var Ue=he.getBoundingClientRect(),Re=Jn(Ue.width)/he.offsetWidth||1,De=Jn(Ue.height)/he.offsetHeight||1;return Re!==1||De!==1}(c),X=Cs(c),ae=Js(v,j,p),ge={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(D||!D&&!p)&&((En(c)!=="body"||Pa(X))&&(ge=(b=c)!==Wt(b)&&On(b)?{scrollLeft:(k=b).scrollLeft,scrollTop:k.scrollTop}:ts(b)),On(c)?((_e=Js(c,!0)).x+=c.clientLeft,_e.y+=c.clientTop):X&&(_e.x=wo(X))),{x:ae.left+ge.scrollLeft-_e.x,y:ae.top+ge.scrollTop-_e.y,width:ae.width,height:ae.height}}function fc(v){var c=new Map,p=new Set,b=[];function k(D){p.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(j){if(!p.has(j)){var X=c.get(j);X&&k(X)}}),b.push(D)}return v.forEach(function(D){c.set(D.name,D)}),v.forEach(function(D){p.has(D.name)||k(D)}),b}var La={placement:"bottom",modifiers:[],strategy:"absolute"};function Rs(){for(var v=arguments.length,c=new Array(v),p=0;p<v;p++)c[p]=arguments[p];return!c.some(function(b){return!(b&&typeof b.getBoundingClientRect=="function")})}function Nr(v){v===void 0&&(v={});var c=v,p=c.defaultModifiers,b=p===void 0?[]:p,k=c.defaultOptions,D=k===void 0?La:k;return function(j,X,ae){ae===void 0&&(ae=D);var ge,_e,he={placement:"bottom",orderedModifiers:[],options:Object.assign({},La,D),modifiersData:{},elements:{reference:j,popper:X},attributes:{},styles:{}},Ue=[],Re=!1,De={state:he,setOptions:function(Ne){var ct=typeof Ne=="function"?Ne(he.options):Ne;ke(),he.options=Object.assign({},D,he.options,ct),he.scrollParents={reference:Bn(j)?Oi(j):j.contextElement?Oi(j.contextElement):[],popper:Oi(X)};var gt,qe,et=function($e){var Qe=fc($e);return lt.reduce(function(ot,ut){return ot.concat(Qe.filter(function(at){return at.phase===ut}))},[])}((gt=[].concat(b,he.options.modifiers),qe=gt.reduce(function($e,Qe){var ot=$e[Qe.name];return $e[Qe.name]=ot?Object.assign({},ot,Qe,{options:Object.assign({},ot.options,Qe.options),data:Object.assign({},ot.data,Qe.data)}):Qe,$e},{}),Object.keys(qe).map(function($e){return qe[$e]})));return he.orderedModifiers=et.filter(function($e){return $e.enabled}),he.orderedModifiers.forEach(function($e){var Qe=$e.name,ot=$e.options,ut=ot===void 0?{}:ot,at=$e.effect;if(typeof at=="function"){var Lt=at({state:he,name:Qe,instance:De,options:ut});Ue.push(Lt||function(){})}}),De.update()},forceUpdate:function(){if(!Re){var Ne=he.elements,ct=Ne.reference,gt=Ne.popper;if(Rs(ct,gt)){he.rects={reference:To(ct,Dn(gt),he.options.strategy==="fixed"),popper:_o(gt)},he.reset=!1,he.placement=he.options.placement,he.orderedModifiers.forEach(function(at){return he.modifiersData[at.name]=Object.assign({},at.data)});for(var qe=0;qe<he.orderedModifiers.length;qe++)if(he.reset!==!0){var et=he.orderedModifiers[qe],$e=et.fn,Qe=et.options,ot=Qe===void 0?{}:Qe,ut=et.name;typeof $e=="function"&&(he=$e({state:he,options:ot,name:ut,instance:De})||he)}else he.reset=!1,qe=-1}}},update:(ge=function(){return new Promise(function(Ne){De.forceUpdate(),Ne(he)})},function(){return _e||(_e=new Promise(function(Ne){Promise.resolve().then(function(){_e=void 0,Ne(ge())})})),_e}),destroy:function(){ke(),Re=!0}};if(!Rs(j,X))return De;function ke(){Ue.forEach(function(Ne){return Ne()}),Ue=[]}return De.setOptions(ae).then(function(Ne){!Re&&ae.onFirstUpdate&&ae.onFirstUpdate(Ne)}),De}}var pc=Nr(),mc=Nr({defaultModifiers:[xa,Dr,pt,Ia]}),Io=Nr({defaultModifiers:[xa,Dr,pt,Ia,Eo,Oa,Va,Pi,Na]});const Vr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$n,afterRead:Ta,afterWrite:po,applyStyles:Ia,arrow:Pi,auto:Ci,basePlacements:Yn,beforeMain:lc,beforeRead:wa,beforeWrite:Ri,bottom:bn,clippingParents:ac,computeStyles:pt,createPopper:Io,createPopperBase:pc,createPopperLite:mc,detectOverflow:fs,end:As,eventListeners:xa,flip:Oa,hide:Na,left:Zt,main:ds,modifierPhases:lt,offset:Eo,placements:Rr,popper:Ys,popperGenerator:Nr,popperOffsets:Dr,preventOverflow:Va,read:Ea,reference:ba,right:Jt,start:wn,top:Xt,variationPlacements:Cr,viewport:fo,write:Si},Symbol.toStringTag,{value:"Module"})),un="dropdown",Ss=".bs.dropdown",Ao=".data-api",Ni="ArrowUp",a="ArrowDown",h=`hide${Ss}`,_=`hidden${Ss}`,w=`show${Ss}`,V=`shown${Ss}`,U=`click${Ss}${Ao}`,oe=`keydown${Ss}${Ao}`,Fe=`keyup${Ss}${Ao}`,mt="show",Ke='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Bt=`${Ke}.${mt}`,Tn=".dropdown-menu",ei=H()?"top-end":"top-start",xs=H()?"top-start":"top-end",Ps=H()?"bottom-end":"bottom-start",Co=H()?"bottom-start":"bottom-end",Ma=H()?"left-start":"right-start",PE=H()?"right-start":"left-start",kE={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},OE={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ps extends B{constructor(c,p){super(c,p),this._popper=null,this._parent=this._element.parentNode,this._menu=$.next(this._element,Tn)[0]||$.prev(this._element,Tn)[0]||$.findOne(Tn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return kE}static get DefaultType(){return OE}static get NAME(){return un}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!K.trigger(this._element,w,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))K.on(p,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(mt),this._element.classList.add(mt),K.trigger(this._element,V,c)}}hide(){if(g(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!K.trigger(this._element,h,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))K.off(p,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(mt),this._element.classList.remove(mt),this._element.setAttribute("aria-expanded","false"),Dt.removeDataAttribute(this._menu,"popper"),K.trigger(this._element,_,c)}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!u(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${un.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(Vr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let c=this._element;this._config.reference==="parent"?c=this._parent:u(this._config.reference)?c=d(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const p=this._getPopperConfig();this._popper=Io(c,this._menu,p)}_isShown(){return this._menu.classList.contains(mt)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return Ma;if(c.classList.contains("dropstart"))return PE;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?p?xs:ei:p?Co:Ps}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Dt.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...G(this._config.popperConfig,[void 0,c])}}_selectMenuItem({key:c,target:p}){const b=$.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>f(k));b.length&&pe(b,p,c===a,!b.includes(p)).focus()}static jQueryInterface(c){return this.each(function(){const p=ps.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const p=$.find(Bt);for(const b of p){const k=ps.getInstance(b);if(!k||k._config.autoClose===!1)continue;const D=c.composedPath(),j=D.includes(k._menu);if(D.includes(k._element)||k._config.autoClose==="inside"&&!j||k._config.autoClose==="outside"&&j||k._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const X={relatedTarget:k._element};c.type==="click"&&(X.clickEvent=c),k._completeHide(X)}}static dataApiKeydownHandler(c){const p=/input|textarea/i.test(c.target.tagName),b=c.key==="Escape",k=[Ni,a].includes(c.key);if(!k&&!b||p&&!b)return;c.preventDefault();const D=this.matches(Ke)?this:$.prev(this,Ke)[0]||$.next(this,Ke)[0]||$.findOne(Ke,c.delegateTarget.parentNode),j=ps.getOrCreateInstance(D);if(k)return c.stopPropagation(),j.show(),void j._selectMenuItem(c);j._isShown()&&(c.stopPropagation(),j.hide(),D.focus())}}K.on(document,oe,Ke,ps.dataApiKeydownHandler),K.on(document,oe,Tn,ps.dataApiKeydownHandler),K.on(document,U,ps.clearMenus),K.on(document,Fe,ps.clearMenus),K.on(document,U,Ke,function(v){v.preventDefault(),ps.getOrCreateInstance(this).toggle()}),z(ps);const xp="backdrop",Pp="show",kp=`mousedown.bs.${xp}`,DE={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},NE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Op extends Ct{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return DE}static get DefaultType(){return NE}static get NAME(){return xp}show(c){if(!this._config.isVisible)return void G(c);this._append();const p=this._getElement();this._config.isAnimated&&O(p),p.classList.add(Pp),this._emulateAnimation(()=>{G(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(Pp),this._emulateAnimation(()=>{this.dispose(),G(c)})):G(c)}dispose(){this._isAppended&&(K.off(this._element,kp),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=d(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),K.on(c,kp,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){ee(c,this._getElement(),this._config.isAnimated)}}const gc=".bs.focustrap",VE=`focusin${gc}`,LE=`keydown.tab${gc}`,Dp="backward",ME={autofocus:!0,trapElement:null},FE={autofocus:"boolean",trapElement:"element"};class Np extends Ct{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ME}static get DefaultType(){return FE}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),K.off(document,gc),K.on(document,VE,c=>this._handleFocusin(c)),K.on(document,LE,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,K.off(document,gc))}_handleFocusin(c){const{trapElement:p}=this._config;if(c.target===document||c.target===p||p.contains(c.target))return;const b=$.focusableChildren(p);b.length===0?p.focus():this._lastTabNavDirection===Dp?b[b.length-1].focus():b[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?Dp:"forward")}}const Vp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Lp=".sticky-top",_c="padding-right",Mp="margin-right";class Ed{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,_c,p=>p+c),this._setElementAttributes(Vp,_c,p=>p+c),this._setElementAttributes(Lp,Mp,p=>p-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,_c),this._resetElementAttributes(Vp,_c),this._resetElementAttributes(Lp,Mp)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,p,b){const k=this.getWidth();this._applyManipulationCallback(c,D=>{if(D!==this._element&&window.innerWidth>D.clientWidth+k)return;this._saveInitialAttribute(D,p);const j=window.getComputedStyle(D).getPropertyValue(p);D.style.setProperty(p,`${b(Number.parseFloat(j))}px`)})}_saveInitialAttribute(c,p){const b=c.style.getPropertyValue(p);b&&Dt.setDataAttribute(c,p,b)}_resetElementAttributes(c,p){this._applyManipulationCallback(c,b=>{const k=Dt.getDataAttribute(b,p);k!==null?(Dt.removeDataAttribute(b,p),b.style.setProperty(p,k)):b.style.removeProperty(p)})}_applyManipulationCallback(c,p){if(u(c))p(c);else for(const b of $.find(c,this._element))p(b)}}const ns=".bs.modal",UE=`hide${ns}`,jE=`hidePrevented${ns}`,Fp=`hidden${ns}`,Up=`show${ns}`,$E=`shown${ns}`,BE=`resize${ns}`,qE=`click.dismiss${ns}`,HE=`mousedown.dismiss${ns}`,zE=`keydown.dismiss${ns}`,GE=`click${ns}.data-api`,jp="modal-open",$p="show",Td="modal-static",WE={backdrop:!0,focus:!0,keyboard:!0},KE={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Lr extends B{constructor(c,p){super(c,p),this._dialog=$.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ed,this._addEventListeners()}static get Default(){return WE}static get DefaultType(){return KE}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||K.trigger(this._element,Up,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(jp),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(K.trigger(this._element,UE).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($p),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){K.off(window,ns),K.off(this._dialog,ns),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Op({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Np({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=$.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),O(this._element),this._element.classList.add($p),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,K.trigger(this._element,$E,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){K.on(this._element,zE,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),K.on(window,BE,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),K.on(this._element,HE,c=>{K.one(this._element,qE,p=>{this._element===c.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(jp),this._resetAdjustments(),this._scrollBar.reset(),K.trigger(this._element,Fp)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(K.trigger(this._element,jE).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(Td)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(Td),this._queueCallback(()=>{this._element.classList.remove(Td),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),b=p>0;if(b&&!c){const k=H()?"paddingLeft":"paddingRight";this._element.style[k]=`${p}px`}if(!b&&c){const k=H()?"paddingRight":"paddingLeft";this._element.style[k]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,p){return this.each(function(){const b=Lr.getOrCreateInstance(this,c);if(typeof c=="string"){if(b[c]===void 0)throw new TypeError(`No method named "${c}"`);b[c](p)}})}}K.on(document,GE,'[data-bs-toggle="modal"]',function(v){const c=$.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&v.preventDefault(),K.one(c,Up,b=>{b.defaultPrevented||K.one(c,Fp,()=>{f(this)&&this.focus()})});const p=$.findOne(".modal.show");p&&Lr.getInstance(p).hide(),Lr.getOrCreateInstance(c).toggle(this)}),ye(Lr),z(Lr);const ti=".bs.offcanvas",Bp=".data-api",QE=`load${ti}${Bp}`,qp="show",Hp="showing",zp="hiding",Gp=".offcanvas.show",YE=`show${ti}`,XE=`shown${ti}`,JE=`hide${ti}`,Wp=`hidePrevented${ti}`,Kp=`hidden${ti}`,ZE=`resize${ti}`,e1=`click${ti}${Bp}`,t1=`keydown.dismiss${ti}`,n1={backdrop:!0,keyboard:!0,scroll:!1},s1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ni extends B{constructor(c,p){super(c,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return n1}static get DefaultType(){return s1}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||K.trigger(this._element,YE,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ed().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hp),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(qp),this._element.classList.remove(Hp),K.trigger(this._element,XE,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(K.trigger(this._element,JE).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(zp),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(qp,zp),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ed().reset(),K.trigger(this._element,Kp)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new Op({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():K.trigger(this._element,Wp)}:null})}_initializeFocusTrap(){return new Np({trapElement:this._element})}_addEventListeners(){K.on(this._element,t1,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():K.trigger(this._element,Wp))})}static jQueryInterface(c){return this.each(function(){const p=ni.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}K.on(document,e1,'[data-bs-toggle="offcanvas"]',function(v){const c=$.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),g(this))return;K.one(c,Kp,()=>{f(this)&&this.focus()});const p=$.findOne(Gp);p&&p!==c&&ni.getInstance(p).hide(),ni.getOrCreateInstance(c).toggle(this)}),K.on(window,QE,()=>{for(const v of $.find(Gp))ni.getOrCreateInstance(v).show()}),K.on(window,ZE,()=>{for(const v of $.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(v).position!=="fixed"&&ni.getOrCreateInstance(v).hide()}),ye(ni),z(ni);const Qp={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},i1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),r1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,o1=(v,c)=>{const p=v.nodeName.toLowerCase();return c.includes(p)?!i1.has(p)||!!r1.test(v.nodeValue):c.filter(b=>b instanceof RegExp).some(b=>b.test(p))},a1={allowList:Qp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},l1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},c1={entry:"(string|element|function|null)",selector:"(string|element)"};class u1 extends Ct{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return a1}static get DefaultType(){return l1}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[k,D]of Object.entries(this._config.content))this._setContent(c,D,k);const p=c.children[0],b=this._resolvePossibleFunction(this._config.extraClass);return b&&p.classList.add(...b.split(" ")),p}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[p,b]of Object.entries(c))super._typeCheckConfig({selector:p,entry:b},c1)}_setContent(c,p,b){const k=$.findOne(b,c);k&&((p=this._resolvePossibleFunction(p))?u(p)?this._putElementInTemplate(d(p),k):this._config.html?k.innerHTML=this._maybeSanitize(p):k.textContent=p:k.remove())}_maybeSanitize(c){return this._config.sanitize?function(p,b,k){if(!p.length)return p;if(k&&typeof k=="function")return k(p);const D=new window.DOMParser().parseFromString(p,"text/html"),j=[].concat(...D.body.querySelectorAll("*"));for(const X of j){const ae=X.nodeName.toLowerCase();if(!Object.keys(b).includes(ae)){X.remove();continue}const ge=[].concat(...X.attributes),_e=[].concat(b["*"]||[],b[ae]||[]);for(const he of ge)o1(he,_e)||X.removeAttribute(he.nodeName)}return D.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return G(c,[void 0,this])}_putElementInTemplate(c,p){if(this._config.html)return p.innerHTML="",void p.append(c);p.textContent=c.textContent}}const d1=new Set(["sanitize","allowList","sanitizeFn"]),Id="fade",vc="show",h1=".tooltip-inner",Yp=".modal",Xp="hide.bs.modal",Fa="hover",Ad="focus",Cd="click",f1={AUTO:"auto",TOP:"top",RIGHT:H()?"left":"right",BOTTOM:"bottom",LEFT:H()?"right":"left"},p1={allowList:Qp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},m1={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Mr extends B{constructor(c,p){if(Vr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(c,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return p1}static get DefaultType(){return m1}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),K.off(this._element.closest(Yp),Xp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=K.trigger(this._element,this.constructor.eventName("show")),p=(y(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const b=this._getTipElement();this._element.setAttribute("aria-describedby",b.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(b),K.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(b),b.classList.add(vc),"ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))K.on(D,"mouseover",E);this._queueCallback(()=>{K.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!K.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(vc),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))K.off(c,"mouseover",E);this._activeTrigger[Cd]=!1,this._activeTrigger[Ad]=!1,this._activeTrigger[Fa]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),K.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const p=this._getTemplateFactory(c).toHtml();if(!p)return null;p.classList.remove(Id,vc),p.classList.add(`bs-${this.constructor.NAME}-auto`);const b=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return p.setAttribute("id",b),this._isAnimated()&&p.classList.add(Id),p}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new u1({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[h1]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Id)}_isShown(){return this.tip&&this.tip.classList.contains(vc)}_createPopper(c){const p=G(this._config.placement,[this,c,this._element]),b=f1[p.toUpperCase()];return Io(this._element,c,this._getPopperConfig(b))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_resolvePossibleFunction(c){return G(c,[this._element,this._element])}_getPopperConfig(c){const p={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:b=>{this._getTipElement().setAttribute("data-popper-placement",b.state.placement)}}]};return{...p,...G(this._config.popperConfig,[void 0,p])}}_setListeners(){const c=this._config.trigger.split(" ");for(const p of c)if(p==="click")K.on(this._element,this.constructor.eventName("click"),this._config.selector,b=>{const k=this._initializeOnDelegatedTarget(b);k._activeTrigger[Cd]=!(k._isShown()&&k._activeTrigger[Cd]),k.toggle()});else if(p!=="manual"){const b=p===Fa?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=p===Fa?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");K.on(this._element,b,this._config.selector,D=>{const j=this._initializeOnDelegatedTarget(D);j._activeTrigger[D.type==="focusin"?Ad:Fa]=!0,j._enter()}),K.on(this._element,k,this._config.selector,D=>{const j=this._initializeOnDelegatedTarget(D);j._activeTrigger[D.type==="focusout"?Ad:Fa]=j._element.contains(D.relatedTarget),j._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},K.on(this._element.closest(Yp),Xp,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,p){clearTimeout(this._timeout),this._timeout=setTimeout(c,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const p=Dt.getDataAttributes(this._element);for(const b of Object.keys(p))d1.has(b)&&delete p[b];return c={...p,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:d(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[p,b]of Object.entries(this._config))this.constructor.Default[p]!==b&&(c[p]=b);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const p=Mr.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}z(Mr);const g1=".popover-header",_1=".popover-body",v1={...Mr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},y1={...Mr.DefaultType,content:"(null|string|element|function)"};class yc extends Mr{static get Default(){return v1}static get DefaultType(){return y1}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[g1]:this._getTitle(),[_1]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const p=yc.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}z(yc);const Rd=".bs.scrollspy",b1=`activate${Rd}`,Jp=`click${Rd}`,w1=`load${Rd}.data-api`,Ro="active",Sd="[href]",Zp=".nav-link",E1=`${Zp}, .nav-item > ${Zp}, .list-group-item`,T1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},I1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ua extends B{constructor(c,p){super(c,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return T1}static get DefaultType(){return I1}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=d(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(p=>Number.parseFloat(p))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(K.off(this._config.target,Jp),K.on(this._config.target,Jp,Sd,c=>{const p=this._observableSections.get(c.target.hash);if(p){c.preventDefault();const b=this._rootElement||window,k=p.offsetTop-this._element.offsetTop;if(b.scrollTo)return void b.scrollTo({top:k,behavior:"smooth"});b.scrollTop=k}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),c)}_observerCallback(c){const p=j=>this._targetLinks.get(`#${j.target.id}`),b=j=>{this._previousScrollData.visibleEntryTop=j.target.offsetTop,this._process(p(j))},k=(this._rootElement||document.documentElement).scrollTop,D=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const j of c){if(!j.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(j));continue}const X=j.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(D&&X){if(b(j),!k)return}else D||X||b(j)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=$.find(Sd,this._config.target);for(const p of c){if(!p.hash||g(p))continue;const b=$.findOne(decodeURI(p.hash),this._element);f(b)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,b))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(Ro),this._activateParents(c),K.trigger(this._element,b1,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))$.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(Ro);else for(const p of $.parents(c,".nav, .list-group"))for(const b of $.prev(p,E1))b.classList.add(Ro)}_clearActiveClass(c){c.classList.remove(Ro);const p=$.find(`${Sd}.${Ro}`,c);for(const b of p)b.classList.remove(Ro)}static jQueryInterface(c){return this.each(function(){const p=Ua.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}K.on(window,w1,()=>{for(const v of $.find('[data-bs-spy="scroll"]'))Ua.getOrCreateInstance(v)}),z(Ua);const Fr=".bs.tab",A1=`hide${Fr}`,C1=`hidden${Fr}`,R1=`show${Fr}`,S1=`shown${Fr}`,x1=`click${Fr}`,P1=`keydown${Fr}`,k1=`load${Fr}`,O1="ArrowLeft",em="ArrowRight",D1="ArrowUp",tm="ArrowDown",xd="Home",nm="End",Ur="active",sm="fade",Pd="show",im=".dropdown-toggle",kd=`:not(${im})`,rm='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Od=`.nav-link${kd}, .list-group-item${kd}, [role="tab"]${kd}, ${rm}`,N1=`.${Ur}[data-bs-toggle="tab"], .${Ur}[data-bs-toggle="pill"], .${Ur}[data-bs-toggle="list"]`;class jr extends B{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),K.on(this._element,P1,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const p=this._getActiveElem(),b=p?K.trigger(p,A1,{relatedTarget:c}):null;K.trigger(c,R1,{relatedTarget:p}).defaultPrevented||b&&b.defaultPrevented||(this._deactivate(p,c),this._activate(c,p))}_activate(c,p){c&&(c.classList.add(Ur),this._activate($.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),K.trigger(c,S1,{relatedTarget:p})):c.classList.add(Pd)},c,c.classList.contains(sm)))}_deactivate(c,p){c&&(c.classList.remove(Ur),c.blur(),this._deactivate($.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),K.trigger(c,C1,{relatedTarget:p})):c.classList.remove(Pd)},c,c.classList.contains(sm)))}_keydown(c){if(![O1,em,D1,tm,xd,nm].includes(c.key))return;c.stopPropagation(),c.preventDefault();const p=this._getChildren().filter(k=>!g(k));let b;if([xd,nm].includes(c.key))b=p[c.key===xd?0:p.length-1];else{const k=[em,tm].includes(c.key);b=pe(p,c.target,k,!0)}b&&(b.focus({preventScroll:!0}),jr.getOrCreateInstance(b).show())}_getChildren(){return $.find(Od,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,p){this._setAttributeIfNotExists(c,"role","tablist");for(const b of p)this._setInitialAttributesOnChild(b)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const p=this._elemIsActive(c),b=this._getOuterElement(c);c.setAttribute("aria-selected",p),b!==c&&this._setAttributeIfNotExists(b,"role","presentation"),p||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const p=$.getElementFromSelector(c);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,p){const b=this._getOuterElement(c);if(!b.classList.contains("dropdown"))return;const k=(D,j)=>{const X=$.findOne(D,b);X&&X.classList.toggle(j,p)};k(im,Ur),k(".dropdown-menu",Pd),b.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(c,p,b){c.hasAttribute(p)||c.setAttribute(p,b)}_elemIsActive(c){return c.classList.contains(Ur)}_getInnerElement(c){return c.matches(Od)?c:$.findOne(Od,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const p=jr.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}K.on(document,x1,rm,function(v){["A","AREA"].includes(this.tagName)&&v.preventDefault(),g(this)||jr.getOrCreateInstance(this).show()}),K.on(window,k1,()=>{for(const v of $.find(N1))jr.getOrCreateInstance(v)}),z(jr);const Vi=".bs.toast",V1=`mouseover${Vi}`,L1=`mouseout${Vi}`,M1=`focusin${Vi}`,F1=`focusout${Vi}`,U1=`hide${Vi}`,j1=`hidden${Vi}`,$1=`show${Vi}`,B1=`shown${Vi}`,om="hide",bc="show",wc="showing",q1={animation:"boolean",autohide:"boolean",delay:"number"},H1={animation:!0,autohide:!0,delay:5e3};class ja extends B{constructor(c,p){super(c,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return H1}static get DefaultType(){return q1}static get NAME(){return"toast"}show(){K.trigger(this._element,$1).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(om),O(this._element),this._element.classList.add(bc,wc),this._queueCallback(()=>{this._element.classList.remove(wc),K.trigger(this._element,B1),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(K.trigger(this._element,U1).defaultPrevented||(this._element.classList.add(wc),this._queueCallback(()=>{this._element.classList.add(om),this._element.classList.remove(wc,bc),K.trigger(this._element,j1)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(bc),super.dispose()}isShown(){return this._element.classList.contains(bc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,p){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const b=c.relatedTarget;this._element===b||this._element.contains(b)||this._maybeScheduleHide()}_setListeners(){K.on(this._element,V1,c=>this._onInteraction(c,!0)),K.on(this._element,L1,c=>this._onInteraction(c,!1)),K.on(this._element,M1,c=>this._onInteraction(c,!0)),K.on(this._element,F1,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const p=ja.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c](this)}})}}return ye(ja),z(ja),{Alert:R,Button:Y,Carousel:Ii,Collapse:Ai,Dropdown:ps,Modal:Lr,Offcanvas:ni,Popover:yc,ScrollSpy:Ua,Tab:jr,Toast:ja,Tooltip:Mr}})})(N9);const Sp=EI(I4),V9=AI();Sp.use(V9);nb(Zc,t=>{console.log("FIREBASE AUTH USER =",t),console.log("UID =",t==null?void 0:t.uid),console.log("EMAIL =",t==null?void 0:t.email)});Sp.use(xE);Sp.mount("#app");export{Za as A,F9 as B,U9 as C,D_ as D,Mk as E,nn as F,Uk as G,Fk as H,Fl as I,Y2 as J,n4 as K,j9 as L,Q2 as M,K2 as N,rn as _,m as a,Xe as b,ie as c,re as d,eg as e,_f as f,jl as g,Ln as h,e0 as i,Nk as j,Xh as k,Kw as l,s0 as m,Fn as n,se as o,kn as p,Hw as q,ir as r,ce as s,Ae as t,be as u,sl as v,Xi as w,cu as x,L9 as y,Jh as z};
