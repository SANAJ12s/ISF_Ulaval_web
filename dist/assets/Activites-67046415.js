import{_ as C,o,c as a,a as e,F as g,r as h,w as k,t as r,b as w,d as y,e as G,n as I}from"./index-78fee844.js";const A={name:"Activites",data(){return{activities:[{id:"chalet",title:"Sortie Chalet",cover:"/activites/chalet1.png",images:["/activites/chalet1.png","/activites/chalet2.png","/activites/chalet3.png","/activites/chalet4.png","/activites/chalet5.png","/activites/chalet6.png","/activites/chalet7.png","/activites/chalet8.png"]},{id:"gala",title:"Gala",cover:"/activites/Gala1.png",images:["/activites/Gala1.png","/activites/Gala2.png","/activites/Gala3.png","/activites/Gala4.png","/activites/Gala5.png","/activites/Gala6.png"]},{id:"midiconf",title:"Midi-conférence",cover:"/activites/midiconf1.png",images:["/activites/midiconf1.png","/activites/midiconf2.png","/activites/midiconf3.png","/activites/midiconf4.png"]},{id:"visite-david",title:"Visite (David)",cover:"/activites/visiteDavid1.png",images:["/activites/visiteDavid1.png","/activites/visiteDavid2.png","/activites/visiteDavid3.png","/activites/visiteDavid4.png"]},{id:"friperie",title:"Friperie ISF",cover:"/activites/visiteDavid3.png",images:["/activites/visiteDavid3.png"]}],lightbox:{open:!1,activityIndex:0,index:0}}},computed:{currentActivity(){var s;return((s=this.activities)==null?void 0:s[this.lightbox.activityIndex])||null},currentImage(){var s,t;return((t=(s=this.currentActivity)==null?void 0:s.images)==null?void 0:t[this.lightbox.index])||""}},methods:{scrollTo(s){this.$nextTick(()=>{const t=document.getElementById(s);if(!t)return;const c=90,b=t.getBoundingClientRect().top+window.scrollY-c;window.scrollTo({top:b,behavior:"smooth"})})},openGallery(s,t=0){this.lightbox.activityIndex=s,this.lightbox.index=t,this.lightbox.open=!0,document.body.style.overflow="hidden",window.addEventListener("keydown",this.onKey)},closeGallery(){this.lightbox.open=!1,document.body.style.overflow="",window.removeEventListener("keydown",this.onKey)},nextImg(){var t,c;const s=((c=(t=this.currentActivity)==null?void 0:t.images)==null?void 0:c.length)||0;s&&(this.lightbox.index=(this.lightbox.index+1)%s)},prevImg(){var t,c;const s=((c=(t=this.currentActivity)==null?void 0:t.images)==null?void 0:c.length)||0;s&&(this.lightbox.index=(this.lightbox.index-1+s)%s)},goTo(s){this.lightbox.index=s},onKey(s){this.lightbox.open&&(s.key==="Escape"&&this.closeGallery(),s.key==="ArrowRight"&&this.nextImg(),s.key==="ArrowLeft"&&this.prevImg())}},mounted(){},beforeUnmount(){window.removeEventListener("keydown",this.onKey),document.body.style.overflow=""}},D={class:"activities-page"},K={class:"hero"},T={class:"container hero-inner"},E={class:"row align-items-center min-vh-60 py-5"},B={class:"col-lg-10 mx-auto text-center"},F={class:"chips"},L=["onClick"],N={class:"section-dark py-5"},S={class:"container"},V={class:"stack"},P=["id"],M=["onClick","onKeydown"],R=["src","alt"],q={class:"activity-badge"},z={class:"activity-hover"},U={class:"hover-inner"},Y={class:"hover-title"},j={class:"activity-content"},H={class:"activity-title"},J={class:"thumbs"},O=["onClick"],Q=["src","alt"],W=["onClick"],X={class:"lb-card",role:"dialog","aria-modal":"true"},Z={class:"lb-top"},$={class:"lb-title"},tt={class:"lb-count"},et={class:"lb-media"},it=["src","alt"],st={class:"lb-dots"},lt=["onClick","aria-label"];function nt(s,t,c,b,v,l){var p,_,f,x;return o(),a("main",D,[e("section",K,[t[7]||(t[7]=e("div",{class:"hero-overlay"},null,-1)),e("div",T,[e("div",E,[e("div",B,[t[5]||(t[5]=e("h1",{class:"display-4 fw-bold mb-3 text-white"},"Nos activités",-1)),t[6]||(t[6]=e("p",{class:"lead text-white-50 mb-4"}," Des moments fun, des rencontres, et de l’engagement ✨ ",-1)),e("div",F,[(o(!0),a(g,null,h(v.activities,i=>(o(),a("button",{key:i.id,type:"button",class:"chip",onClick:n=>l.scrollTo(i.id)},[t[4]||(t[4]=e("i",{class:"fas fa-image me-2"},null,-1)),y(" "+r(i.title),1)],8,L))),128))])])])])]),e("section",N,[e("div",S,[e("div",V,[(o(!0),a(g,null,h(v.activities,(i,n)=>{var u;return o(),a("article",{key:i.id,class:"activity card-dark",id:i.id},[e("div",{class:"activity-media",onClick:d=>l.openGallery(n,0),role:"button",tabindex:"0",onKeydown:[G(d=>l.openGallery(n,0),["enter"]),G(k(d=>l.openGallery(n,0),["prevent"]),["space"])]},[e("img",{class:"activity-img",src:((u=i.images)==null?void 0:u[0])||i.cover,alt:`Photo - ${i.title}`},null,8,R),e("div",q,[t[8]||(t[8]=e("i",{class:"fas fa-camera me-2"},null,-1)),y(" "+r(i.images.length)+" photos ",1)]),e("div",z,[e("div",U,[e("div",Y,r(i.title),1),t[9]||(t[9]=e("div",{class:"hover-cta"},[y(" Cliquer pour voir la galerie "),e("i",{class:"fas fa-arrow-right ms-2"})],-1))])])],40,M),e("div",j,[e("h2",H,r(i.title),1),e("div",J,[(o(!0),a(g,null,h(i.images.slice(0,10),(d,m)=>(o(),a("button",{key:d+m,class:"thumb",onClick:ot=>l.openGallery(n,m),type:"button"},[e("img",{src:d,alt:`${i.title} - ${m+1}`},null,8,Q)],8,O))),128)),i.images.length>10?(o(),a("button",{key:0,class:"thumb more",type:"button",onClick:d=>l.openGallery(n,0)}," +"+r(i.images.length-10),9,W)):w("",!0)])])],8,P)}),128))])])]),v.lightbox.open?(o(),a("div",{key:0,class:"lightbox",onClick:t[3]||(t[3]=k((...i)=>l.closeGallery&&l.closeGallery(...i),["self"]))},[e("button",{class:"lb-close",type:"button",onClick:t[0]||(t[0]=(...i)=>l.closeGallery&&l.closeGallery(...i)),"aria-label":"Fermer"},[...t[10]||(t[10]=[e("i",{class:"fas fa-times"},null,-1)])]),e("button",{class:"lb-nav prev",type:"button",onClick:t[1]||(t[1]=(...i)=>l.prevImg&&l.prevImg(...i)),"aria-label":"Précédent"},[...t[11]||(t[11]=[e("i",{class:"fas fa-chevron-left"},null,-1)])]),e("div",X,[e("div",Z,[e("div",$,r((p=l.currentActivity)==null?void 0:p.title),1),e("div",tt,r(v.lightbox.index+1)+" / "+r(((_=l.currentActivity)==null?void 0:_.images.length)||0),1)]),e("div",et,[e("img",{class:"lb-img",src:l.currentImage,alt:((f=l.currentActivity)==null?void 0:f.title)||"Photo activité"},null,8,it)]),e("div",st,[(o(!0),a(g,null,h(((x=l.currentActivity)==null?void 0:x.images)||[],(i,n)=>(o(),a("button",{key:i+n,class:I(["dot",{active:n===v.lightbox.index}]),type:"button",onClick:u=>l.goTo(n),"aria-label":`Aller à l'image ${n+1}`},null,10,lt))),128))])]),e("button",{class:"lb-nav next",type:"button",onClick:t[2]||(t[2]=(...i)=>l.nextImg&&l.nextImg(...i)),"aria-label":"Suivant"},[...t[12]||(t[12]=[e("i",{class:"fas fa-chevron-right"},null,-1)])])])):w("",!0)])}const ct=C(A,[["render",nt],["__scopeId","data-v-970e8ba6"]]);export{ct as default};
